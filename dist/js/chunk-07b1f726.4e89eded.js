(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07b1f726"],{2689:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var o=i("6ac9");const s={el:null,data:null,viewData:null,readonly:!1,layout:o["a"].LAYOUT.LOGICAL_STRUCTURE,fishboneDeg:45,theme:"default",themeConfig:{},scaleRatio:.2,translateRatio:1,minZoomRatio:20,maxZoomRatio:400,customCheckIsTouchPad:null,mouseScaleCenterUseMousePosition:!0,maxTag:5,expandBtnSize:20,imgTextMargin:5,textContentMargin:2,customNoteContentShow:null,textAutoWrapWidth:500,customHandleMousewheel:null,mousewheelAction:o["a"].MOUSE_WHEEL_ACTION.MOVE,mousewheelMoveStep:100,mousewheelZoomActionReverse:!0,defaultInsertSecondLevelNodeText:"二级节点",defaultInsertBelowSecondLevelNodeText:"分支主题",expandBtnStyle:{color:"#808080",fill:"#fff",fontSize:13,strokeColor:"#333333"},expandBtnIcon:{open:"",close:""},expandBtnNumHandler:null,isShowExpandNum:!0,enableShortcutOnlyWhenMouseInSvg:!0,customCheckEnableShortcut:null,initRootNodePosition:null,nodeTextEditZIndex:3e3,nodeNoteTooltipZIndex:3e3,isEndNodeTextEditOnClickOuter:!0,maxHistoryCount:500,alwaysShowExpandBtn:!1,notShowExpandBtn:!1,iconList:[],maxNodeCacheCount:1e3,fitPadding:50,enableCtrlKeyNodeSelection:!0,useLeftKeySelectionRightKeyDrag:!1,beforeTextEdit:null,isUseCustomNodeContent:!1,customCreateNodeContent:null,customInnerElsAppendTo:null,enableAutoEnterTextEditWhenKeydown:!1,autoEmptyTextWhenKeydownEnterEdit:!1,customHandleClipboardText:null,disableMouseWheelZoom:!1,errorHandler:(e,t)=>{console.error(e,t)},enableDblclickBackToRootNode:!1,hoverRectColor:"rgb(94, 200, 248)",hoverRectPadding:2,selectTextOnEnterEditText:!1,deleteNodeActive:!0,fit:!1,tagsColorMap:{},cooperateStyle:{avatarSize:22,fontSize:12},onlyOneEnableActiveNodeOnCooperate:!1,defaultGeneralizationText:"概要",handleIsSplitByWrapOnPasteCreateNewNode:null,addHistoryTime:100,isDisableDrag:!1,createNewNodeBehavior:o["a"].CREATE_NEW_NODE_BEHAVIOR.DEFAULT,defaultNodeImage:"",isLimitMindMapInCanvas:!1,handleNodePasteImg:null,customCreateNodePath:null,customCreateNodePolygon:null,customTransformNodeLinePath:null,beforeShortcutRun:null,resetScaleOnMoveNodeToCenter:!1,createNodePrefixContent:null,createNodePostfixContent:null,disabledClipboard:!1,customHyperlinkJump:null,openPerformance:!1,performanceConfig:{time:250,padding:100,removeNodeWhenOutCanvas:!0},emptyTextMeasureHeightText:"abc123我和你",openRealtimeRenderOnNodeTextEdit:!1,mousedownEventPreventDefault:!1,onlyPasteTextWhenHasImgAndText:!0,enableDragModifyNodeWidth:!0,minNodeTextModifyWidth:20,maxNodeTextModifyWidth:-1,customHandleLine:null,addHistoryOnInit:!0,noteIcon:{icon:"",style:{}},hyperlinkIcon:{icon:"",style:{}},attachmentIcon:{icon:"",style:{}},isShowCreateChildBtnIcon:!0,quickCreateChildBtnIcon:{icon:"",style:{}},customQuickCreateChildBtnClick:null,addCustomContentToNode:null,enableInheritAncestorLineStyle:!0,selectTranslateStep:3,selectTranslateLimit:20,enableFreeDrag:!1,autoMoveWhenMouseInEdgeOnDrag:!0,dragMultiNodeRectConfig:{width:40,height:20,fill:"rgb(94, 200, 248)"},dragPlaceholderRectFill:"rgb(94, 200, 248)",dragPlaceholderLineConfig:{color:"rgb(94, 200, 248)",width:2},dragOpacityConfig:{cloneNodeOpacity:.5,beingDragNodeOpacity:.3},handleDragCloneNode:null,beforeDragEnd:null,beforeDragStart:null,watermarkConfig:{onlyExport:!1,text:"",lineSpacing:100,textSpacing:100,angle:30,textStyle:{color:"#999",opacity:.5,fontSize:14},belowNode:!1},exportPaddingX:10,exportPaddingY:10,resetCss:"\n    * {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n    }\n  ",minExportImgCanvasScale:2,addContentToHeader:null,addContentToFooter:null,handleBeingExportSvg:null,maxCanvasSize:16384,defaultAssociativeLineText:"关联",associativeLineIsAlwaysAboveNode:!0,associativeLineInitPointsPosition:{from:"",to:""},enableAdjustAssociativeLinePoints:!0,beforeAssociativeLineConnection:null,disableTouchZoom:!1,minTouchZoomScale:20,maxTouchZoomScale:-1,isLimitMindMapInCanvasWhenHasScrollbar:!0,isOnlySearchCurrentRenderNodes:!1,beforeCooperateUpdate:null,rainbowLinesConfig:{open:!1,colorsList:[]},demonstrateConfig:null,enableEditFormulaInRichTextEdit:!0,katexFontPath:"https://unpkg.com/katex@0.16.11/dist/",getKatexOutputType:null,transformRichTextOnEnterEdit:null,beforeHideRichTextEdit:null,outerFramePaddingX:10,outerFramePaddingY:10,defaultOuterFrameText:"外框",onlyPainterNodeCustomStyles:!1,beforeDeleteNodeImg:null,imgResizeBtnSize:25,minImgResizeWidth:50,minImgResizeHeight:50,maxImgResizeWidthInheritTheme:!1,maxImgResizeWidth:1/0,maxImgResizeHeight:1/0,customDeleteBtnInnerHTML:"",customResizeBtnInnerHTML:""}},"36fa":function(e,t,i){"use strict";var o=i("d17d"),s=i("6ac9"),n=i("7c54");class a{constructor(e={}){this.opt=e,this.mindMap=e.mindMap,this.commands={},this.history=[],this.activeHistoryIndex=0,this.registerShortcutKeys(),this.originAddHistory=this.addHistory.bind(this),this.addHistory=Object(o["wb"])(this.addHistory,this.mindMap.opt.addHistoryTime,this),this.isPause=!1}pause(){this.isPause=!0}recovery(){this.isPause=!1}clearHistory(){this.history=[],this.activeHistoryIndex=0,this.mindMap.emit("back_forward",0,0)}registerShortcutKeys(){this.mindMap.keyCommand.addShortcut("Control+z",()=>{this.mindMap.execCommand("BACK")}),this.mindMap.keyCommand.addShortcut("Control+y",()=>{this.mindMap.execCommand("FORWARD")})}exec(e,...t){if(this.commands[e]){if(this.commands[e].forEach(e=>{e(...t)}),this.mindMap.emit("afterExecCommand",e,...t),["BACK","FORWARD","SET_NODE_ACTIVE","CLEAR_ACTIVE_NODE"].includes(e))return;this.addHistory()}}add(e,t){this.commands[e]?this.commands[e].push(t):this.commands[e]=[t]}remove(e,t){if(this.commands[e])if(t){let i=this.commands[e].find(e=>e===t);-1!==i&&this.commands[e].splice(i,1)}else this.commands[e]=[],delete this.commands[e]}addHistory(){if(this.mindMap.opt.readonly||this.isPause)return;this.mindMap.emit("beforeAddHistory");const e=this.history.length>0?this.history[this.activeHistoryIndex]:null,t=this.getCopyData(),i=JSON.stringify(t);e&&e===i||(this.emitDataUpdatesEvent(e,i),this.history=this.history.slice(0,this.activeHistoryIndex+1),this.history.push(i),this.history.length>this.mindMap.opt.maxHistoryCount&&this.history.shift(),this.activeHistoryIndex=this.history.length-1,this.mindMap.emit("data_change",t),this.mindMap.emit("back_forward",this.activeHistoryIndex,this.history.length))}back(e=1){if(!this.mindMap.opt.readonly&&this.activeHistoryIndex-e>=0){const t=this.history[this.activeHistoryIndex];this.activeHistoryIndex-=e,this.mindMap.emit("back_forward",this.activeHistoryIndex,this.history.length);const i=this.history[this.activeHistoryIndex],o=JSON.parse(i);return this.emitDataUpdatesEvent(t,i),o}}forward(e=1){if(this.mindMap.opt.readonly)return;let t=this.history.length;if(this.activeHistoryIndex+e<=t-1){const t=this.history[this.activeHistoryIndex];this.activeHistoryIndex+=e,this.mindMap.emit("back_forward",this.activeHistoryIndex,this.history.length);const i=this.history[this.activeHistoryIndex],o=JSON.parse(i);return this.emitDataUpdatesEvent(t,i),o}}getCopyData(){if(!this.mindMap.renderer.renderTree)return null;const e=Object(o["o"])({},this.mindMap.renderer.renderTree,!0);return e.smmVersion=n.version,e}removeDataUid(e){e=Object(o["tb"])(e);let t=e=>{delete e.data.uid,e.children&&e.children.length>0&&e.children.forEach(e=>{t(e)})};return t(e),e}emitDataUpdatesEvent(e,t){try{const i="data_change_detail",s=this.mindMap.event.listenerCount(i);if(s>0&&e&&t){const s=JSON.parse(e),n=JSON.parse(t),a=Object(o["tb"])(Object(o["xb"])(s)),d=Object(o["tb"])(Object(o["xb"])(n)),h=[],r=(e,t)=>(e.children&&e.children.length>0&&e.children.forEach((i,o)=>{e.children[o]="string"===typeof i?t[i]:t[i.data.uid],r(e.children[o],t)}),e);Object.keys(d).forEach(e=>{a[e]?Object(o["Z"])(a[e],d[e])||h.push({action:"update",oldData:r(a[e],a),data:r(d[e],d)}):h.push({action:"create",data:r(d[e],d)})}),Object.keys(a).forEach(e=>{d[e]||h.push({action:"delete",data:r(a[e],a)})}),this.mindMap.emit(i,h)}}catch(i){this.mindMap.opt.errorHandler(s["b"].DATA_CHANGE_DETAIL_EVENT_ERROR,i)}}}t["a"]=a},"5f3a":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));const o={Backspace:8,Tab:9,Enter:13,Shift:16,Control:17,Alt:18,CapsLock:20,Esc:27,Spacebar:32,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Left:37,Up:38,Right:39,Down:40,Del:46,NumLock:144,Cmd:91,CmdFF:224,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"`":192,"=":187,"-":189,"/":191,".":190};for(let n=0;n<=9;n++)o[n]=n+48;"abcdefghijklmnopqrstuvwxyz".split("").forEach((e,t)=>{o[e]=t+65});const s=o},"7c54":function(e){e.exports=JSON.parse('{"name":"simple-mind-map","version":"0.14.0-fix.1","description":"一个简单的web在线思维导图","authors":[{"name":"街角小林","email":"1013335014@qq.com"},{"name":"理想青年实验室","url":"http://lxqnsys.com/"}],"types":"./types/index.d.ts","typings":"./types/index.d.ts","license":"MIT","repository":{"type":"git","url":"https://github.com/wanglin2/mind-map"},"scripts":{"lint":"eslint src/","format":"prettier --write .","types":"npx -p typescript tsc index.js --declaration --allowJs --emitDeclarationOnly --outDir types --target es2017 --skipLibCheck & node ./bin/createPluginsTypeFiles.js","wsServe":"node ./bin/wsServer.mjs"},"module":"index.js","main":"./dist/simpleMindMap.umd.min.js","dependencies":{"@svgdotjs/svg.js":"3.2.0","deepmerge":"^1.5.2","eventemitter3":"^4.0.7","jszip":"^3.10.1","katex":"^0.16.8","mdast-util-from-markdown":"^1.3.0","pdf-lib":"^1.17.1","quill":"^2.0.3","tern":"^0.24.3","uuid":"^9.0.0","ws":"^7.5.9","xml-js":"^1.6.11","y-webrtc":"^10.2.5","yjs":"^13.6.8"},"keywords":["javascript","svg","mind-map","mindMap","MindMap"],"devDependencies":{"eslint":"^8.25.0","prettier":"^2.7.1"}}')},"7cc28":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var o=i("5f3a");class s{constructor(e){this.opt=e,this.mindMap=e.mindMap,this.shortcutMap={},this.shortcutMapCache={},this.isPause=!1,this.isInSvg=!1,this.isStopCheckInSvg=!1,this.defaultEnableCheck=this.defaultEnableCheck.bind(this),this.bindEvent()}extendKeyMap(e,t){o["a"][e]=t}removeKeyMap(e){"undefined"!==typeof o["a"][e]&&delete o["a"][e]}pause(){this.isPause=!0}recovery(){this.isPause=!1}save(){Object.keys(this.shortcutMapCache).length>0||(this.shortcutMapCache=this.shortcutMap,this.shortcutMap={})}restore(){Object.keys(this.shortcutMapCache).length<=0||(this.shortcutMap=this.shortcutMapCache,this.shortcutMapCache={})}stopCheckInSvg(){const{enableShortcutOnlyWhenMouseInSvg:e}=this.mindMap.opt;e&&(this.isStopCheckInSvg=!0)}recoveryCheckInSvg(){const{enableShortcutOnlyWhenMouseInSvg:e}=this.mindMap.opt;e&&(this.isStopCheckInSvg=!0)}bindEvent(){this.onKeydown=this.onKeydown.bind(this),this.mindMap.on("svg_mouseenter",()=>{this.isInSvg=!0}),this.mindMap.on("svg_mouseleave",()=>{this.isInSvg=!1}),window.addEventListener("keydown",this.onKeydown),this.mindMap.on("beforeDestroy",()=>{this.unBindEvent()})}unBindEvent(){window.removeEventListener("keydown",this.onKeydown)}defaultEnableCheck(e){const t=e.target;if(t===document.body)return!0;for(let i=0;i<this.mindMap.editNodeClassList.length;i++){const e=this.mindMap.editNodeClassList[i];if(t.classList.contains(e))return!0}return!1}onKeydown(e){const{enableShortcutOnlyWhenMouseInSvg:t,beforeShortcutRun:i,customCheckEnableShortcut:o}=this.mindMap.opt,s="function"===typeof o?o:this.defaultEnableCheck;s(e)&&(this.isPause||t&&!this.isStopCheckInSvg&&!this.isInSvg||Object.keys(this.shortcutMap).forEach(t=>{if(this.checkKey(e,t)){if(this.checkKey(e,"Control+v")||(e.stopPropagation(),e.preventDefault()),"function"===typeof i){const e=i(t,[...this.mindMap.renderer.activeNodeList]);if(e)return}this.shortcutMap[t].forEach(e=>{e()})}}))}checkKey(e,t){let i=this.getOriginEventCodeArr(e),o=this.getKeyCodeArr(t);if(i.length!==o.length)return!1;for(let s=0;s<i.length;s++){let e=o.findIndex(e=>e===i[s]);if(-1===e)return!1;o.splice(e,1)}return!0}getOriginEventCodeArr(e){let t=[];return(e.ctrlKey||e.metaKey)&&t.push(o["a"]["Control"]),e.altKey&&t.push(o["a"]["Alt"]),e.shiftKey&&t.push(o["a"]["Shift"]),t.includes(e.keyCode)||t.push(e.keyCode),t}hasCombinationKey(e){return e.ctrlKey||e.metaKey||e.altKey||e.shiftKey}getKeyCodeArr(e){let t=e.split(/\s*\+\s*/),i=[];return t.forEach(e=>{i.push(o["a"][e])}),i}addShortcut(e,t){e.split(/\s*\|\s*/).forEach(e=>{this.shortcutMap[e]?this.shortcutMap[e].push(t):this.shortcutMap[e]=[t]})}removeShortcut(e,t){e.split(/\s*\|\s*/).forEach(e=>{if(this.shortcutMap[e])if(t){let i=this.shortcutMap[e].findIndex(e=>e===t);-1!==i&&this.shortcutMap[e].splice(i,1)}else this.shortcutMap[e]=[],delete this.shortcutMap[e]})}getShortcutFn(e){let t=[];return e.split(/\s*\|\s*/).forEach(e=>{t=this.shortcutMap[e]||[]}),t}}},ff0d:function(e,t,i){"use strict";var o=i("fe27"),s=i.n(o),n=i("6ac9");class a extends s.a{constructor(e={}){super(),this.opt=e,this.mindMap=e.mindMap,this.isLeftMousedown=!1,this.isRightMousedown=!1,this.isMiddleMousedown=!1,this.mousedownPos={x:0,y:0},this.mousemovePos={x:0,y:0},this.mousemoveOffset={x:0,y:0},this.bindFn(),this.bind()}bindFn(){this.onBodyMousedown=this.onBodyMousedown.bind(this),this.onBodyClick=this.onBodyClick.bind(this),this.onDrawClick=this.onDrawClick.bind(this),this.onMousedown=this.onMousedown.bind(this),this.onMousemove=this.onMousemove.bind(this),this.onMouseup=this.onMouseup.bind(this),this.onNodeMouseup=this.onNodeMouseup.bind(this),this.onMousewheel=this.onMousewheel.bind(this),this.onContextmenu=this.onContextmenu.bind(this),this.onSvgMousedown=this.onSvgMousedown.bind(this),this.onKeyup=this.onKeyup.bind(this),this.onMouseenter=this.onMouseenter.bind(this),this.onMouseleave=this.onMouseleave.bind(this)}bind(){document.body.addEventListener("mousedown",this.onBodyMousedown),document.body.addEventListener("click",this.onBodyClick),this.mindMap.svg.on("click",this.onDrawClick),this.mindMap.el.addEventListener("mousedown",this.onMousedown),this.mindMap.svg.on("mousedown",this.onSvgMousedown),window.addEventListener("mousemove",this.onMousemove),window.addEventListener("mouseup",this.onMouseup),this.on("node_mouseup",this.onNodeMouseup),this.mindMap.el.addEventListener("wheel",this.onMousewheel),this.mindMap.svg.on("contextmenu",this.onContextmenu),this.mindMap.svg.on("mouseenter",this.onMouseenter),this.mindMap.svg.on("mouseleave",this.onMouseleave),window.addEventListener("keyup",this.onKeyup)}unbind(){document.body.removeEventListener("mousedown",this.onBodyMousedown),document.body.removeEventListener("click",this.onBodyClick),this.mindMap.svg.off("click",this.onDrawClick),this.mindMap.el.removeEventListener("mousedown",this.onMousedown),window.removeEventListener("mousemove",this.onMousemove),window.removeEventListener("mouseup",this.onMouseup),this.off("node_mouseup",this.onNodeMouseup),this.mindMap.el.removeEventListener("wheel",this.onMousewheel),this.mindMap.svg.off("contextmenu",this.onContextmenu),this.mindMap.svg.off("mouseenter",this.onMouseenter),this.mindMap.svg.off("mouseleave",this.onMouseleave),window.removeEventListener("keyup",this.onKeyup)}onDrawClick(e){this.emit("draw_click",e)}onBodyMousedown(e){this.emit("body_mousedown",e)}onBodyClick(e){this.emit("body_click",e)}onSvgMousedown(e){this.emit("svg_mousedown",e)}onMousedown(e){1===e.which?this.isLeftMousedown=!0:3===e.which?this.isRightMousedown=!0:2===e.which&&(this.isMiddleMousedown=!0),this.mousedownPos.x=e.clientX,this.mousedownPos.y=e.clientY,this.emit("mousedown",e,this)}onMousemove(e){let{useLeftKeySelectionRightKeyDrag:t}=this.mindMap.opt;this.mousemovePos.x=e.clientX,this.mousemovePos.y=e.clientY,this.mousemoveOffset.x=e.clientX-this.mousedownPos.x,this.mousemoveOffset.y=e.clientY-this.mousedownPos.y,this.emit("mousemove",e,this),(this.isMiddleMousedown||(t?this.isRightMousedown:this.isLeftMousedown))&&(e.preventDefault(),this.emit("drag",e,this))}onMouseup(e){this.onNodeMouseup(),this.emit("mouseup",e,this)}onNodeMouseup(){this.isLeftMousedown=!1,this.isRightMousedown=!1,this.isMiddleMousedown=!1}onMousewheel(e){e.stopPropagation(),e.preventDefault();const t=[];e.deltaY<0&&t.push(n["a"].DIR.UP),e.deltaY>0&&t.push(n["a"].DIR.DOWN),e.deltaX<0&&t.push(n["a"].DIR.LEFT),e.deltaX>0&&t.push(n["a"].DIR.RIGHT);let i=!1;const{customCheckIsTouchPad:o}=this.mindMap.opt;i="function"===typeof o?o(e):Math.abs(e.deltaY)<=10,this.emit("mousewheel",e,t,this,i)}onContextmenu(e){e.preventDefault(),e.ctrlKey||this.emit("contextmenu",e)}onKeyup(e){this.emit("keyup",e)}onMouseenter(e){this.emit("svg_mouseenter",e)}onMouseleave(e){this.emit("svg_mouseleave",e)}}t["a"]=a}}]);