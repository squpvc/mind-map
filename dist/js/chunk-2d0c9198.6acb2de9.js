(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c9198"],{5865:function(e,t,n){"use strict";(function(e){var r=n("6f27"),o=n("703f"),i=n("b923"),a=n("6ffb"),s=n("e3da"),l=n("442c"),u=n("72a8"),c=n("f201"),d=function(e,t){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},d(e,t)};function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var f=function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},f.apply(this,arguments)};function h(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}function m(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function v(e,t,n){var r;for(r in n=n||null,e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))break}var g=v;function y(e,t){var n,r,o,i,a=Object.prototype.hasOwnProperty;for(o=1,i=arguments.length;o<i;o+=1)for(r in n=arguments[o],n)a.call(n,r)&&(e[r]=n[r]);return e}var b=y;function w(e){return"string"===typeof e||e instanceof String}var k=w;function C(e){return e instanceof Array}var x=C;function T(e,t,n){var r=0,o=e.length;for(n=n||null;r<o;r+=1)if(!1===t.call(n,e[r],r,e))break}var E=T,M=x,L=E,N=g;function S(e,t,n){M(e)?L(e,t,n):N(e,t,n)}var O=S,I=k,D=O;function A(e,t,n){var r=e.style;I(t)?r[t]=n:D(t,(function(e,t){r[t]=e}))}var P=A,R=x;function H(e,t,n){var r,o;if(n=n||0,!R(t))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(o=t.length,r=n;n>=0&&r<o;r+=1)if(t[r]===e)return r;return-1}var B=H;function F(e){return void 0===e}var j=F,q=j;function z(e){return e&&e.className?q(e.className.baseVal)?e.className:e.className.baseVal:""}var V=z,_=x,U=j;function $(e,t){t=_(t)?t.join(" "):t,t=t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),U(e.className.baseVal)?e.className=t:e.className.baseVal=t}var W=$,G=O,X=B,Z=V,Q=W;function K(e){var t,n=Array.prototype.slice.call(arguments,1),r=e.classList,o=[];r?G(n,(function(t){e.classList.add(t)})):(t=Z(e),t&&(n=[].concat(t.split(/\s+/),n)),G(n,(function(e){X(e,o)<0&&o.push(e)})),Q(e,o))}var Y=K,J=E,ee=B,te=V,ne=W;function re(e){var t,n,r=Array.prototype.slice.call(arguments,1),o=e.classList;o?J(r,(function(e){o.remove(e)})):(t=te(e).split(/\s+/),n=[],J(t,(function(e){ee(e,r)<0&&n.push(e)})),ne(e,n))}var oe=re;function ie(e){return"number"===typeof e||e instanceof Number}var ae=ie;function se(e){return null===e}var le=se,ue=g;function ce(e,t){var n=document.createElement("img"),r="";return ue(t,(function(e,t){r+="&"+t+"="+e})),r=r.substring(1),n.src=e+"?"+r,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}var de=ce,pe=j,fe=de,he=6048e5;function me(e){var t=(new Date).getTime();return t-e>he}function ve(e,t){var n="https://www.google-analytics.com/collect",r=location.hostname,o="event",i="use",a="TOAST UI "+e+" for "+r+": Statistics",s=window.localStorage.getItem(a);(pe(window.tui)||!1!==window.tui.usageStatistics)&&(s&&!me(s)||(window.localStorage.setItem(a,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||fe(n,{v:1,t:o,tid:t,cid:r,dp:r,dh:e,el:e,ec:i})}),1e3)))}var ge=ve;/Mac/.test(navigator.platform);var ye=/[\u0020]+/g,be=/[>(){}[\]+-.!#|]/g,we=/<([a-zA-Z_][a-zA-Z0-9\-._]*)(\s|[^\\/>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-.:/]*)>/g,ke=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/g,Ce=/[*_~`]/g;function xe(){ge("editor","UA-129966929-1")}function Te(e,t){return-1!==e.indexOf(t)}var Ee=["rel","target","hreflang","type"],Me={codeblock:/(^ {4}[^\n]+\n*)+/,thematicBreak:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,atxHeading:/^(#{1,6}) +[\s\S]+/,seTextheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,fencedCodeblock:/^((`|~){3,})/};function Le(e){if(!e)return null;var t={};return Ee.forEach((function(n){j(e[n])||(t[n]=e[n])})),t}function Ne(e,t){for(var n="",r=0;r<t;r+=1)n+=e;return n}function Se(e){var t=!1;return g(Me,(function(n){return n.test(e)&&(t=!0),!t})),t}function Oe(e){var t=function(e){return"\\"+e},n=e.replace(ye," ");return ke.test(n)&&(n=n.replace(ke,t)),n=n.replace(Ce,t),we.test(n)&&(n=n.replace(we,t)),Se(n)&&(n=n.replace(be,t)),n}function Ie(e){var t;return t=-1===e.indexOf('"')?'""':-1===e.indexOf("'")?"''":"()",t[0]+e+t[1]}function De(e){return le(e)||j(e)}function Ae(e,t){if(null===e&&e===t)return!0;if("object"!==typeof e||"object"!==typeof t||De(e)||De(t))return e===t;for(var n in e)if(e[n]!==t[n])return!1;for(var n in t)if(!(n in e))return!1;return!0}function Pe(e){return e[e.length-1]}function Re(e,t,n){return e>=t&&e<=n}function He(e){return"object"===typeof e&&null!==e}function Be(e,t){var n=f({},e);return e&&t&&Object.keys(t).forEach((function(e){He(n[e])?Array.isArray(t[e])?n[e]=Fe(t[e]):n.hasOwnProperty(e)?n[e]=Be(n[e],t[e]):n[e]=je(t[e]):n[e]=t[e]})),n}function Fe(e){return e.map((function(e){return He(e)?Array.isArray(e)?Fe(e):je(e):e}))}function je(e){var t=Object.keys(e);return t.length?t.reduce((function(t,n){return He(e[n])?t[n]=Array.isArray(e[n])?Fe(e[n]):je(e[n]):t[n]=e[n],t}),{}):e}function qe(e,t){return void 0===t&&(t={}),Object.keys(t).forEach((function(n){e.hasOwnProperty(n)&&"object"===typeof e[n]?Array.isArray(t[n])?e[n]=t[n]:qe(e[n],t[n]):e[n]=t[n]})),e}function ze(e,t){return e>t?[t,e]:[e,t]}function Ve(e,t){var n=e.nodes.paragraph;return t?n.create(null,k(t)?e.text(t):t):n.createAndFill()}function _e(e,t,n){return e.text(t,n)}function Ue(e,t,n){void 0===n&&(n=t);var r=e.doc.content.size,o=r>0?r-1:1;return a["TextSelection"].create(e.doc,Math.min(t,o),Math.min(n,o))}function $e(e,t,n){var r=t.pos;return e.replaceWith(r,r,Ve(n)),e.setSelection(Ue(e,r+1))}function We(e){for(var t=e.state,n=e.from,o=e.startIndex,i=e.endIndex,a=e.createText,s=t.tr,l=t.doc,u=t.schema,c=o;c<=i;c+=1){var d=l.child(c),p=d.nodeSize,f=d.textContent,h=d.content,m=a(f),v=m?_e(u,m):r["Fragment"].empty,g=s.mapping.map(n),y=g+h.size;s.replaceWith(g,y,v),n+=p}return s}function Ge(e,t,n,r){var o=n.length;e.split(t).delete(t-o,t).insert(e.mapping.map(t),r).setSelection(Ue(e,e.mapping.map(t)-o))}function Xe(e){return e.sourcepos[0][0]}function Ze(e){return e.sourcepos[1][0]}function Qe(e){return e.sourcepos[0][1]}function Ke(e){return e.sourcepos[1][1]}function Ye(e){var t=e.type;return"htmlBlock"===t||"htmlInline"===t}function Je(e){var t=e.type;return"strike"===t||"strong"===t||"emph"===t||"code"===t||"link"===t||"image"===t}function et(e){return e&&"codeBlock"===e.type}function tt(e){return e&&("item"===e.type||"list"===e.type)}function nt(e){return tt(e)&&"ordered"===e.listData.type}function rt(e){return tt(e)&&"ordered"!==e.listData.type}function ot(e){return e&&("tableCell"===e.type||"tableDelimCell"===e.type)}function it(e){switch(e.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function at(e,t,n){void 0===n&&(n=!0),e=n?e:e.parent;while(e&&"document"!==e.type){if(t(e))return e;e=e.parent}return null}function st(e,t,n){void 0===n&&(n=!0),e=n?e:e.parent;while(e&&"document"!==e.type)t(e),e=e.parent}function lt(e,t){return[e[0],e[1]+t]}function ut(e,t){return[e[0],t]}function ct(e){var t=e.firstChild.literal;switch(e.type){case"emph":return"*"+t+"*";case"strong":return"**"+t+"**";case"strike":return"~~"+t+"~~";case"code":return"`"+t+"`";case"link":case"image":var n=e,r=n.destination,o=n.title,i="link"===e.type?"":"!";return i+"["+t+"]("+r+(o?' "'+o+'"':"")+")";default:return null}}function dt(e){switch(e.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}function pt(e){var t=[],n=e.walker(),r=null;while(r=n.next()){var o=r.node;"text"===o.type&&t.push(o.literal)}return t.join("")}var ft=[],ht={},mt=/\$\$widget\d+\s/;function vt(e){var t=e.search(mt);if(-1!==t){var n=e.substring(t),r=n.replace(mt,"").replace("$$","");e=e.substring(0,t),e+=vt(r)}return e}function gt(e,t){return"$$"+e+" "+t+"$$"}function yt(e,t){var n=ht[e],r=n.rule,o=n.toDOM;return t=vt(t).match(r)[0],o(t)}function bt(){return ft}function wt(e){ft=e,ft.forEach((function(e,t){ht["widget"+t]=e}))}function kt(e,t,n,r){return e.concat(Ct(t,n,r))}function Ct(e,t,n){void 0===n&&(n=0);var r=[],o=(ft[n]||{}).rule,i=n+1;if(e=vt(e),o&&o.test(e)){var a=void 0;while(-1!==(a=e.search(o))){var s=e.substring(0,a);s&&(r=kt(r,s,t,i)),e=e.substring(a);var l=e.match(o)[0],u="widget"+n;r.push(t.nodes.widget.create({info:u},t.text(gt(u,l)))),e=e.substring(l.length)}e&&(r=kt(r,e,t,i))}else e&&(r=n<ft.length-1?kt(r,e,t,i):[t.text(e)]);return r}function xt(e){var t,n="",r=e.walker();while(t=r.next()){var o=t.node,i=t.entering;i&&(o!==e&&"text"!==o.type?(n+=ct(o),r.resumeAt(e,!1),r.next()):"text"===o.type&&(n+=o.literal))}return n}function Tt(){return{deleteSelection:function(){return l["c"]},selectAll:function(){return l["g"]},undo:function(){return c["c"]},redo:function(){return c["b"]}}}function Et(e){return new a["Plugin"]({props:{decorations:function(t){var n=t.doc;if(e.text&&1===n.childCount&&n.firstChild.isTextblock&&0===n.firstChild.content.size){var r=document.createElement("span");return Y(r,"placeholder"),e.className&&Y(r,e.className),r.textContent=e.text,o["DecorationSet"].create(n,[o["Decoration"].widget(1,r)])}return null}}})}var Mt=new a["PluginKey"]("widget"),Lt=function(){function e(e){var t=this;this.popup=null,this.removeWidget=function(){t.popup&&(document.body.removeChild(t.popup),t.popup=null)},this.eventEmitter=e,this.eventEmitter.listen("blur",this.removeWidget),this.eventEmitter.listen("removePopupWidget",this.removeWidget)}return e.prototype.update=function(e){var t=Mt.getState(e.state);if(this.removeWidget(),t){var n=t.node,r=t.style,o=e.coordsAtPos(t.pos),i=o.top,a=o.left,s=o.bottom,l=s-i;P(n,{position:"absolute",left:a+"px",opacity:"0"}),document.body.appendChild(n),P(n,{top:("bottom"===r?i+l:i-n.clientHeight-l)+"px",opacity:"1"}),this.popup=n,e.focus()}},e.prototype.destroy=function(){this.eventEmitter.removeEventHandler("blur",this.removeWidget)},e}();function Nt(e){return new a["Plugin"]({key:Mt,state:{init:function(){return null},apply:function(e){return e.getMeta("widget")}},view:function(){return new Lt(e)}})}var St=E;function Ot(e){var t;try{t=Array.prototype.slice.call(e)}catch(n){t=[],St(e,(function(e){t.push(e)}))}return t}var It=Ot;function Dt(e){e.listen("addImageBlobHook",(function(e,t){var n=new FileReader;n.onload=function(e){var n=e.target;return t(n.result)},n.readAsDataURL(e)}))}function At(e,t,n){var r=function(n,r){e.emit("command","addImage",{imageUrl:n,altText:r||t.name||"image"})};e.emit("addImageBlobHook",t,r,n)}function Pt(e){var t=It(e).filter((function(e){var t=e.type;return-1!==t.indexOf("image")}));if(1===t.length){var n=t[0];if(n)return n.getAsFile()}return null}function Rt(e){var t=e.eventEmitter;return new a["Plugin"]({props:{handleDOMEvents:{drop:function(e,n){var r,o=null===(r=n.dataTransfer)||void 0===r?void 0:r.files;return o&&E(o,(function(e){return-1===e.type.indexOf("image")||(n.preventDefault(),n.stopPropagation(),At(t,e,n.type),!1)})),!0}}}})}var Ht=function(){function e(){}return Object.defineProperty(e.prototype,"type",{get:function(){return"node"},enumerable:!1,configurable:!0}),e.prototype.setContext=function(e){this.context=e},e}();function Bt(e){var t=document.createElement("span"),n=yt(e.attrs.info,e.textContent);return t.className="tui-widget",t.appendChild(n),{dom:t}}function Ft(e){return"widget"===e.type.name}var jt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"widget"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{attrs:{info:{default:null}},group:"inline",inline:!0,content:"text*",selectable:!1,atom:!0,toDOM:function(){return["span",{class:"tui-widget"},0]},parseDOM:[{tag:"span.tui-widget",getAttrs:function(e){var t=e.textContent,n=t.match(/\$\$(widget\d+)/),r=n[1];return{info:r}}}]}},enumerable:!1,configurable:!0}),t}(Ht),qt=function(){function e(e){this.el=document.createElement("div"),this.el.className="toastui-editor",this.eventEmitter=e,this.placeholder={text:""}}return e.prototype.createState=function(){return a["EditorState"].create({schema:this.schema,plugins:this.createPlugins()})},e.prototype.initEvent=function(){var e=this,t=e.eventEmitter,n=e.view,r=e.editorType;n.dom.addEventListener("focus",(function(){return t.emit("focus",r)})),n.dom.addEventListener("blur",(function(){return t.emit("blur",r)}))},e.prototype.emitChangeEvent=function(e){this.eventEmitter.emit("caretChange",this.editorType),e.docChanged&&this.eventEmitter.emit("change",this.editorType)},Object.defineProperty(e.prototype,"defaultPlugins",{get:function(){var e=Tt(),t=e.undo,n=e.redo,r=this.createInputRules(),o=h(h([],this.keymaps),[Object(s["a"])(f({"Mod-z":t(),"Shift-Mod-z":n()},l["a"])),Object(c["a"])(),Et(this.placeholder),Nt(this.eventEmitter),Rt(this.context)]);return r?o.concat(r):o},enumerable:!1,configurable:!0}),e.prototype.createInputRules=function(){var e=bt(),t=e.map((function(e){var t=e.rule;return new u["a"](t,(function(e,n,r,o){var i=e.schema,a=e.tr,s=e.doc,l=n.input.match(new RegExp(t,"g")),u=s.resolve(r),c=u.parent,d=0;if(Ft(c)&&(c=u.node(u.depth-1)),c.forEach((function(e){return Ft(e)&&(d+=1)})),l.length>d){var p=Pe(l),f=Ct(p,i);return a.replaceWith(o-p.length+1,o,f)}return null}))}));return t.length?Object(u["b"])({rules:t}):null},e.prototype.createSchema=function(){return new r["Schema"]({nodes:this.specs.nodes,marks:this.specs.marks})},e.prototype.createKeymaps=function(e){return e?this.specs.keymaps():[]},e.prototype.createCommands=function(){return this.specs.commands(this.view)},e.prototype.createPluginProps=function(){var e=this;return this.extraPlugins.map((function(t){return t(e.eventEmitter)}))},e.prototype.focus=function(){var e=this;setTimeout((function(){e.view.focus(),e.view.dispatch(e.view.state.tr.scrollIntoView())}))},e.prototype.blur=function(){this.view.dom.blur()},e.prototype.destroy=function(){var e=this;this.view.destroy(),Object.keys(this).forEach((function(t){delete e[t]}))},e.prototype.moveCursorToStart=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(Ue(t,1)).scrollIntoView()),e&&this.focus()},e.prototype.moveCursorToEnd=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(Ue(t,t.doc.content.size-1)).scrollIntoView()),e&&this.focus()},e.prototype.setScrollTop=function(e){this.view.dom.scrollTop=e},e.prototype.getScrollTop=function(){return this.view.dom.scrollTop},e.prototype.setPlaceholder=function(e){this.placeholder.text=e,this.view.dispatch(this.view.state.tr.scrollIntoView())},e.prototype.setHeight=function(e){P(this.el,{height:e+"px"})},e.prototype.setMinHeight=function(e){P(this.el,{minHeight:e+"px"})},e.prototype.getElement=function(){return this.el},e}();function zt(e){return e instanceof Function}var Vt=zt;function _t(e,t,n){return e.focus(),t(n)(e.state,e.dispatch,e)}var Ut=function(){function e(e){this.specs=e}return Object.defineProperty(e.prototype,"nodes",{get:function(){return this.specs.filter((function(e){return"node"===e.type})).reduce((function(e,t){var n,r=t.name,o=t.schema;return f(f({},e),(n={},n[r]=o,n))}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"marks",{get:function(){return this.specs.filter((function(e){return"mark"===e.type})).reduce((function(e,t){var n,r=t.name,o=t.schema;return f(f({},e),(n={},n[r]=o,n))}),{})},enumerable:!1,configurable:!0}),e.prototype.commands=function(e,t){var n=this.specs.filter((function(e){var t=e.commands;return t})).reduce((function(t,n){var r={},o=n.commands();return Vt(o)?r[n.name]=function(t){return _t(e,o,t)}:Object.keys(o).forEach((function(t){r[t]=function(n){return _t(e,o[t],n)}})),f(f({},t),r)}),{}),r=Tt();return Object.keys(r).forEach((function(t){n[t]=function(n){return _t(e,r[t],n)}})),t&&Object.keys(t).forEach((function(r){n[r]=function(n){return _t(e,t[r],n)}})),n},e.prototype.keymaps=function(){var e=this.specs.filter((function(e){return e.keymaps})).map((function(e){return e.keymaps()}));return e.map((function(e){return Object(s["a"])(e)}))},e.prototype.setContext=function(e){this.specs.forEach((function(t){t.setContext(e)}))},e}(),$t=B,Wt=V;function Gt(e,t){var n;return e.classList?e.classList.contains(t):(n=Wt(e).split(/\s+/),$t(t,n)>-1)}var Xt=Gt,Zt=B,Qt=It,Kt=Element.prototype,Yt=Kt.matches||Kt.webkitMatchesSelector||Kt.mozMatchesSelector||Kt.msMatchesSelector||function(e){var t=this.document||this.ownerDocument;return Zt(this,Qt(t.querySelectorAll(e)))>-1};function Jt(e,t){return Yt.call(e,t)}var en=Jt,tn="[A-Za-z][A-Za-z0-9-]*",nn="[a-zA-Z_:][a-zA-Z0-9:._-]*",rn="[^\"'=<>`\\x00-\\x20]+",on="'[^']*'",an='"[^"]*"',sn="(?:"+rn+"|"+on+"|"+an+")",ln="(?:\\s*=\\s*"+sn+")",un="(?:\\s+"+nn+ln+"?)",cn="<("+tn+")("+un+")*\\s*/?>",dn="</("+tn+")\\s*[>]",pn="(?:"+cn+"|"+dn+")",fn=new RegExp("^"+pn,"i");function hn(e,t,n){var r=parseInt(e.left,10),o=parseInt(e.top,10),i=parseInt(e.width,10)+parseInt(e.paddingLeft,10)+parseInt(e.paddingRight,10),a=parseInt(e.height,10)+parseInt(e.paddingTop,10)+parseInt(e.paddingBottom,10);return t>=r&&t<=r+i&&n>=o&&n<=o+a}var mn="toastui-editor-";function vn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],r=0,o=e;r<o.length;r++){var i=o[r],a=void 0;a=Array.isArray(i)?i[0]?i[1]:null:i,a&&n.push(""+mn+a)}return n.join(" ")}function gn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.map((function(e){return mn+"md-"+e})).join(" ")}function yn(e){return(null===e||void 0===e?void 0:e.nodeType)===Node.TEXT_NODE}function bn(e){return e&&e.nodeType===Node.ELEMENT_NODE}function wn(e,t){var n=It(e.querySelectorAll(t));return n.length?n:[]}function kn(e,t){t=x(t)?It(t):[t],t.forEach((function(t){e.appendChild(t)}))}function Cn(e,t){t.parentNode&&t.parentNode.insertBefore(e,t)}function xn(e){e.parentNode&&e.parentNode.removeChild(e)}function Tn(e){var t=[];while(e.firstChild)t.push(e.firstChild),e.parentNode&&e.parentNode.insertBefore(e.firstChild,e);return xn(e),t}function En(e,t,n){j(n)&&(n=!Xt(e,t));var r=n?Y:oe;r(e,t)}function Mn(e,t){var n=document.createElement("div");k(e)?n.innerHTML=e:n.appendChild(e);var r=n.firstChild;return t&&t.appendChild(r),r}function Ln(e){var t=window.getComputedStyle(e);return["margin-left","margin-right"].reduce((function(e,n){return e+parseInt(t.getPropertyValue(n),10)}),0)+e.offsetWidth}function Nn(e,t){var n;n=k(t)?function(e){return en(e,t)}:function(e){return e===t};while(e&&e!==document){if(bn(e)&&n(e))return e;e=e.parentNode}return null}function Sn(e,t){var n=0,r=0;while(e&&e!==t){var o=e.offsetTop,i=e.offsetLeft,a=e.offsetParent;if(n+=o,r+=i,a===t.offsetParent)break;e=e.offsetParent}return{offsetTop:n,offsetLeft:r}}function On(e,t){var n;if(t)n=e.innerHTML;else{for(var r=document.createDocumentFragment(),o=It(e.childNodes),i=o.length,a=0;a<i;a+=1)r.appendChild(o[a]);n=r}return n}function In(e,t){Object.keys(e).forEach((function(n){De(e[n])?t.removeAttribute(n):t.setAttribute(n,e[n])}))}function Dn(e){var t=/<br\s*\/*>/i,n=new RegExp(pn,"ig"),r=e.match(n);return null===r||void 0===r||r.forEach((function(n,o){if(t.test(n)){var i="";if(o){var a=r[o-1],s=a.match(cn);if(s){var l=s[1];i="</"+l+"><"+l+">"}}e=e.replace(t,i)}})),e}function An(e){var t=e.from,n=e.to;return e instanceof a["AllSelection"]?[t+1,n-1]:[t,n]}function Pn(e){return e.index(0)+1}function Rn(e,t,n){void 0===n&&(n=1);var r=0;return e.forEach((function(e,o){Ft(e)&&o+2<t&&(r+=2*n)})),r}function Hn(e,t,n){void 0===n&&(n=t);var r=t===n,o=e.resolve(t),i=Pn(o),a=i,s=o.start(1),l=s;if(!r){var u=e.resolve(n===e.content.size?n-1:n);l=u.start(1),a=Pn(u),u.pos===e.content.size&&(n=e.content.size-2)}var c=Math.max(t-s+1,1),d=Math.max(n-l+1,1);return[[i,c+Rn(e.child(i-1),c,-1)],[a,d+Rn(e.child(a-1),d,-1)]]}function Bn(e,t){for(var n=[],r=0,o=0;r<t;r+=1){var i=e.child(r);n[r]=o,o+=i.nodeSize}return n}function Fn(e,t,n){var r=Bn(e,n[0]),o=t[0]-1,i=n[0]-1,a=e.child(o),s=e.child(i),l=r[o],u=r[i];return l+=t[1]+Rn(a,t[1]-1),u+=n[1]+Rn(s,n[1]-1),[l,Math.min(u,e.content.size)]}function jn(e){var t=e.$from,n=e.$to,r=e.from,o=e.to,i=t.doc;return e instanceof a["AllSelection"]&&(t=i.resolve(r+1),n=i.resolve(o-1)),0===t.depth&&(t=i.resolve(r-1),n=t),{startFromOffset:t.start(1),endFromOffset:n.start(1),startToOffset:t.end(1),endToOffset:n.end(1),startIndex:t.index(0),endIndex:n.index(0),from:t.pos,to:n.pos}}function qn(e,t){for(var n=1,r=1,o=0,i=0;o<e.childCount;o+=1){var a=e.child(o).nodeSize;if(n=i+1,r=i+a-1,o===t)break;i+=a}return{startOffset:n,endOffset:r}}var zn="heading",Vn="blockQuote",_n="listItem",Un="table",$n="tableCell",Wn="codeBlock",Gn="thematicBreak",Xn="link",Zn="code",Qn="meta",Kn="delimiter",Yn="taskDelimiter",Jn="markedText",er="html",tr="customBlock",nr={strong:2,emph:1,strike:2};function rr(e,t,n,r){return{start:e,end:t,spec:{type:n,attrs:r}}}function or(e,t,n){var r=e.level,o=e.headingType,i=[rr(t,n,zn,{level:r})];return"atx"===o?i.push(rr(t,lt(t,r),Kn)):i.push(rr(ut(n,0),n,zn,{seText:!0})),i}function ir(e,t,n){var r=e.type,o=lt(t,nr[r]),i=lt(n,-nr[r]);return[rr(o,i,r),rr(t,o,Kn),rr(i,n,Kn)]}function ar(e,t,n,r){return[rr(e,t,Xn),rr(ut(e,n[1]+1),ut(t,r),Xn,{desc:!0}),rr(ut(t,r+2),lt(t,-1),Xn,{url:!0})]}function sr(e,t,n){var r=e.lastChild,o=r?Ke(r)+1:3,i=lt(t,1);return h([rr(t,i,Qn)],ar(t,n,i,o))}function lr(e,t,n){var r=e.lastChild,o=e.extendedAutolink,i=r?Ke(r)+1:2;return o?[rr(t,n,Xn,{desc:!0})]:ar(t,n,t,i)}function ur(e,t,n){var r=e.tickCount,o=lt(t,r),i=lt(n,-r);return[rr(t,n,Zn),rr(t,o,Zn,{start:!0}),rr(o,i,Zn,{marked:!0}),rr(i,n,Zn,{end:!0})]}function cr(e,t,n,r){var o={start:t,end:n,spec:{attrs:{className:r+"-line-background",codeStart:t[0],codeEnd:n[0]}},lineBackground:!0};return"item"!==e.type&&"blockQuote"!==e.type?[f(f({},o),{end:t,spec:{attrs:{className:r+"-line-background start"}}}),f(f({},o),{start:[Math.min(t[0]+1,n[0]),t[1]]})]:null}function dr(e,t,n,r){var o=e.fenceOffset,i=e.fenceLength,a=e.fenceChar,s=e.info,l=e.infoPadding,u=e.parent,c=o+i,d=[rr(ut(t,1),n,Wn)];a&&d.push(rr(t,lt(t,c),Kn)),s&&d.push(rr(lt(t,i),lt(t,i+l+s.length),Qn));var p="^(\\s{0,4})("+a+"{"+i+",})",f=new RegExp(p);f.test(r)&&d.push(rr(ut(n,1),n,Kn));var h=cr(u,t,n,"code-block");return h?d.concat(h):d}function pr(e,t,n){var r=e,o=r.offset,i=r.syntaxLength,a=r.info,s=r.parent,l=o+i,u=[rr(ut(t,1),n,tr)];u.push(rr(t,lt(t,l),Kn)),a&&u.push(rr(lt(t,l),lt(t,i+a.length),Qn)),u.push(rr(ut(n,1),n,Kn));var c=cr(s,t,n,"custom-block");return c?u.concat(c):u}function fr(e,t){var n=[];while(e){var r=e.type;"paragraph"!==r&&"codeBlock"!==r||n.push(rr([Xe(e),Qe(e)-1],[Ze(e),Ke(e)+1],t)),e=e.next}return n}function hr(e){var t=[];while(e)t.push(rr([Xe(e),Qe(e)],[Ze(e),Ke(e)+1],Jn)),e=e.next;return t}function mr(e,t,n){var r=e.parent&&"blockQuote"!==e.parent.type?[rr(t,n,Vn)]:[];if(e.firstChild){var o=[];"paragraph"===e.firstChild.type?o=hr(e.firstChild.firstChild):"list"===e.firstChild.type&&(o=fr(e.firstChild,Jn)),r=h(h([],r),o)}return r}function vr(e){var t=0;while(e.parent.parent&&"item"===e.parent.parent.type)e=e.parent.parent,t+=1;var n=[{odd:!0},{even:!0}][t%2];return[_n,f(f({},n),{listStyle:!0})]}function gr(e,t){var n=e.listData,r=n.padding,o=n.task,i=vr(e),a=[rr.apply(void 0,h([t,lt(t,r)],i))];return o&&(a.push(rr(lt(t,r),lt(t,r+3),Yn)),a.push(rr(lt(t,r+1),lt(t,r+2),Qn))),a.concat(fr(e.firstChild,Jn))}var yr={heading:or,strong:ir,emph:ir,strike:ir,link:lr,image:sr,code:ur,codeBlock:dr,blockQuote:mr,item:gr,customBlock:pr},br={thematicBreak:Gn,table:Un,tableCell:$n,htmlInline:er};function wr(e,t,n,r){var o=e.type;return Vt(yr[o])?yr[o](e,t,n,r):br[o]?[rr(t,n,br[o])]:null}var kr={};function Cr(e){var t=e.schema,n=e.toastMark;return new a["Plugin"]({appendTransaction:function(e,r,o){var i=e[0],a=o.tr;if(i.docChanged){var s=[],l=i.getMeta("editResult");l.forEach((function(e){var t=e.nodes,r=e.removedNodeRange;if(t.length){s=s.concat(Nr(a,t));for(var o=0,i=t;o<i.length;o++){var l=i[o],u=l.walker(),c=u.next();while(c){var d=c.node,p=c.entering;p&&(s=s.concat(Sr(d,n))),c=u.next()}}}else if(r)for(var f=a.doc.childCount-1,h=r.line,m=h[0],v=h[1],g=Math.min(m,f),y=Math.min(v,f),b=g;b<=y;b+=1)kr[b]=!0})),Er(a,t,s)}return a.setMeta("widget",i.getMeta("widget"))}})}function xr(e,t,n){return Object.keys(n).some((function(r){return n[r]!==e.child(t).attrs[r]}))}function Tr(e,t,n,r,o){void 0===o&&(o={});for(var i=r.startIndex,a=r.endIndex,s=r.from,l=r.to,u=!1,c=i;c<=a;c+=1)delete kr[c],u=xr(t,c,o);u&&e.setBlockType(s,l,n,o)}function Er(e,t,n){var r=e.doc,o=t.nodes.paragraph,i=Bn(r,r.childCount);n.forEach((function(n){var a=n.start,s=n.end,l=n.spec,u=n.lineBackground,c=Math.min(a[0],r.childCount)-1,d=Math.min(s[0],r.childCount)-1,p=r.child(c),f=r.child(d),h=i[c],m=i[d];if(h+=a[1]+Rn(p,a[1]-1),m+=s[1]+Rn(f,s[1]-1),l)if(u){var v={from:h,to:m,startIndex:c,endIndex:d};Tr(e,r,o,v,l.attrs)}else e.addMark(h,m,t.mark(l.type,l.attrs));else e.removeMark(h,m)})),Mr(e,i,o)}function Mr(e,t,n){Object.keys(kr).forEach((function(r){var o=Number(r),i=Math.min(Number(r)+1,e.doc.childCount-1),a=t[o],s=t[i]-1;o===i&&(s+=2),e.setBlockType(a,s,n)}))}function Lr(e,t,n){var r=[];kr={};for(var o=t[0]-1;o<n[0];o+=1){var i=e.child(o),a=i.attrs.codeEnd,s=i.attrs.codeStart;if(s&&a&&!Te(r,s)){r.push(s),a=Math.min(a,e.childCount);for(var l=s-1,u=n[0],c=l;c<u;c+=1)kr[c]=!0}}}function Nr(e,t){var n=e.doc,r=t[0].sourcepos[0],o=Pe(t).sourcepos,i=o[1],a=[r[0],r[1]],s=[i[0],i[1]+1],l=[];return Lr(n,r,i),l.push({start:a,end:s}),l}function Sr(e,t){var n=t.getLineTexts(),r=[Xe(e),Qe(e)],o=[Ze(e),Ke(e)+1],i=wr(e,r,o,n[o[0]-1]);return null!==i&&void 0!==i?i:[]}function Or(e){return tt(e)?e.listData.task?"taskList":"ordered"===e.listData.type?"orderedList":"bulletList":-1!==e.type.indexOf("table")?"table":e.type}function Ir(e){var t={},n=!0;return st(e,(function(e){var r=Or(e);"customBlock"!==r&&"image"!==r&&"link"!==r&&("bulletList"===r||"orderedList"===r?n&&(t[r]=!0,n=!1):t[r]=!0)})),t}function Dr(e){var t=e.toastMark,n=e.eventEmitter;return new a["Plugin"]({view:function(){return{update:function(e,r){var o=e.state,i=o.doc,a=o.selection;if(!(r&&r.doc.eq(i)&&r.selection.eq(a))){var s=a.from,l=o.doc.resolve(s).start(),u=o.doc.content.findIndex(s).index+1,c=s-l;s===l&&(c+=1);var d=[u,c],p=t.findNodeAtPosition(d),f=Ir(p);n.emit("changeToolbarState",{cursorPos:d,mdNode:p,toolbarState:f}),n.emit("setFocusedNode",p)}}}}})}var Ar=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),t}(Ht),Pr=function(){function e(){}return Object.defineProperty(e.prototype,"type",{get:function(){return"mark"},enumerable:!1,configurable:!0}),e.prototype.setContext=function(e){this.context=e},e}();function Rr(e,t){return Hr(e,t-1)}function Hr(e,t){return e.child(t).textContent}var Br=/^\s*> ?/,Fr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:gn("block-quote")},0]}}},enumerable:!1,configurable:!0}),t.prototype.createBlockQuoteText=function(e,t){return t?e.replace(Br,"").trim():"> "+e.trim()},t.prototype.extendBlockQuote=function(){var e=this;return function(t,n){var r=t.selection,o=t.doc,i=t.tr,a=t.schema,s=jn(r),l=s.endFromOffset,u=s.endToOffset,c=s.endIndex,d=s.to,p=Hr(o,c),f=Br.test(p);if(f&&d>l&&r.empty){var h=!p.replace(Br,"").trim();if(h)i.deleteRange(l,u).split(i.mapping.map(u));else{var m=p.slice(d-l).trim(),v=_e(a,e.createBlockQuoteText(m));Ge(i,u,m,v)}return n(i),!0}return!1}},t.prototype.commands=function(){var e=this;return function(){return function(t,n){var r=t.selection,o=t.doc,i=jn(r),a=i.startFromOffset,s=i.endToOffset,l=i.startIndex,u=i.endIndex,c=Br.test(Hr(o,l)),d=We({state:t,startIndex:l,endIndex:u,from:a,createText:function(t){return e.createBlockQuoteText(t,c)}});return n(d.setSelection(Ue(d,d.mapping.map(s)))),!0}}},t.prototype.keymaps=function(){var e=this.commands()();return{"alt-q":e,"alt-Q":e,Enter:this.extendBlockQuote()}},t}(Pr),jr=/(^\s*)([-*+] |[\d]+\. )/,qr=/(^\s*)([\d])+\.( \[[ xX]])? /,zr=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/,Vr=/(^\s*)([-*+]|[\d]+\.)( \[[ xX]])? /,_r=/^(\s*)([-*+]+(\s(?:\[(?:x|\s)\]\s)?))(.*)/,Ur=/(^\s*)([-*+] |[\d]+\. )(\[[ xX]] )/,$r=/(^\s*)([-*+])( \[[ xX]]) /;function Wr(e){return qr.test(e)?"ordered":"bullet"}function Gr(e){var t=0;while(e&&"document"!==e.type)"list"===e.type&&(t+=1),e=e.parent;return t}function Xr(e,t,n,r){var o=e.getLineTexts(),i=o.length,a=[],s=t;while(r?s<i:s>1){s=r?s+1:s-1;var l=e.findFirstNodeAtLine(s),u=Gr(l);if(u===n)a.push({line:s,depth:n,mdNode:l});else if(u<n)break}return a}function Zr(e){var t=e.toastMark,n=e.mdNode,r=e.line,o=Gr(n),i=Xr(t,r,o,!1).reverse(),a=Xr(t,r,o,!0);return i.concat([{line:r,depth:o,mdNode:n}]).concat(a)}function Qr(e){if(!jr.test(e))return"* "+e;var t=Wr(e);return"bullet"===t&&Vr.test(e)?e=e.replace($r,"$1$2 "):"ordered"===t&&(e=e.replace(qr,"$1* ")),e}function Kr(e,t){if(!jr.test(e))return t+". "+e;var n=Wr(e);if("bullet"===n||"ordered"===n&&Vr.test(e))e=e.replace(Vr,"$1"+t+". ");else if("ordered"===n){var r=zr.exec(e)[3];Number(r)!==t&&(e=e.replace(qr,"$1"+t+". "))}return e}function Yr(e,t,n,r){void 0===r&&(r=0);var o=Number.MAX_VALUE,i=0,a=t.map((function(t,a){var s=t.line;o=Math.min(s-1,o),i=Math.max(s-1,i);var l=Rr(e,s);return l="bullet"===n?Qr(l):Kr(l,a+1+r),{text:l,line:s}}));return{changedResults:a,firstIndex:o,lastIndex:i}}function Jr(e,t){var n=Zr(t);return Yr(t.doc,n,e)}var eo={bullet:function(e){return Jr("bullet",e)},ordered:function(e){return Jr("ordered",e)},task:function(e){var t=e.mdNode,n=e.doc,r=e.line,o=Rr(n,r);return t.listData.task?o=o.replace(Ur,"$1$2"):tt(t)&&(o=o.replace(jr,"$1$2[ ] ")),{changedResults:[{text:o,line:r}]}}},to={bullet:function(e){var t=e.doc,n=e.line,r=Rr(t,n),o=[{text:"* "+r,line:n}];return{changedResults:o}},ordered:function(e){for(var t=e.toastMark,n=e.doc,r=e.line,o=e.startLine,i=Rr(n,r),a=1,s=o,l=0,u=o-1;u>0;u-=1){var c=t.findFirstNodeAtLine(u),d=Rr(n,u),p=d&&!!at(c,(function(e){return tt(e)})),f=zr.exec(Rr(n,u));if(!f&&!p)break;if(f||!p){var h=f,m=h[1],v=h[3];if(!m){a=Number(v),s=u;break}}else l+=1}var g=a+r-s-l,y=[{text:g+". "+i,line:r}];return{changedResults:y}},task:function(e){var t=e.doc,n=e.line,r=Rr(t,n),o=[{text:"* [ ] "+r,line:n}];return{changedResults:o}}},no={bullet:function(e){var t=e.line,n=e.doc,r=Rr(n,t),o=_r.exec(r),i=o[1],a=o[2];return{listSyntax:""+i+a}},ordered:function(e){var t=e.toastMark,n=e.line,r=e.mdNode,o=e.doc,i=Gr(r),a=Rr(o,n),s=zr.exec(a),l=s[1],u=s[3],c=s[4],d=Number(u)+1,p=""+l+d+c,h=Xr(t,n,i,!0),m=h.filter((function(e){var t=zr.exec(Rr(o,e.line));return t&&t[1].length===l.length&&!!at(e.mdNode,(function(e){return nt(e)}))}));return f({listSyntax:p},Yr(o,m,"ordered",d))}};function ro(e,t,n,r,o){var i=[],a=Rr(e,n),s=zr.exec(a);while(s){var l=s[1],u=s[4],c=s[5],d=l.length;if(d===o)i.push(_e(t,""+l+r+u+c)),r+=1,n+=1;else if(d>o){var p=ro(e,t,n,1,d);n=p.line,i=i.concat(p.nodes)}if(d<o||n>e.childCount)break;a=Rr(e,n),s=zr.exec(a)}return{nodes:i,line:n}}var oo=/(^\s{1,4})(.*)/;function io(e,t,n){return e<t||jr.test(n)||Br.test(n)}function ao(e,t,n){var r=n.$from;0===r.depth&&(r=e.resolve(r.pos-1));var o=r.node(1),i=r.start(1),a=o.content.size;return o.rangeHasMark(0,a,t.marks.table)&&r.pos-i!==a&&r.pos!==i}function so(e,t){var n=t.from,r=t.to;if("indent"===t.type){var o=4;n+=o,r+=(t.lineLen+1)*o}else{var i=t.spaceLenList;n-=i[0];for(var a=0;a<i.length;a+=1)r-=i[a]}return Ue(e,n,r)}var lo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"inline*",attrs:{className:{default:null},codeStart:{default:null},codeEnd:{default:null}},selectable:!1,group:"block",parseDOM:[{tag:"div"}],toDOM:function(e){var t=e.attrs;return t.className?["div",{class:gn(t.className)},0]:["div",0]}}},enumerable:!1,configurable:!0}),t.prototype.reorderList=function(e,t){var n=this.context,r=n.view,o=n.toastMark,i=n.schema,a=r.state,s=a.tr,l=a.selection,u=a.doc,c=o.findFirstNodeAtLine(e),d=c;while(c&&!rt(c)&&"document"!==c.parent.type)if(c=c.parent,nt(c)){d=c;break}d&&(e=d.sourcepos[0][0]);var p=zr.exec(Rr(u,e)),f=p[1],h=p[3],m=f.length,v=ro(u,i,e,Number(h),m),g=v.line,y=v.nodes;t=Math.max(t,g-1);for(var b=qn(u,e-1).startOffset,w=e-1;w<=t-1;w+=1){var k=u.child(w),C=k.nodeSize,x=k.content,T=s.mapping.map(b),E=T+x.size;s.replaceWith(T,E,y[w-e+1]),b+=C}var M=Ue(s,l.from,l.to);r.dispatch(s.setSelection(M))},t.prototype.indent=function(e){var t=this;return void 0===e&&(e=!1),function(){return function(n,r){var o=n.schema,i=n.selection,a=n.doc,s=jn(i),l=s.from,u=s.to,c=s.startFromOffset,d=s.startIndex,p=s.endIndex;if(e&&ao(a,o,i))return!1;var f=Hr(a,d);if(e&&io(l,u,f)||!e&&jr.test(f)){var h=We({state:n,from:c,startIndex:d,endIndex:p,createText:function(e){return"    "+e}}),m={type:"indent",from:l,to:u,lineLen:p-d};r(h.setSelection(so(h,m))),zr.test(f)&&t.reorderList(d+1,p+1)}else e&&r(n.tr.insert(u,_e(o,"    ")));return!0}}},t.prototype.outdent=function(e){var t=this;return void 0===e&&(e=!1),function(){return function(n,r){var o=n.selection,i=n.doc,a=n.schema,s=jn(o),l=s.from,u=s.to,c=s.startFromOffset,d=s.startIndex,p=s.endIndex;if(e&&ao(i,a,o))return!1;var f=Hr(i,d);if(e&&io(l,u,f)||!e&&jr.test(f)){var h=[],m=We({state:n,from:c,startIndex:d,endIndex:p,createText:function(e){var t=oo.exec(e);return h.push(t?t[1].length:0),e.replace(oo,"$2")}}),v={type:"outdent",from:l,to:u,spaceLenList:h};r(m.setSelection(so(m,v))),zr.test(f)&&t.reorderList(d+1,p+1)}else if(e){var g=f.slice(0,u-c),y=g.replace(/\s{1,4}$/,""),b=u-(g.length-y.length);r(n.tr.delete(b,u))}return!0}}},t.prototype.deleteLines=function(){var e=this;return function(t,n){var r=e.context.view,o=jn(t.selection),i=o.startFromOffset,a=o.endToOffset,s=function(){return n(t.tr.deleteRange(i,a)),!0};return Object(l["b"])(s,l["e"])(t,n,r)}},t.prototype.moveDown=function(){return function(e,t){var n=e.doc,r=e.tr,o=e.selection,i=e.schema,a=jn(o),s=a.startFromOffset,l=a.endToOffset,u=a.endIndex;if(u<n.content.childCount-1){var c=n.child(u+1),d=c.nodeSize,p=c.textContent;return r.delete(l,l+d).split(s).insert(r.mapping.map(s)-2,_e(i,p)),t(r),!0}return!1}},t.prototype.moveUp=function(){return function(e,t){var n=e.tr,r=e.doc,o=e.selection,i=e.schema,a=jn(o),s=a.startFromOffset,l=a.endToOffset,u=a.startIndex;if(u>0){var c=r.child(u-1),d=c.nodeSize,p=c.textContent;return n.delete(s-d,s).split(n.mapping.map(l)).insert(n.mapping.map(l),_e(i,p)),t(n),!0}return!1}},t.prototype.commands=function(){return{indent:this.indent(),outdent:this.outdent()}},t.prototype.keymaps=function(){return{Tab:this.indent(!0)(),"Shift-Tab":this.outdent(!0)(),"Mod-d":this.deleteLines(),"Mod-D":this.deleteLines(),"Alt-ArrowUp":this.moveUp(),"Alt-ArrowDown":this.moveDown()}},t}(Ht),uo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),t}(Ht),co=/^#{1,6}\s/,po=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{attrs:{level:{default:1},seText:{default:!1}},toDOM:function(e){var t=e.attrs,n=t.level,r=t.seText,o="heading|heading"+n;return r&&(o+="|delimiter|setext"),["span",{class:gn.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),t.prototype.createHeadingText=function(e,t,n){var r=t.replace(n,"").trim(),o="";while(e>0)o+="#",e-=1;return o+" "+r},t.prototype.commands=function(){var e=this;return function(t){return function(n,r){var o=t.level,i=jn(n.selection),a=i.startFromOffset,s=i.endToOffset,l=i.startIndex,u=i.endIndex,c=We({state:n,from:a,startIndex:l,endIndex:u,createText:function(t){var n=t.match(co),r=n?n[0]:"";return e.createHeadingText(o,t,r)}});return r(c.setSelection(Ue(c,c.mapping.map(s)))),!0}}},t}(Pr),fo="```",ho=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:gn("code-block")},0]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(){return function(e,t){var n=e.selection,r=e.schema,o=e.tr,i=jn(n),a=i.startFromOffset,s=i.endToOffset,l=_e(r,fo);return o.insert(a,l).split(a+fo.length),o.split(o.mapping.map(s)).insert(o.mapping.map(s),l),t(o.setSelection(Ue(o,o.mapping.map(s)-(fo.length+2)))),!0}}},t.prototype.keepIndentation=function(){var e=this;return function(t,n){var r=t.selection,o=t.tr,i=t.doc,a=t.schema,s=e.context.toastMark,l=jn(r),u=l.startFromOffset,c=l.endToOffset,d=l.endIndex,p=l.from,f=l.to,h=Hr(i,d);if(p===f&&h.trim()){var m=h.match(/^\s+/),v=s.findFirstNodeAtLine(d+1);if(et(v)&&m){var g=m[0],y=h.slice(f-u),b=_e(a,g+y);return Ge(o,c,y,b),n(o),!0}}return!1}},t.prototype.keymaps=function(){var e=this.commands()();return{"Shift-Mod-p":e,"Shift-Mod-P":e,Enter:this.keepIndentation()}},t}(Pr),mo=/\||\s/g;function vo(e){return[yo(e),yo(e,!0)]}function go(e,t){for(var n=[],r=0;r<t;r+=1)n.push(yo(e));return n}function yo(e,t){for(var n="|",r=0;r<e;r+=1)n+=t?" --- |":"  |";return n}function bo(e){return e?{type:"next",parentType:"tableHead",childType:"firstChild"}:{type:"prev",parentType:"tableBody",childType:"lastChild"}}var wo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:gn("table")},0]}}},enumerable:!1,configurable:!0}),t.prototype.extendTable=function(){var e=this;return function(t,n){var r=t.selection,o=t.doc,i=t.tr,a=t.schema;if(!r.empty)return!1;var s=jn(r),l=s.endFromOffset,u=s.endToOffset,c=s.endIndex,d=s.to,p=Hr(o,c),f=[c+1,d-l+1],h=e.context.toastMark.findNodeAtPosition(f),m=at(h,(function(e){return ot(e)&&("tableDelimRow"===e.parent.type||"tableBody"===e.parent.parent.type)}));if(m){var v=!p.replace(mo,"").trim(),g=m.parent,y=g.parent.parent.columns.length,b=yo(y);return v?i.deleteRange(l,u).split(i.mapping.map(u)):i.split(u).insert(i.mapping.map(u),_e(a,b)).setSelection(Ue(i,i.mapping.map(u)-2)),n(i),!0}return!1}},t.prototype.moveTableCell=function(e){var t=this;return function(n,r){var o=n.selection,i=n.tr,a=jn(o),s=a.endFromOffset,l=a.endIndex,u=a.to,c=[l+1,u-s],d=t.context.toastMark.findNodeAtPosition(c),p=at(d,(function(e){return ot(e)}));if(p){var f=p.parent,h=bo(e),m=h.type,v=h.parentType,g=h.childType,y=Ke(p);if(p[m])y=Ke(p[m])-1;else{var b=f[m]||f.parent.type!==v?f[m]:f.parent[m][g];if("next"===m){var w=b?Ke(b[g]):0;y+=w+2}else"prev"===m&&(y=b?-4:0)}return r(i.setSelection(Ue(i,s+y))),!0}return!1}},t.prototype.addTable=function(){return function(e){return function(t,n){var r=t.selection,o=t.tr,i=t.schema,a=e,s=a.columnCount,l=a.rowCount,u=jn(r).endToOffset,c=vo(s),d=go(s,l-1),p=h(h([],c),d);return p.forEach((function(e){o.split(o.mapping.map(u)).insert(o.mapping.map(u),_e(i,e))})),n(o.setSelection(Ue(o,u+4))),!0}}},t.prototype.commands=function(){return{addTable:this.addTable()}},t.prototype.keymaps=function(){return{Enter:this.extendTable(),Tab:this.moveTableCell(!0),"Shift-Tab":this.moveTableCell(!1)}},t}(Pr),ko="***",Co=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:gn("thematic-break")},0]}}},enumerable:!1,configurable:!0}),t.prototype.hr=function(){return function(){return function(e,t){var n=e.selection,r=e.schema,o=e.tr,i=jn(n),a=i.from,s=i.to,l=i.endToOffset,u=_e(r,ko);return o.split(a).replaceWith(o.mapping.map(a),o.mapping.map(s),u).split(o.mapping.map(s)).setSelection(Ue(o,o.mapping.map(l))),t(o),!0}}},t.prototype.commands=function(){return{hr:this.hr()}},t.prototype.keymaps=function(){var e=this.hr()();return{"Mod-l":e,"Mod-L":e}},t}(Pr);function xo(e){var t=e.type;return"codeBlock"===t||"heading"===t||-1!==t.indexOf("table")}var To=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{attrs:{odd:{default:!1},even:{default:!1},listStyle:{default:!1}},toDOM:function(e){var t=e.attrs,n=t.odd,r=t.even,o=t.listStyle,i="list-item";return o&&(i+="|list-item-style"),n&&(i+="|list-item-odd"),r&&(i+="|list-item-even"),["span",{class:gn.apply(void 0,i.split("|"))},0]}}},enumerable:!1,configurable:!0}),t.prototype.extendList=function(){var e=this;return function(t,n){var r=t.selection,o=t.doc,i=t.schema,a=t.tr,s=e.context.toastMark,l=jn(r),u=l.to,c=l.startFromOffset,d=l.endFromOffset,p=l.endIndex,f=l.endToOffset,h=Hr(o,p),m=jr.test(h);if(!m||r.from===c||!r.empty)return!1;var v=!h.replace(Vr,"").trim();if(v)a.deleteRange(d,f).split(a.mapping.map(f));else{var g=Wr(h),y=s.findFirstNodeAtLine(p+1),b=h.slice(u-d),w={toastMark:s,mdNode:y,doc:o,line:p+1},k=no[g](w),C=k.listSyntax,x=k.changedResults;if(null===x||void 0===x?void 0:x.length){a.split(u),x.unshift({text:C+b,line:p+1}),e.changeToListPerLine(a,x,{from:u,startLine:x[0].line,endLine:Pe(x).line});var T=a.mapping.map(f)-b.length;a.setSelection(Ue(a,T))}else{var E=_e(i,C+b);Ge(a,f,b,E)}}return n(a),!0}},t.prototype.toList=function(e){var t=this;return function(){return function(n,r){for(var o=n.doc,i=n.tr,a=n.selection,s=t.context.toastMark,l=jn(a),u=l.startIndex+1,c=l.endIndex+1,d=l.endToOffset,p=[],f=u;f<=c;f+=1){var h=s.findFirstNodeAtLine(f);if(h&&xo(h))break;if(-1===p.indexOf(f)){var m={toastMark:s,mdNode:h,doc:o,line:f,startLine:u},v=(tt(h)?eo[e](m):to[e](m)).changedResults,g=t.changeToListPerLine(i,v,{from:qn(o,v[0].line-1).startOffset,startLine:v[0].line,endLine:Pe(v).line,indexDiff:1});d=Math.max(g,d),v&&(p=p.concat(v.map((function(e){return e.line}))))}}return r(i.setSelection(Ue(i,i.mapping.map(d)))),!0}}},t.prototype.changeToListPerLine=function(e,t,n){for(var r=n.from,o=n.startLine,i=n.endLine,a=n.indexDiff,s=void 0===a?0:a,l=0,u=function(n){var o=e.doc.child(n),i=o.nodeSize,a=o.content,u=e.mapping.map(r),d=u+a.size,p=t.filter((function(e){return e.line-s===n}))[0];p&&(e.replaceWith(u,d,_e(c.context.schema,p.text)),l=Math.max(l,r+a.size)),r+=i},c=this,d=o-s;d<=i-s;d+=1)u(d);return l},t.prototype.toggleTask=function(){var e=this;return function(t,n){for(var r=t.selection,o=t.tr,i=t.doc,a=t.schema,s=e.context.toastMark,l=jn(r),u=l.startIndex,c=l.endIndex,d=null,p=u;p<=c;p+=1){var f=s.findFirstNodeAtLine(p+1);if(tt(f)&&f.listData.task){var h=f.listData,m=h.checked,v=h.padding,g=m?" ":"x",y=f.sourcepos[0],b=qn(i,y[0]-1).startOffset;b+=y[1]+v,d=o.replaceWith(b,b+1,a.text(g))}}return!!d&&(n(d),!0)}},t.prototype.commands=function(){return{bulletList:this.toList("bullet"),orderedList:this.toList("ordered"),taskList:this.toList("task")}},t.prototype.keymaps=function(){var e=this.toList("bullet")(),t=this.toList("ordered")(),n=this.toList("task")(),r=this.toggleTask();return{"Mod-u":e,"Mod-U":e,"Mod-o":t,"Mod-O":t,"alt-t":n,"alt-T":n,"Shift-Ctrl-x":r,"Shift-Ctrl-X":r,Enter:this.extendList()}},t}(Pr);function Eo(e,t){return function(){return function(n,r){var o=n.tr,i=n.selection,a=Vt(e)?e:function(t){return e.test(t)},s=t.length,l=o.doc,u=An(i),c=u[0],d=u[1],p=Math.max(c-s,1),f=Math.min(d+s,l.content.size-1),h=i.content(),m=h.content.textBetween(0,h.content.size,"\n"),v=l.textBetween(p,c,"\n"),g=l.textBetween(d,f,"\n");if(m=""+v+m+g,v&&g&&a(m))o.delete(f-s,f).delete(p,p+s);else{o.insertText(t,d).insertText(t,c);var y=i.empty?Ue(o,c+s):Ue(o,c+s,d+s);o.setSelection(y)}return r(o),!0}}}var Mo=/^(\*{2}|_{2}).*([\s\S]*)\1$/m,Lo="**",No=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:gn("strong")},0]}}},enumerable:!1,configurable:!0}),t.prototype.bold=function(){return Eo(Mo,Lo)},t.prototype.commands=function(){return{bold:this.bold()}},t.prototype.keymaps=function(){var e=this.bold()();return{"Mod-b":e,"Mod-B":e}},t}(Pr),So=/^(~{2}).*([\s\S]*)\1$/m,Oo="~~",Io=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:gn("strike")},0]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return Eo(So,Oo)},t.prototype.keymaps=function(){var e=this.commands()();return{"Mod-s":e,"Mod-S":e}},t}(Pr),Do=/^(\*|_).*([\s\S]*)\1$/m,Ao="*",Po=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:gn("emph")},0]}}},enumerable:!1,configurable:!0}),t.prototype.italic=function(){return Eo(Do,Ao)},t.prototype.commands=function(){return{italic:this.italic()}},t.prototype.keymaps=function(){var e=this.italic()();return{"Mod-i":e,"Mod-I":e}},t}(Pr),Ro=/^(`).*([\s\S]*)\1$/m,Ho="`",Bo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{attrs:{start:{default:!1},end:{default:!1},marked:{default:!1}},toDOM:function(e){var t=e.attrs,n=t.start,r=t.end,o=t.marked,i="code";return n&&(i+="|delimiter|start"),r&&(i+="|delimiter|end"),o&&(i+="|marked-text"),["span",{class:gn.apply(void 0,i.split("|"))},0]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return Eo(Ro,Ho)},t.prototype.keymaps=function(){var e=this.commands()();return{"Shift-Mod-c":e,"Shift-Mod-C":e}},t}(Pr),Fo=[{regExp:/\(/g,encoded:"%28",escaped:"\\("},{regExp:/\)/g,encoded:"%29",escaped:"\\)"},{regExp:/\[/g,encoded:"%5B",escaped:"\\["},{regExp:/\]/g,encoded:"%5D",escaped:"\\]"},{regExp:/</g,encoded:"%3C",escaped:"\\<"},{regExp:/>/g,encoded:"%3E",escaped:"\\>"},{regExp:/ /g,encoded:"%20",escaped:" "}];function jo(e){return Fo.reduce((function(e,t){var n=t.regExp,r=t.escaped;return e.replace(n,r)}),e)}function qo(e){return Fo.reduce((function(e,t){var n=t.regExp,r=t.encoded;return e.replace(n,r)}),e)}var zo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{attrs:{url:{default:!1},desc:{default:!1}},toDOM:function(e){var t=e.attrs,n=t.url,r=t.desc,o="link";return n&&(o+="|link-url|marked-text"),r&&(o+="|link-desc|marked-text"),["span",{class:gn.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),t.prototype.addLinkOrImage=function(e){return function(t){return function(n,r){var o=n.selection,i=n.tr,a=n.schema,s=An(o),l=s[0],u=s[1],c=t,d=c.linkText,p=c.altText,f=c.linkUrl,h=c.imageUrl,m=d,v=f,g="";return"image"===e&&(m=p,v=h,g="!"),m=jo(m),v=qo(v),g+="["+m+"]("+v+")",r(i.replaceWith(l,u,_e(a,g))),!0}}},t.prototype.commands=function(){return{addImage:this.addLinkOrImage("image"),addLink:this.addLinkOrImage("link")}},t}(Pr),Vo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"taskDelimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:gn("delimiter","list-item")},0]}}},enumerable:!1,configurable:!0}),t}(Pr),_o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"delimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:gn("delimiter")},0]}}},enumerable:!1,configurable:!0}),t}(Pr),Uo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"meta"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:gn("meta")},0]}}},enumerable:!1,configurable:!0}),t}(Pr),$o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"markedText"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:gn("marked-text")},0]}}},enumerable:!1,configurable:!0}),t}(Pr),Wo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"tableCell"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:gn("table-cell")},0]}}},enumerable:!1,configurable:!0}),t}(Pr),Go=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"html"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:gn("html")},0]}}},enumerable:!1,configurable:!0}),t}(Pr),Xo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:gn("custom-block")},0]}}},enumerable:!1,configurable:!0}),t}(Pr),Zo=/x|backspace/i,Qo=/^\[(\s*)(x?)(\s*)\](?:\s+)/i;function Ko(e){var t=e.schema,n=e.toastMark;return new a["Plugin"]({props:{handleDOMEvents:{keyup:function(e,r){var o,i=e.state,a=i.doc,s=i.tr,l=i.selection;if(l.empty&&Zo.test(r.key)){var u=jn(l),c=u.startIndex,d=u.startFromOffset,p=u.from,f=[c+1,p-d+1],h=n.findNodeAtPosition(f),m=at(h,(function(e){var t;return"paragraph"===e.type&&"item"===(null===(t=e.parent)||void 0===t?void 0:t.type)}));if(null===(o=null===m||void 0===m?void 0:m.firstChild)||void 0===o?void 0:o.literal){var v=m.firstChild,g=v.literal.match(Qo);if(g){var y=v.sourcepos[0],b=g[1],w=g[2],k=g[3],C=b.length+k.length,x=qn(a,y[0]-1).startOffset,T=y[1]+x;if(w){var E=C?C+1:0;s.replaceWith(T,E+T,t.text(w)),e.dispatch(s)}else C||(s.insertText(" ",T),e.dispatch(s))}}}return!1}}}})}var Yo="cut",Jo=/\r\n|\n|\r/,ei=function(e){function t(t,n){var r=e.call(this,t)||this,o=n.toastMark,i=n.useCommandShortcut,a=void 0===i||i,s=n.mdPlugins,l=void 0===s?[]:s;return r.editorType="markdown",r.el.classList.add("md-mode"),r.toastMark=o,r.extraPlugins=l,r.specs=r.createSpecs(),r.schema=r.createSchema(),r.context=r.createContext(),r.keymaps=r.createKeymaps(a),r.view=r.createView(),r.commands=r.createCommands(),r.specs.setContext(f(f({},r.context),{view:r.view})),r.createClipboard(),r.eventEmitter.listen("changePreviewTabWrite",(function(){return r.toggleActive(!0)})),r.eventEmitter.listen("changePreviewTabPreview",(function(){return r.toggleActive(!1)})),r.initEvent(),r}return p(t,e),t.prototype.toggleActive=function(e){En(this.el,"active",e),e?this.focus():this.blur()},t.prototype.createClipboard=function(){var e=this;this.clipboard=document.createElement("textarea"),this.clipboard.className=vn("pseudo-clipboard"),this.clipboard.addEventListener("paste",(function(t){var n=t.clipboardData||window.clipboardData,r=n&&n.items;if(r){var o=Pt(r);o&&(t.preventDefault(),At(e.eventEmitter,o,t.type))}})),this.clipboard.addEventListener("input",(function(t){var n=t.target.value;e.replaceSelection(n),t.preventDefault(),t.target.value=""})),this.el.insertBefore(this.clipboard,this.view.dom)},t.prototype.createContext=function(){return{toastMark:this.toastMark,schema:this.schema,eventEmitter:this.eventEmitter}},t.prototype.createSpecs=function(){return new Ut([new Ar,new lo,new jt,new uo,new po,new Fr,new ho,new Xo,new wo,new Wo,new Co,new To,new No,new Io,new Po,new Bo,new zo,new _o,new Vo,new $o,new Uo,new Go])},t.prototype.createPlugins=function(){return this.defaultPlugins.concat(h([Cr(this.context),Dr(this.context),Ko(this.context)],this.createPluginProps()))},t.prototype.createView=function(){var e=this;return new o["EditorView"](this.el,{state:this.createState(),dispatchTransaction:function(t){e.updateMarkdown(t);var n=e.view.state.applyTransaction(t).state;e.view.updateState(n),e.emitChangeEvent(t)},handleKeyDown:function(t,n){return(n.metaKey||n.ctrlKey)&&"V"===n.key.toUpperCase()&&e.clipboard.focus(),e.eventEmitter.emit("keydown",e.editorType,n),!1},handleDOMEvents:{copy:function(t,n){return e.captureCopy(n)},cut:function(t,n){return e.captureCopy(n,Yo)},scroll:function(){return e.eventEmitter.emit("scroll","editor"),!0},keyup:function(t,n){return e.eventEmitter.emit("keyup",e.editorType,n),!1}},nodeViews:{widget:Bt}})},t.prototype.createCommands=function(){return this.specs.commands(this.view)},t.prototype.captureCopy=function(e,t){e.preventDefault();var n=this.view.state,r=n.selection,o=n.tr;if(r.empty)return!0;var i=this.getChanged(r.content());return e.clipboardData?e.clipboardData.setData("text/plain",i):window.clipboardData.setData("Text",i),t===Yo&&this.view.dispatch(o.deleteSelection().scrollIntoView().setMeta("uiEvent",Yo)),!0},t.prototype.updateMarkdown=function(e){var t=this;e.docChanged&&e.steps.forEach((function(n,r){if(n.slice&&!(n instanceof i["b"])){var o=e.docs[r],a=[n.from,n.to],s=a[0],l=a[1],u=Hn(o,s,l),c=u[0],d=u[1],p=t.getChanged(n.slice);c[0]===d[0]&&c[1]===d[1]&&""===p&&(p="\n");var f=t.toastMark.editMarkdown(c,d,p);t.eventEmitter.emit("updatePreview",f),e.setMeta("editResult",f).scrollIntoView()}}))},t.prototype.getChanged=function(e){var t="",n=0,r=e.content.size;return e.content.nodesBetween(n,r,(function(e,o){e.isText?t+=e.text.slice(Math.max(n,o)-o,r-o):e.isBlock&&o>0&&(t+="\n")})),t},t.prototype.setSelection=function(e,t){void 0===t&&(t=e);var n=this.view.state.tr,r=Fn(n.doc,e,t),o=r[0],i=r[1];this.view.dispatch(n.setSelection(Ue(n,o,i)).scrollIntoView())},t.prototype.replaceSelection=function(e,t,n){var o,i=this.view.state,a=i.tr,s=i.schema,l=i.doc,u=e.split(Jo),c=u.map((function(e){return Ve(s,Ct(e,s))})),d=new r["Slice"](r["Fragment"].from(c),1,1);if(this.focus(),t&&n){var p=Fn(l,t,n),f=p[0],h=p[1];o=a.replaceRange(f,h,d)}else o=a.replaceSelection(d);this.view.dispatch(o.scrollIntoView())},t.prototype.deleteSelection=function(e,t){var n,r=this.view.state,o=r.tr,i=r.doc;if(e&&t){var a=Fn(i,e,t),s=a[0],l=a[1];n=o.deleteRange(s,l)}else n=o.deleteSelection();this.view.dispatch(n.scrollIntoView())},t.prototype.getSelectedText=function(e,t){var n=this.view.state,r=n.doc,o=n.selection,i=o.from,a=o.to;if(e&&t){var s=Fn(r,e,t);i=s[0],a=s[1]}return r.textBetween(i,a,"\n")},t.prototype.getSelection=function(){var e=this.view.state.selection,t=e.from,n=e.to;return Hn(this.view.state.tr.doc,t,n)},t.prototype.setMarkdown=function(e,t){void 0===t&&(t=!0);var n=e.split(Jo),r=this.view.state,o=r.tr,i=r.doc,a=r.schema,s=n.map((function(e){return Ve(a,Ct(e,a))}));this.view.dispatch(o.replaceWith(0,i.content.size,s)),t&&this.moveCursorToEnd(!0)},t.prototype.addWidget=function(e,t,n){var r=this.view.state,o=r.tr,i=r.doc,a=r.selection,s=n?Fn(i,n,n)[0]:a.to;this.view.dispatch(o.setMeta("widget",{pos:s,node:e,style:t}))},t.prototype.replaceWithWidget=function(e,t,n){var r=this.view.state,o=r.tr,i=r.schema,a=r.doc,s=Fn(a,e,t),l=Ct(n,i);this.view.dispatch(o.replaceWith(s[0],s[1],l))},t.prototype.getRangeInfoOfNode=function(e){var t=this.view.state,n=t.doc,r=t.selection,o=e||Hn(n,r.from)[0],i=this.toastMark.findNodeAtPosition(o);return"text"===i.type&&"paragraph"!==i.parent.type&&(i=i.parent),i.sourcepos[1][1]+=1,{range:i.sourcepos,type:i.type}},t.prototype.getMarkdown=function(){return this.toastMark.getLineTexts().map((function(e){return vt(e)})).join("\n")},t.prototype.getToastMark=function(){return this.toastMark},t}(qt),ti="_feEventKey";function ni(e,t){var n,r=e[ti];return r||(r=e[ti]={}),n=r[t],n||(n=r[t]=[]),n}var ri=ni,oi=k,ii=O,ai=ri;function si(e,t,n){oi(t)?ii(t.split(/\s+/g),(function(t){li(e,t,n)})):ii(t,(function(t,n){li(e,n,t)}))}function li(e,t,n){var r,o=ai(e,t);n?(ii(o,(function(o,i){return n!==o.handler||(ui(e,t,o.wrappedHandler),r=i,!1)})),o.splice(r,1)):(ii(o,(function(n){ui(e,t,n.wrappedHandler)})),o.splice(0,o.length))}function ui(e,t,n){"removeEventListener"in e?e.removeEventListener(t,n):"detachEvent"in e&&e.detachEvent("on"+t,n)}var ci=si,di=k,pi=O,fi=ri;function hi(e,t,n,r){di(t)?pi(t.split(/\s+/g),(function(t){mi(e,t,n,r)})):pi(t,(function(t,r){mi(e,r,t,n)}))}function mi(e,t,n,r){function o(t){n.call(r||e,t||window.event)}"addEventListener"in e?e.addEventListener(t,o):"attachEvent"in e&&e.attachEvent("on"+t,o),vi(e,t,n,o)}function vi(e,t,n,r){var o=fi(e,t),i=!1;pi(o,(function(e){return e.handler!==n||(i=!0,!1)})),i||o.push({handler:n,wrappedHandler:r})}var gi=hi,yi=function(e,t){return yi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},yi(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function bi(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}yi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var wi=function(){return wi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},wi.apply(this,arguments)};function ki(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}var Ci="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},xi={};function Ti(e){var t,n,r=xi[e];if(r)return r;for(r=xi[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?r.push(n):r.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)r[e.charCodeAt(t)]=e[t];return r}function Ei(e,t,n){var r,o,i,a,s,l="";for("string"!==typeof t&&(n=t,t=Ei.defaultChars),"undefined"===typeof n&&(n=!0),s=Ti(t),r=0,o=e.length;r<o;r++)if(i=e.charCodeAt(r),n&&37===i&&r+2<o&&/^[0-9a-f]{2}$/i.test(e.slice(r+1,r+3)))l+=e.slice(r,r+3),r+=2;else if(i<128)l+=s[i];else if(i>=55296&&i<=57343){if(i>=55296&&i<=56319&&r+1<o&&(a=e.charCodeAt(r+1),a>=56320&&a<=57343)){l+=encodeURIComponent(e[r]+e[r+1]),r++;continue}l+="%EF%BF%BD"}else l+=encodeURIComponent(e[r]);return l}Ei.defaultChars=";/?:@&=+$,-_.!~*'()#",Ei.componentChars="-_.!~*'()";var Mi=Ei,Li={},Ni={},Si="Á",Oi="á",Ii="Ă",Di="ă",Ai="∾",Pi="∿",Ri="∾̳",Hi="Â",Bi="â",Fi="´",ji="А",qi="а",zi="Æ",Vi="æ",_i="⁡",Ui="𝔄",$i="𝔞",Wi="À",Gi="à",Xi="ℵ",Zi="ℵ",Qi="Α",Ki="α",Yi="Ā",Ji="ā",ea="⨿",ta="&",na="&",ra="⩕",oa="⩓",ia="∧",aa="⩜",sa="⩘",la="⩚",ua="∠",ca="⦤",da="∠",pa="⦨",fa="⦩",ha="⦪",ma="⦫",va="⦬",ga="⦭",ya="⦮",ba="⦯",wa="∡",ka="∟",Ca="⊾",xa="⦝",Ta="∢",Ea="Å",Ma="⍼",La="Ą",Na="ą",Sa="𝔸",Oa="𝕒",Ia="⩯",Da="≈",Aa="⩰",Pa="≊",Ra="≋",Ha="'",Ba="⁡",Fa="≈",ja="≊",qa="Å",za="å",Va="𝒜",_a="𝒶",Ua="≔",$a="*",Wa="≈",Ga="≍",Xa="Ã",Za="ã",Qa="Ä",Ka="ä",Ya="∳",Ja="⨑",es="≌",ts="϶",ns="‵",rs="∽",os="⋍",is="∖",as="⫧",ss="⊽",ls="⌅",us="⌆",cs="⌅",ds="⎵",ps="⎶",fs="≌",hs="Б",ms="б",vs="„",gs="∵",ys="∵",bs="∵",ws="⦰",ks="϶",Cs="ℬ",xs="ℬ",Ts="Β",Es="β",Ms="ℶ",Ls="≬",Ns="𝔅",Ss="𝔟",Os="⋂",Is="◯",Ds="⋃",As="⨀",Ps="⨁",Rs="⨂",Hs="⨆",Bs="★",Fs="▽",js="△",qs="⨄",zs="⋁",Vs="⋀",_s="⤍",Us="⧫",$s="▪",Ws="▴",Gs="▾",Xs="◂",Zs="▸",Qs="␣",Ks="▒",Ys="░",Js="▓",el="█",tl="=⃥",nl="≡⃥",rl="⫭",ol="⌐",il="𝔹",al="𝕓",sl="⊥",ll="⊥",ul="⋈",cl="⧉",dl="┐",pl="╕",fl="╖",hl="╗",ml="┌",vl="╒",gl="╓",yl="╔",bl="─",wl="═",kl="┬",Cl="╤",xl="╥",Tl="╦",El="┴",Ml="╧",Ll="╨",Nl="╩",Sl="⊟",Ol="⊞",Il="⊠",Dl="┘",Al="╛",Pl="╜",Rl="╝",Hl="└",Bl="╘",Fl="╙",jl="╚",ql="│",zl="║",Vl="┼",_l="╪",Ul="╫",$l="╬",Wl="┤",Gl="╡",Xl="╢",Zl="╣",Ql="├",Kl="╞",Yl="╟",Jl="╠",eu="‵",tu="˘",nu="˘",ru="¦",ou="𝒷",iu="ℬ",au="⁏",su="∽",lu="⋍",uu="⧅",cu="\\",du="⟈",pu="•",fu="•",hu="≎",mu="⪮",vu="≏",gu="≎",yu="≏",bu="Ć",wu="ć",ku="⩄",Cu="⩉",xu="⩋",Tu="∩",Eu="⋒",Mu="⩇",Lu="⩀",Nu="ⅅ",Su="∩︀",Ou="⁁",Iu="ˇ",Du="ℭ",Au="⩍",Pu="Č",Ru="č",Hu="Ç",Bu="ç",Fu="Ĉ",ju="ĉ",qu="∰",zu="⩌",Vu="⩐",_u="Ċ",Uu="ċ",$u="¸",Wu="¸",Gu="⦲",Xu="¢",Zu="·",Qu="·",Ku="𝔠",Yu="ℭ",Ju="Ч",ec="ч",tc="✓",nc="✓",rc="Χ",oc="χ",ic="ˆ",ac="≗",sc="↺",lc="↻",uc="⊛",cc="⊚",dc="⊝",pc="⊙",fc="®",hc="Ⓢ",mc="⊖",vc="⊕",gc="⊗",yc="○",bc="⧃",wc="≗",kc="⨐",Cc="⫯",xc="⧂",Tc="∲",Ec="”",Mc="’",Lc="♣",Nc="♣",Sc=":",Oc="∷",Ic="⩴",Dc="≔",Ac="≔",Pc=",",Rc="@",Hc="∁",Bc="∘",Fc="∁",jc="ℂ",qc="≅",zc="⩭",Vc="≡",_c="∮",Uc="∯",$c="∮",Wc="𝕔",Gc="ℂ",Xc="∐",Zc="∐",Qc="©",Kc="©",Yc="℗",Jc="∳",ed="↵",td="✗",nd="⨯",rd="𝒞",od="𝒸",id="⫏",ad="⫑",sd="⫐",ld="⫒",ud="⋯",cd="⤸",dd="⤵",pd="⋞",fd="⋟",hd="↶",md="⤽",vd="⩈",gd="⩆",yd="≍",bd="∪",wd="⋓",kd="⩊",Cd="⊍",xd="⩅",Td="∪︀",Ed="↷",Md="⤼",Ld="⋞",Nd="⋟",Sd="⋎",Od="⋏",Id="¤",Dd="↶",Ad="↷",Pd="⋎",Rd="⋏",Hd="∲",Bd="∱",Fd="⌭",jd="†",qd="‡",zd="ℸ",Vd="↓",_d="↡",Ud="⇓",$d="‐",Wd="⫤",Gd="⊣",Xd="⤏",Zd="˝",Qd="Ď",Kd="ď",Yd="Д",Jd="д",ep="‡",tp="⇊",np="ⅅ",rp="ⅆ",op="⤑",ip="⩷",ap="°",sp="∇",lp="Δ",up="δ",cp="⦱",dp="⥿",pp="𝔇",fp="𝔡",hp="⥥",mp="⇃",vp="⇂",gp="´",yp="˙",bp="˝",wp="`",kp="˜",Cp="⋄",xp="⋄",Tp="⋄",Ep="♦",Mp="♦",Lp="¨",Np="ⅆ",Sp="ϝ",Op="⋲",Ip="÷",Dp="÷",Ap="⋇",Pp="⋇",Rp="Ђ",Hp="ђ",Bp="⌞",Fp="⌍",jp="$",qp="𝔻",zp="𝕕",Vp="¨",_p="˙",Up="⃜",$p="≐",Wp="≑",Gp="≐",Xp="∸",Zp="∔",Qp="⊡",Kp="⌆",Yp="∯",Jp="¨",ef="⇓",tf="⇐",nf="⇔",rf="⫤",of="⟸",af="⟺",sf="⟹",lf="⇒",uf="⊨",cf="⇑",df="⇕",pf="∥",ff="⤓",hf="↓",mf="↓",vf="⇓",gf="⇵",yf="̑",bf="⇊",wf="⇃",kf="⇂",Cf="⥐",xf="⥞",Tf="⥖",Ef="↽",Mf="⥟",Lf="⥗",Nf="⇁",Sf="↧",Of="⊤",If="⤐",Df="⌟",Af="⌌",Pf="𝒟",Rf="𝒹",Hf="Ѕ",Bf="ѕ",Ff="⧶",jf="Đ",qf="đ",zf="⋱",Vf="▿",_f="▾",Uf="⇵",$f="⥯",Wf="⦦",Gf="Џ",Xf="џ",Zf="⟿",Qf="É",Kf="é",Yf="⩮",Jf="Ě",eh="ě",th="Ê",nh="ê",rh="≖",oh="≕",ih="Э",ah="э",sh="⩷",lh="Ė",uh="ė",ch="≑",dh="ⅇ",ph="≒",fh="𝔈",hh="𝔢",mh="⪚",vh="È",gh="è",yh="⪖",bh="⪘",wh="⪙",kh="∈",Ch="⏧",xh="ℓ",Th="⪕",Eh="⪗",Mh="Ē",Lh="ē",Nh="∅",Sh="∅",Oh="◻",Ih="∅",Dh="▫",Ah=" ",Ph=" ",Rh=" ",Hh="Ŋ",Bh="ŋ",Fh=" ",jh="Ę",qh="ę",zh="𝔼",Vh="𝕖",_h="⋕",Uh="⧣",$h="⩱",Wh="ε",Gh="Ε",Xh="ε",Zh="ϵ",Qh="≖",Kh="≕",Yh="≂",Jh="⪖",em="⪕",tm="⩵",nm="=",rm="≂",om="≟",im="⇌",am="≡",sm="⩸",lm="⧥",um="⥱",cm="≓",dm="ℯ",pm="ℰ",fm="≐",hm="⩳",mm="≂",vm="Η",gm="η",ym="Ð",bm="ð",wm="Ë",km="ë",Cm="€",xm="!",Tm="∃",Em="∃",Mm="ℰ",Lm="ⅇ",Nm="ⅇ",Sm="≒",Om="Ф",Im="ф",Dm="♀",Am="ﬃ",Pm="ﬀ",Rm="ﬄ",Hm="𝔉",Bm="𝔣",Fm="ﬁ",jm="◼",qm="▪",zm="fj",Vm="♭",_m="ﬂ",Um="▱",$m="ƒ",Wm="𝔽",Gm="𝕗",Xm="∀",Zm="∀",Qm="⋔",Km="⫙",Ym="ℱ",Jm="⨍",ev="½",tv="⅓",nv="¼",rv="⅕",ov="⅙",iv="⅛",av="⅔",sv="⅖",lv="¾",uv="⅗",cv="⅜",dv="⅘",pv="⅚",fv="⅝",hv="⅞",mv="⁄",vv="⌢",gv="𝒻",yv="ℱ",bv="ǵ",wv="Γ",kv="γ",Cv="Ϝ",xv="ϝ",Tv="⪆",Ev="Ğ",Mv="ğ",Lv="Ģ",Nv="Ĝ",Sv="ĝ",Ov="Г",Iv="г",Dv="Ġ",Av="ġ",Pv="≥",Rv="≧",Hv="⪌",Bv="⋛",Fv="≥",jv="≧",qv="⩾",zv="⪩",Vv="⩾",_v="⪀",Uv="⪂",$v="⪄",Wv="⋛︀",Gv="⪔",Xv="𝔊",Zv="𝔤",Qv="≫",Kv="⋙",Yv="⋙",Jv="ℷ",eg="Ѓ",tg="ѓ",ng="⪥",rg="≷",og="⪒",ig="⪤",ag="⪊",sg="⪊",lg="⪈",ug="≩",cg="⪈",dg="≩",pg="⋧",fg="𝔾",hg="𝕘",mg="`",vg="≥",gg="⋛",yg="≧",bg="⪢",wg="≷",kg="⩾",Cg="≳",xg="𝒢",Tg="ℊ",Eg="≳",Mg="⪎",Lg="⪐",Ng="⪧",Sg="⩺",Og=">",Ig=">",Dg="≫",Ag="⋗",Pg="⦕",Rg="⩼",Hg="⪆",Bg="⥸",Fg="⋗",jg="⋛",qg="⪌",zg="≷",Vg="≳",_g="≩︀",Ug="≩︀",$g="ˇ",Wg=" ",Gg="½",Xg="ℋ",Zg="Ъ",Qg="ъ",Kg="⥈",Yg="↔",Jg="⇔",ey="↭",ty="^",ny="ℏ",ry="Ĥ",oy="ĥ",iy="♥",ay="♥",sy="…",ly="⊹",uy="𝔥",cy="ℌ",dy="ℋ",py="⤥",fy="⤦",hy="⇿",my="∻",vy="↩",gy="↪",yy="𝕙",by="ℍ",wy="―",ky="─",Cy="𝒽",xy="ℋ",Ty="ℏ",Ey="Ħ",My="ħ",Ly="≎",Ny="≏",Sy="⁃",Oy="‐",Iy="Í",Dy="í",Ay="⁣",Py="Î",Ry="î",Hy="И",By="и",Fy="İ",jy="Е",qy="е",zy="¡",Vy="⇔",_y="𝔦",Uy="ℑ",$y="Ì",Wy="ì",Gy="ⅈ",Xy="⨌",Zy="∭",Qy="⧜",Ky="℩",Yy="Ĳ",Jy="ĳ",eb="Ī",tb="ī",nb="ℑ",rb="ⅈ",ob="ℐ",ib="ℑ",ab="ı",sb="ℑ",lb="⊷",ub="Ƶ",cb="⇒",db="℅",pb="∞",fb="⧝",hb="ı",mb="⊺",vb="∫",gb="∬",yb="ℤ",bb="∫",wb="⊺",kb="⋂",Cb="⨗",xb="⨼",Tb="⁣",Eb="⁢",Mb="Ё",Lb="ё",Nb="Į",Sb="į",Ob="𝕀",Ib="𝕚",Db="Ι",Ab="ι",Pb="⨼",Rb="¿",Hb="𝒾",Bb="ℐ",Fb="∈",jb="⋵",qb="⋹",zb="⋴",Vb="⋳",_b="∈",Ub="⁢",$b="Ĩ",Wb="ĩ",Gb="І",Xb="і",Zb="Ï",Qb="ï",Kb="Ĵ",Yb="ĵ",Jb="Й",ew="й",tw="𝔍",nw="𝔧",rw="ȷ",ow="𝕁",iw="𝕛",aw="𝒥",sw="𝒿",lw="Ј",uw="ј",cw="Є",dw="є",pw="Κ",fw="κ",hw="ϰ",mw="Ķ",vw="ķ",gw="К",yw="к",bw="𝔎",ww="𝔨",kw="ĸ",Cw="Х",xw="х",Tw="Ќ",Ew="ќ",Mw="𝕂",Lw="𝕜",Nw="𝒦",Sw="𝓀",Ow="⇚",Iw="Ĺ",Dw="ĺ",Aw="⦴",Pw="ℒ",Rw="Λ",Hw="λ",Bw="⟨",Fw="⟪",jw="⦑",qw="⟨",zw="⪅",Vw="ℒ",_w="«",Uw="⇤",$w="⤟",Ww="←",Gw="↞",Xw="⇐",Zw="⤝",Qw="↩",Kw="↫",Yw="⤹",Jw="⥳",ek="↢",tk="⤙",nk="⤛",rk="⪫",ok="⪭",ik="⪭︀",ak="⤌",sk="⤎",lk="❲",uk="{",ck="[",dk="⦋",pk="⦏",fk="⦍",hk="Ľ",mk="ľ",vk="Ļ",gk="ļ",yk="⌈",bk="{",wk="Л",kk="л",Ck="⤶",xk="“",Tk="„",Ek="⥧",Mk="⥋",Lk="↲",Nk="≤",Sk="≦",Ok="⟨",Ik="⇤",Dk="←",Ak="←",Pk="⇐",Rk="⇆",Hk="↢",Bk="⌈",Fk="⟦",jk="⥡",qk="⥙",zk="⇃",Vk="⌊",_k="↽",Uk="↼",$k="⇇",Wk="↔",Gk="↔",Xk="⇔",Zk="⇆",Qk="⇋",Kk="↭",Yk="⥎",Jk="↤",eC="⊣",tC="⥚",nC="⋋",rC="⧏",oC="⊲",iC="⊴",aC="⥑",sC="⥠",lC="⥘",uC="↿",cC="⥒",dC="↼",pC="⪋",fC="⋚",hC="≤",mC="≦",vC="⩽",gC="⪨",yC="⩽",bC="⩿",wC="⪁",kC="⪃",CC="⋚︀",xC="⪓",TC="⪅",EC="⋖",MC="⋚",LC="⪋",NC="⋚",SC="≦",OC="≶",IC="≶",DC="⪡",AC="≲",PC="⩽",RC="≲",HC="⥼",BC="⌊",FC="𝔏",jC="𝔩",qC="≶",zC="⪑",VC="⥢",_C="↽",UC="↼",$C="⥪",WC="▄",GC="Љ",XC="љ",ZC="⇇",QC="≪",KC="⋘",YC="⌞",JC="⇚",ex="⥫",tx="◺",nx="Ŀ",rx="ŀ",ox="⎰",ix="⎰",ax="⪉",sx="⪉",lx="⪇",ux="≨",cx="⪇",dx="≨",px="⋦",fx="⟬",hx="⇽",mx="⟦",vx="⟵",gx="⟵",yx="⟸",bx="⟷",wx="⟷",kx="⟺",Cx="⟼",xx="⟶",Tx="⟶",Ex="⟹",Mx="↫",Lx="↬",Nx="⦅",Sx="𝕃",Ox="𝕝",Ix="⨭",Dx="⨴",Ax="∗",Px="_",Rx="↙",Hx="↘",Bx="◊",Fx="◊",jx="⧫",qx="(",zx="⦓",Vx="⇆",_x="⌟",Ux="⇋",$x="⥭",Wx="‎",Gx="⊿",Xx="‹",Zx="𝓁",Qx="ℒ",Kx="↰",Yx="↰",Jx="≲",eT="⪍",tT="⪏",nT="[",rT="‘",oT="‚",iT="Ł",aT="ł",sT="⪦",lT="⩹",uT="<",cT="<",dT="≪",pT="⋖",fT="⋋",hT="⋉",mT="⥶",vT="⩻",gT="◃",yT="⊴",bT="◂",wT="⦖",kT="⥊",CT="⥦",xT="≨︀",TT="≨︀",ET="¯",MT="♂",LT="✠",NT="✠",ST="↦",OT="↦",IT="↧",DT="↤",AT="↥",PT="▮",RT="⨩",HT="М",BT="м",FT="—",jT="∺",qT="∡",zT=" ",VT="ℳ",_T="𝔐",UT="𝔪",$T="℧",WT="µ",GT="*",XT="⫰",ZT="∣",QT="·",KT="⊟",YT="−",JT="∸",eE="⨪",tE="∓",nE="⫛",rE="…",oE="∓",iE="⊧",aE="𝕄",sE="𝕞",lE="∓",uE="𝓂",cE="ℳ",dE="∾",pE="Μ",fE="μ",hE="⊸",mE="⊸",vE="∇",gE="Ń",yE="ń",bE="∠⃒",wE="≉",kE="⩰̸",CE="≋̸",xE="ŉ",TE="≉",EE="♮",ME="ℕ",LE="♮",NE=" ",SE="≎̸",OE="≏̸",IE="⩃",DE="Ň",AE="ň",PE="Ņ",RE="ņ",HE="≇",BE="⩭̸",FE="⩂",jE="Н",qE="н",zE="–",VE="⤤",_E="↗",UE="⇗",$E="↗",WE="≠",GE="≐̸",XE="​",ZE="​",QE="​",KE="​",YE="≢",JE="⤨",eM="≂̸",tM="≫",nM="≪",rM="\n",oM="∄",iM="∄",aM="𝔑",sM="𝔫",lM="≧̸",uM="≱",cM="≱",dM="≧̸",pM="⩾̸",fM="⩾̸",hM="⋙̸",mM="≵",vM="≫⃒",gM="≯",yM="≯",bM="≫̸",wM="↮",kM="⇎",CM="⫲",xM="∋",TM="⋼",EM="⋺",MM="∋",LM="Њ",NM="њ",SM="↚",OM="⇍",IM="‥",DM="≦̸",AM="≰",PM="↚",RM="⇍",HM="↮",BM="⇎",FM="≰",jM="≦̸",qM="⩽̸",zM="⩽̸",VM="≮",_M="⋘̸",UM="≴",$M="≪⃒",WM="≮",GM="⋪",XM="⋬",ZM="≪̸",QM="∤",KM="⁠",YM=" ",JM="𝕟",eL="ℕ",tL="⫬",nL="¬",rL="≢",oL="≭",iL="∦",aL="∉",sL="≠",lL="≂̸",uL="∄",cL="≯",dL="≱",pL="≧̸",fL="≫̸",hL="≹",mL="⩾̸",vL="≵",gL="≎̸",yL="≏̸",bL="∉",wL="⋵̸",kL="⋹̸",CL="∉",xL="⋷",TL="⋶",EL="⧏̸",ML="⋪",LL="⋬",NL="≮",SL="≰",OL="≸",IL="≪̸",DL="⩽̸",AL="≴",PL="⪢̸",RL="⪡̸",HL="∌",BL="∌",FL="⋾",jL="⋽",qL="⊀",zL="⪯̸",VL="⋠",_L="∌",UL="⧐̸",$L="⋫",WL="⋭",GL="⊏̸",XL="⋢",ZL="⊐̸",QL="⋣",KL="⊂⃒",YL="⊈",JL="⊁",eN="⪰̸",tN="⋡",nN="≿̸",rN="⊃⃒",oN="⊉",iN="≁",aN="≄",sN="≇",lN="≉",uN="∤",cN="∦",dN="∦",pN="⫽⃥",fN="∂̸",hN="⨔",mN="⊀",vN="⋠",gN="⊀",yN="⪯̸",bN="⪯̸",wN="⤳̸",kN="↛",CN="⇏",xN="↝̸",TN="↛",EN="⇏",MN="⋫",LN="⋭",NN="⊁",SN="⋡",ON="⪰̸",IN="𝒩",DN="𝓃",AN="∤",PN="∦",RN="≁",HN="≄",BN="≄",FN="∤",jN="∦",qN="⋢",zN="⋣",VN="⊄",_N="⫅̸",UN="⊈",$N="⊂⃒",WN="⊈",GN="⫅̸",XN="⊁",ZN="⪰̸",QN="⊅",KN="⫆̸",YN="⊉",JN="⊃⃒",eS="⊉",tS="⫆̸",nS="≹",rS="Ñ",oS="ñ",iS="≸",aS="⋪",sS="⋬",lS="⋫",uS="⋭",cS="Ν",dS="ν",pS="#",fS="№",hS=" ",mS="≍⃒",vS="⊬",gS="⊭",yS="⊮",bS="⊯",wS="≥⃒",kS=">⃒",CS="⤄",xS="⧞",TS="⤂",ES="≤⃒",MS="<⃒",LS="⊴⃒",NS="⤃",SS="⊵⃒",OS="∼⃒",IS="⤣",DS="↖",AS="⇖",PS="↖",RS="⤧",HS="Ó",BS="ó",FS="⊛",jS="Ô",qS="ô",zS="⊚",VS="О",_S="о",US="⊝",$S="Ő",WS="ő",GS="⨸",XS="⊙",ZS="⦼",QS="Œ",KS="œ",YS="⦿",JS="𝔒",eO="𝔬",tO="˛",nO="Ò",rO="ò",oO="⧁",iO="⦵",aO="Ω",sO="∮",lO="↺",uO="⦾",cO="⦻",dO="‾",pO="⧀",fO="Ō",hO="ō",mO="Ω",vO="ω",gO="Ο",yO="ο",bO="⦶",wO="⊖",kO="𝕆",CO="𝕠",xO="⦷",TO="“",EO="‘",MO="⦹",LO="⊕",NO="↻",SO="⩔",OO="∨",IO="⩝",DO="ℴ",AO="ℴ",PO="ª",RO="º",HO="⊶",BO="⩖",FO="⩗",jO="⩛",qO="Ⓢ",zO="𝒪",VO="ℴ",_O="Ø",UO="ø",$O="⊘",WO="Õ",GO="õ",XO="⨶",ZO="⨷",QO="⊗",KO="Ö",YO="ö",JO="⌽",eI="‾",tI="⏞",nI="⎴",rI="⏜",oI="¶",iI="∥",aI="∥",sI="⫳",lI="⫽",uI="∂",cI="∂",dI="П",pI="п",fI="%",hI=".",mI="‰",vI="⊥",gI="‱",yI="𝔓",bI="𝔭",wI="Φ",kI="φ",CI="ϕ",xI="ℳ",TI="☎",EI="Π",MI="π",LI="⋔",NI="ϖ",SI="ℏ",OI="ℎ",II="ℏ",DI="⨣",AI="⊞",PI="⨢",RI="+",HI="∔",BI="⨥",FI="⩲",jI="±",qI="±",zI="⨦",VI="⨧",_I="±",UI="ℌ",$I="⨕",WI="𝕡",GI="ℙ",XI="£",ZI="⪷",QI="⪻",KI="≺",YI="≼",JI="⪷",eD="≺",tD="≼",nD="≺",rD="⪯",oD="≼",iD="≾",aD="⪯",sD="⪹",lD="⪵",uD="⋨",cD="⪯",dD="⪳",pD="≾",fD="′",hD="″",mD="ℙ",vD="⪹",gD="⪵",yD="⋨",bD="∏",wD="∏",kD="⌮",CD="⌒",xD="⌓",TD="∝",ED="∝",MD="∷",LD="∝",ND="≾",SD="⊰",OD="𝒫",ID="𝓅",DD="Ψ",AD="ψ",PD=" ",RD="𝔔",HD="𝔮",BD="⨌",FD="𝕢",jD="ℚ",qD="⁗",zD="𝒬",VD="𝓆",_D="ℍ",UD="⨖",$D="?",WD="≟",GD='"',XD='"',ZD="⇛",QD="∽̱",KD="Ŕ",YD="ŕ",JD="√",eA="⦳",tA="⟩",nA="⟫",rA="⦒",oA="⦥",iA="⟩",aA="»",sA="⥵",lA="⇥",uA="⤠",cA="⤳",dA="→",pA="↠",fA="⇒",hA="⤞",mA="↪",vA="↬",gA="⥅",yA="⥴",bA="⤖",wA="↣",kA="↝",CA="⤚",xA="⤜",TA="∶",EA="ℚ",MA="⤍",LA="⤏",NA="⤐",SA="❳",OA="}",IA="]",DA="⦌",AA="⦎",PA="⦐",RA="Ř",HA="ř",BA="Ŗ",FA="ŗ",jA="⌉",qA="}",zA="Р",VA="р",_A="⤷",UA="⥩",$A="”",WA="”",GA="↳",XA="ℜ",ZA="ℛ",QA="ℜ",KA="ℝ",YA="ℜ",JA="▭",eP="®",tP="®",nP="∋",rP="⇋",oP="⥯",iP="⥽",aP="⌋",sP="𝔯",lP="ℜ",uP="⥤",cP="⇁",dP="⇀",pP="⥬",fP="Ρ",hP="ρ",mP="ϱ",vP="⟩",gP="⇥",yP="→",bP="→",wP="⇒",kP="⇄",CP="↣",xP="⌉",TP="⟧",EP="⥝",MP="⥕",LP="⇂",NP="⌋",SP="⇁",OP="⇀",IP="⇄",DP="⇌",AP="⇉",PP="↝",RP="↦",HP="⊢",BP="⥛",FP="⋌",jP="⧐",qP="⊳",zP="⊵",VP="⥏",_P="⥜",UP="⥔",$P="↾",WP="⥓",GP="⇀",XP="˚",ZP="≓",QP="⇄",KP="⇌",YP="‏",JP="⎱",eR="⎱",tR="⫮",nR="⟭",rR="⇾",oR="⟧",iR="⦆",aR="𝕣",sR="ℝ",lR="⨮",uR="⨵",cR="⥰",dR=")",pR="⦔",fR="⨒",hR="⇉",mR="⇛",vR="›",gR="𝓇",yR="ℛ",bR="↱",wR="↱",kR="]",CR="’",xR="’",TR="⋌",ER="⋊",MR="▹",LR="⊵",NR="▸",SR="⧎",OR="⧴",IR="⥨",DR="℞",AR="Ś",PR="ś",RR="‚",HR="⪸",BR="Š",FR="š",jR="⪼",qR="≻",zR="≽",VR="⪰",_R="⪴",UR="Ş",$R="ş",WR="Ŝ",GR="ŝ",XR="⪺",ZR="⪶",QR="⋩",KR="⨓",YR="≿",JR="С",eH="с",tH="⊡",nH="⋅",rH="⩦",oH="⤥",iH="↘",aH="⇘",sH="↘",lH="§",uH=";",cH="⤩",dH="∖",pH="∖",fH="✶",hH="𝔖",mH="𝔰",vH="⌢",gH="♯",yH="Щ",bH="щ",wH="Ш",kH="ш",CH="↓",xH="←",TH="∣",EH="∥",MH="→",LH="↑",NH="­",SH="Σ",OH="σ",IH="ς",DH="ς",AH="∼",PH="⩪",RH="≃",HH="≃",BH="⪞",FH="⪠",jH="⪝",qH="⪟",zH="≆",VH="⨤",_H="⥲",UH="←",$H="∘",WH="∖",GH="⨳",XH="⧤",ZH="∣",QH="⌣",KH="⪪",YH="⪬",JH="⪬︀",eB="Ь",tB="ь",nB="⌿",rB="⧄",oB="/",iB="𝕊",aB="𝕤",sB="♠",lB="♠",uB="∥",cB="⊓",dB="⊓︀",pB="⊔",fB="⊔︀",hB="√",mB="⊏",vB="⊑",gB="⊏",yB="⊑",bB="⊐",wB="⊒",kB="⊐",CB="⊒",xB="□",TB="□",EB="⊓",MB="⊏",LB="⊑",NB="⊐",SB="⊒",OB="⊔",IB="▪",DB="□",AB="▪",PB="→",RB="𝒮",HB="𝓈",BB="∖",FB="⌣",jB="⋆",qB="⋆",zB="☆",VB="★",_B="ϵ",UB="ϕ",$B="¯",WB="⊂",GB="⋐",XB="⪽",ZB="⫅",QB="⊆",KB="⫃",YB="⫁",JB="⫋",eF="⊊",tF="⪿",nF="⥹",rF="⊂",oF="⋐",iF="⊆",aF="⫅",sF="⊆",lF="⊊",uF="⫋",cF="⫇",dF="⫕",pF="⫓",fF="⪸",hF="≻",mF="≽",vF="≻",gF="⪰",yF="≽",bF="≿",wF="⪰",kF="⪺",CF="⪶",xF="⋩",TF="≿",EF="∋",MF="∑",LF="∑",NF="♪",SF="¹",OF="²",IF="³",DF="⊃",AF="⋑",PF="⪾",RF="⫘",HF="⫆",BF="⊇",FF="⫄",jF="⊃",qF="⊇",zF="⟉",VF="⫗",_F="⥻",UF="⫂",$F="⫌",WF="⊋",GF="⫀",XF="⊃",ZF="⋑",QF="⊇",KF="⫆",YF="⊋",JF="⫌",ej="⫈",tj="⫔",nj="⫖",rj="⤦",oj="↙",ij="⇙",aj="↙",sj="⤪",lj="ß",uj="\t",cj="⌖",dj="Τ",pj="τ",fj="⎴",hj="Ť",mj="ť",vj="Ţ",gj="ţ",yj="Т",bj="т",wj="⃛",kj="⌕",Cj="𝔗",xj="𝔱",Tj="∴",Ej="∴",Mj="∴",Lj="Θ",Nj="θ",Sj="ϑ",Oj="ϑ",Ij="≈",Dj="∼",Aj="  ",Pj=" ",Rj=" ",Hj="≈",Bj="∼",Fj="Þ",jj="þ",qj="˜",zj="∼",Vj="≃",_j="≅",Uj="≈",$j="⨱",Wj="⊠",Gj="×",Xj="⨰",Zj="∭",Qj="⤨",Kj="⌶",Yj="⫱",Jj="⊤",eq="𝕋",tq="𝕥",nq="⫚",rq="⤩",oq="‴",iq="™",aq="™",sq="▵",lq="▿",uq="◃",cq="⊴",dq="≜",pq="▹",fq="⊵",hq="◬",mq="≜",vq="⨺",gq="⃛",yq="⨹",bq="⧍",wq="⨻",kq="⏢",Cq="𝒯",xq="𝓉",Tq="Ц",Eq="ц",Mq="Ћ",Lq="ћ",Nq="Ŧ",Sq="ŧ",Oq="≬",Iq="↞",Dq="↠",Aq="Ú",Pq="ú",Rq="↑",Hq="↟",Bq="⇑",Fq="⥉",jq="Ў",qq="ў",zq="Ŭ",Vq="ŭ",_q="Û",Uq="û",$q="У",Wq="у",Gq="⇅",Xq="Ű",Zq="ű",Qq="⥮",Kq="⥾",Yq="𝔘",Jq="𝔲",ez="Ù",tz="ù",nz="⥣",rz="↿",oz="↾",iz="▀",az="⌜",sz="⌜",lz="⌏",uz="◸",cz="Ū",dz="ū",pz="¨",fz="_",hz="⏟",mz="⎵",vz="⏝",gz="⋃",yz="⊎",bz="Ų",wz="ų",kz="𝕌",Cz="𝕦",xz="⤒",Tz="↑",Ez="↑",Mz="⇑",Lz="⇅",Nz="↕",Sz="↕",Oz="⇕",Iz="⥮",Dz="↿",Az="↾",Pz="⊎",Rz="↖",Hz="↗",Bz="υ",Fz="ϒ",jz="ϒ",qz="Υ",zz="υ",Vz="↥",_z="⊥",Uz="⇈",$z="⌝",Wz="⌝",Gz="⌎",Xz="Ů",Zz="ů",Qz="◹",Kz="𝒰",Yz="𝓊",Jz="⋰",eV="Ũ",tV="ũ",nV="▵",rV="▴",oV="⇈",iV="Ü",aV="ü",sV="⦧",lV="⦜",uV="ϵ",cV="ϰ",dV="∅",pV="ϕ",fV="ϖ",hV="∝",mV="↕",vV="⇕",gV="ϱ",yV="ς",bV="⊊︀",wV="⫋︀",kV="⊋︀",CV="⫌︀",xV="ϑ",TV="⊲",EV="⊳",MV="⫨",LV="⫫",NV="⫩",SV="В",OV="в",IV="⊢",DV="⊨",AV="⊩",PV="⊫",RV="⫦",HV="⊻",BV="∨",FV="⋁",jV="≚",qV="⋮",zV="|",VV="‖",_V="|",UV="‖",$V="∣",WV="|",GV="❘",XV="≀",ZV=" ",QV="𝔙",KV="𝔳",YV="⊲",JV="⊂⃒",e_="⊃⃒",t_="𝕍",n_="𝕧",r_="∝",o_="⊳",i_="𝒱",a_="𝓋",s_="⫋︀",l_="⊊︀",u_="⫌︀",c_="⊋︀",d_="⊪",p_="⦚",f_="Ŵ",h_="ŵ",m_="⩟",v_="∧",g_="⋀",y_="≙",b_="℘",w_="𝔚",k_="𝔴",C_="𝕎",x_="𝕨",T_="℘",E_="≀",M_="≀",L_="𝒲",N_="𝓌",S_="⋂",O_="◯",I_="⋃",D_="▽",A_="𝔛",P_="𝔵",R_="⟷",H_="⟺",B_="Ξ",F_="ξ",j_="⟵",q_="⟸",z_="⟼",V_="⋻",__="⨀",U_="𝕏",$_="𝕩",W_="⨁",G_="⨂",X_="⟶",Z_="⟹",Q_="𝒳",K_="𝓍",Y_="⨆",J_="⨄",eU="△",tU="⋁",nU="⋀",rU="Ý",oU="ý",iU="Я",aU="я",sU="Ŷ",lU="ŷ",uU="Ы",cU="ы",dU="¥",pU="𝔜",fU="𝔶",hU="Ї",mU="ї",vU="𝕐",gU="𝕪",yU="𝒴",bU="𝓎",wU="Ю",kU="ю",CU="ÿ",xU="Ÿ",TU="Ź",EU="ź",MU="Ž",LU="ž",NU="З",SU="з",OU="Ż",IU="ż",DU="ℨ",AU="​",PU="Ζ",RU="ζ",HU="𝔷",BU="ℨ",FU="Ж",jU="ж",qU="⇝",zU="𝕫",VU="ℤ",_U="𝒵",UU="𝓏",$U="‍",WU="‌",GU={Aacute:Si,aacute:Oi,Abreve:Ii,abreve:Di,ac:Ai,acd:Pi,acE:Ri,Acirc:Hi,acirc:Bi,acute:Fi,Acy:ji,acy:qi,AElig:zi,aelig:Vi,af:_i,Afr:Ui,afr:$i,Agrave:Wi,agrave:Gi,alefsym:Xi,aleph:Zi,Alpha:Qi,alpha:Ki,Amacr:Yi,amacr:Ji,amalg:ea,amp:ta,AMP:na,andand:ra,And:oa,and:ia,andd:aa,andslope:sa,andv:la,ang:ua,ange:ca,angle:da,angmsdaa:pa,angmsdab:fa,angmsdac:ha,angmsdad:ma,angmsdae:va,angmsdaf:ga,angmsdag:ya,angmsdah:ba,angmsd:wa,angrt:ka,angrtvb:Ca,angrtvbd:xa,angsph:Ta,angst:Ea,angzarr:Ma,Aogon:La,aogon:Na,Aopf:Sa,aopf:Oa,apacir:Ia,ap:Da,apE:Aa,ape:Pa,apid:Ra,apos:Ha,ApplyFunction:Ba,approx:Fa,approxeq:ja,Aring:qa,aring:za,Ascr:Va,ascr:_a,Assign:Ua,ast:$a,asymp:Wa,asympeq:Ga,Atilde:Xa,atilde:Za,Auml:Qa,auml:Ka,awconint:Ya,awint:Ja,backcong:es,backepsilon:ts,backprime:ns,backsim:rs,backsimeq:os,Backslash:is,Barv:as,barvee:ss,barwed:ls,Barwed:us,barwedge:cs,bbrk:ds,bbrktbrk:ps,bcong:fs,Bcy:hs,bcy:ms,bdquo:vs,becaus:gs,because:ys,Because:bs,bemptyv:ws,bepsi:ks,bernou:Cs,Bernoullis:xs,Beta:Ts,beta:Es,beth:Ms,between:Ls,Bfr:Ns,bfr:Ss,bigcap:Os,bigcirc:Is,bigcup:Ds,bigodot:As,bigoplus:Ps,bigotimes:Rs,bigsqcup:Hs,bigstar:Bs,bigtriangledown:Fs,bigtriangleup:js,biguplus:qs,bigvee:zs,bigwedge:Vs,bkarow:_s,blacklozenge:Us,blacksquare:$s,blacktriangle:Ws,blacktriangledown:Gs,blacktriangleleft:Xs,blacktriangleright:Zs,blank:Qs,blk12:Ks,blk14:Ys,blk34:Js,block:el,bne:tl,bnequiv:nl,bNot:rl,bnot:ol,Bopf:il,bopf:al,bot:sl,bottom:ll,bowtie:ul,boxbox:cl,boxdl:dl,boxdL:pl,boxDl:fl,boxDL:hl,boxdr:ml,boxdR:vl,boxDr:gl,boxDR:yl,boxh:bl,boxH:wl,boxhd:kl,boxHd:Cl,boxhD:xl,boxHD:Tl,boxhu:El,boxHu:Ml,boxhU:Ll,boxHU:Nl,boxminus:Sl,boxplus:Ol,boxtimes:Il,boxul:Dl,boxuL:Al,boxUl:Pl,boxUL:Rl,boxur:Hl,boxuR:Bl,boxUr:Fl,boxUR:jl,boxv:ql,boxV:zl,boxvh:Vl,boxvH:_l,boxVh:Ul,boxVH:$l,boxvl:Wl,boxvL:Gl,boxVl:Xl,boxVL:Zl,boxvr:Ql,boxvR:Kl,boxVr:Yl,boxVR:Jl,bprime:eu,breve:tu,Breve:nu,brvbar:ru,bscr:ou,Bscr:iu,bsemi:au,bsim:su,bsime:lu,bsolb:uu,bsol:cu,bsolhsub:du,bull:pu,bullet:fu,bump:hu,bumpE:mu,bumpe:vu,Bumpeq:gu,bumpeq:yu,Cacute:bu,cacute:wu,capand:ku,capbrcup:Cu,capcap:xu,cap:Tu,Cap:Eu,capcup:Mu,capdot:Lu,CapitalDifferentialD:Nu,caps:Su,caret:Ou,caron:Iu,Cayleys:Du,ccaps:Au,Ccaron:Pu,ccaron:Ru,Ccedil:Hu,ccedil:Bu,Ccirc:Fu,ccirc:ju,Cconint:qu,ccups:zu,ccupssm:Vu,Cdot:_u,cdot:Uu,cedil:$u,Cedilla:Wu,cemptyv:Gu,cent:Xu,centerdot:Zu,CenterDot:Qu,cfr:Ku,Cfr:Yu,CHcy:Ju,chcy:ec,check:tc,checkmark:nc,Chi:rc,chi:oc,circ:ic,circeq:ac,circlearrowleft:sc,circlearrowright:lc,circledast:uc,circledcirc:cc,circleddash:dc,CircleDot:pc,circledR:fc,circledS:hc,CircleMinus:mc,CirclePlus:vc,CircleTimes:gc,cir:yc,cirE:bc,cire:wc,cirfnint:kc,cirmid:Cc,cirscir:xc,ClockwiseContourIntegral:Tc,CloseCurlyDoubleQuote:Ec,CloseCurlyQuote:Mc,clubs:Lc,clubsuit:Nc,colon:Sc,Colon:Oc,Colone:Ic,colone:Dc,coloneq:Ac,comma:Pc,commat:Rc,comp:Hc,compfn:Bc,complement:Fc,complexes:jc,cong:qc,congdot:zc,Congruent:Vc,conint:_c,Conint:Uc,ContourIntegral:$c,copf:Wc,Copf:Gc,coprod:Xc,Coproduct:Zc,copy:Qc,COPY:Kc,copysr:Yc,CounterClockwiseContourIntegral:Jc,crarr:ed,cross:td,Cross:nd,Cscr:rd,cscr:od,csub:id,csube:ad,csup:sd,csupe:ld,ctdot:ud,cudarrl:cd,cudarrr:dd,cuepr:pd,cuesc:fd,cularr:hd,cularrp:md,cupbrcap:vd,cupcap:gd,CupCap:yd,cup:bd,Cup:wd,cupcup:kd,cupdot:Cd,cupor:xd,cups:Td,curarr:Ed,curarrm:Md,curlyeqprec:Ld,curlyeqsucc:Nd,curlyvee:Sd,curlywedge:Od,curren:Id,curvearrowleft:Dd,curvearrowright:Ad,cuvee:Pd,cuwed:Rd,cwconint:Hd,cwint:Bd,cylcty:Fd,dagger:jd,Dagger:qd,daleth:zd,darr:Vd,Darr:_d,dArr:Ud,dash:$d,Dashv:Wd,dashv:Gd,dbkarow:Xd,dblac:Zd,Dcaron:Qd,dcaron:Kd,Dcy:Yd,dcy:Jd,ddagger:ep,ddarr:tp,DD:np,dd:rp,DDotrahd:op,ddotseq:ip,deg:ap,Del:sp,Delta:lp,delta:up,demptyv:cp,dfisht:dp,Dfr:pp,dfr:fp,dHar:hp,dharl:mp,dharr:vp,DiacriticalAcute:gp,DiacriticalDot:yp,DiacriticalDoubleAcute:bp,DiacriticalGrave:wp,DiacriticalTilde:kp,diam:Cp,diamond:xp,Diamond:Tp,diamondsuit:Ep,diams:Mp,die:Lp,DifferentialD:Np,digamma:Sp,disin:Op,div:Ip,divide:Dp,divideontimes:Ap,divonx:Pp,DJcy:Rp,djcy:Hp,dlcorn:Bp,dlcrop:Fp,dollar:jp,Dopf:qp,dopf:zp,Dot:Vp,dot:_p,DotDot:Up,doteq:$p,doteqdot:Wp,DotEqual:Gp,dotminus:Xp,dotplus:Zp,dotsquare:Qp,doublebarwedge:Kp,DoubleContourIntegral:Yp,DoubleDot:Jp,DoubleDownArrow:ef,DoubleLeftArrow:tf,DoubleLeftRightArrow:nf,DoubleLeftTee:rf,DoubleLongLeftArrow:of,DoubleLongLeftRightArrow:af,DoubleLongRightArrow:sf,DoubleRightArrow:lf,DoubleRightTee:uf,DoubleUpArrow:cf,DoubleUpDownArrow:df,DoubleVerticalBar:pf,DownArrowBar:ff,downarrow:hf,DownArrow:mf,Downarrow:vf,DownArrowUpArrow:gf,DownBreve:yf,downdownarrows:bf,downharpoonleft:wf,downharpoonright:kf,DownLeftRightVector:Cf,DownLeftTeeVector:xf,DownLeftVectorBar:Tf,DownLeftVector:Ef,DownRightTeeVector:Mf,DownRightVectorBar:Lf,DownRightVector:Nf,DownTeeArrow:Sf,DownTee:Of,drbkarow:If,drcorn:Df,drcrop:Af,Dscr:Pf,dscr:Rf,DScy:Hf,dscy:Bf,dsol:Ff,Dstrok:jf,dstrok:qf,dtdot:zf,dtri:Vf,dtrif:_f,duarr:Uf,duhar:$f,dwangle:Wf,DZcy:Gf,dzcy:Xf,dzigrarr:Zf,Eacute:Qf,eacute:Kf,easter:Yf,Ecaron:Jf,ecaron:eh,Ecirc:th,ecirc:nh,ecir:rh,ecolon:oh,Ecy:ih,ecy:ah,eDDot:sh,Edot:lh,edot:uh,eDot:ch,ee:dh,efDot:ph,Efr:fh,efr:hh,eg:mh,Egrave:vh,egrave:gh,egs:yh,egsdot:bh,el:wh,Element:kh,elinters:Ch,ell:xh,els:Th,elsdot:Eh,Emacr:Mh,emacr:Lh,empty:Nh,emptyset:Sh,EmptySmallSquare:Oh,emptyv:Ih,EmptyVerySmallSquare:Dh,emsp13:Ah,emsp14:Ph,emsp:Rh,ENG:Hh,eng:Bh,ensp:Fh,Eogon:jh,eogon:qh,Eopf:zh,eopf:Vh,epar:_h,eparsl:Uh,eplus:$h,epsi:Wh,Epsilon:Gh,epsilon:Xh,epsiv:Zh,eqcirc:Qh,eqcolon:Kh,eqsim:Yh,eqslantgtr:Jh,eqslantless:em,Equal:tm,equals:nm,EqualTilde:rm,equest:om,Equilibrium:im,equiv:am,equivDD:sm,eqvparsl:lm,erarr:um,erDot:cm,escr:dm,Escr:pm,esdot:fm,Esim:hm,esim:mm,Eta:vm,eta:gm,ETH:ym,eth:bm,Euml:wm,euml:km,euro:Cm,excl:xm,exist:Tm,Exists:Em,expectation:Mm,exponentiale:Lm,ExponentialE:Nm,fallingdotseq:Sm,Fcy:Om,fcy:Im,female:Dm,ffilig:Am,fflig:Pm,ffllig:Rm,Ffr:Hm,ffr:Bm,filig:Fm,FilledSmallSquare:jm,FilledVerySmallSquare:qm,fjlig:zm,flat:Vm,fllig:_m,fltns:Um,fnof:$m,Fopf:Wm,fopf:Gm,forall:Xm,ForAll:Zm,fork:Qm,forkv:Km,Fouriertrf:Ym,fpartint:Jm,frac12:ev,frac13:tv,frac14:nv,frac15:rv,frac16:ov,frac18:iv,frac23:av,frac25:sv,frac34:lv,frac35:uv,frac38:cv,frac45:dv,frac56:pv,frac58:fv,frac78:hv,frasl:mv,frown:vv,fscr:gv,Fscr:yv,gacute:bv,Gamma:wv,gamma:kv,Gammad:Cv,gammad:xv,gap:Tv,Gbreve:Ev,gbreve:Mv,Gcedil:Lv,Gcirc:Nv,gcirc:Sv,Gcy:Ov,gcy:Iv,Gdot:Dv,gdot:Av,ge:Pv,gE:Rv,gEl:Hv,gel:Bv,geq:Fv,geqq:jv,geqslant:qv,gescc:zv,ges:Vv,gesdot:_v,gesdoto:Uv,gesdotol:$v,gesl:Wv,gesles:Gv,Gfr:Xv,gfr:Zv,gg:Qv,Gg:Kv,ggg:Yv,gimel:Jv,GJcy:eg,gjcy:tg,gla:ng,gl:rg,glE:og,glj:ig,gnap:ag,gnapprox:sg,gne:lg,gnE:ug,gneq:cg,gneqq:dg,gnsim:pg,Gopf:fg,gopf:hg,grave:mg,GreaterEqual:vg,GreaterEqualLess:gg,GreaterFullEqual:yg,GreaterGreater:bg,GreaterLess:wg,GreaterSlantEqual:kg,GreaterTilde:Cg,Gscr:xg,gscr:Tg,gsim:Eg,gsime:Mg,gsiml:Lg,gtcc:Ng,gtcir:Sg,gt:Og,GT:Ig,Gt:Dg,gtdot:Ag,gtlPar:Pg,gtquest:Rg,gtrapprox:Hg,gtrarr:Bg,gtrdot:Fg,gtreqless:jg,gtreqqless:qg,gtrless:zg,gtrsim:Vg,gvertneqq:_g,gvnE:Ug,Hacek:$g,hairsp:Wg,half:Gg,hamilt:Xg,HARDcy:Zg,hardcy:Qg,harrcir:Kg,harr:Yg,hArr:Jg,harrw:ey,Hat:ty,hbar:ny,Hcirc:ry,hcirc:oy,hearts:iy,heartsuit:ay,hellip:sy,hercon:ly,hfr:uy,Hfr:cy,HilbertSpace:dy,hksearow:py,hkswarow:fy,hoarr:hy,homtht:my,hookleftarrow:vy,hookrightarrow:gy,hopf:yy,Hopf:by,horbar:wy,HorizontalLine:ky,hscr:Cy,Hscr:xy,hslash:Ty,Hstrok:Ey,hstrok:My,HumpDownHump:Ly,HumpEqual:Ny,hybull:Sy,hyphen:Oy,Iacute:Iy,iacute:Dy,ic:Ay,Icirc:Py,icirc:Ry,Icy:Hy,icy:By,Idot:Fy,IEcy:jy,iecy:qy,iexcl:zy,iff:Vy,ifr:_y,Ifr:Uy,Igrave:$y,igrave:Wy,ii:Gy,iiiint:Xy,iiint:Zy,iinfin:Qy,iiota:Ky,IJlig:Yy,ijlig:Jy,Imacr:eb,imacr:tb,image:nb,ImaginaryI:rb,imagline:ob,imagpart:ib,imath:ab,Im:sb,imof:lb,imped:ub,Implies:cb,incare:db,in:"∈",infin:pb,infintie:fb,inodot:hb,intcal:mb,int:vb,Int:gb,integers:yb,Integral:bb,intercal:wb,Intersection:kb,intlarhk:Cb,intprod:xb,InvisibleComma:Tb,InvisibleTimes:Eb,IOcy:Mb,iocy:Lb,Iogon:Nb,iogon:Sb,Iopf:Ob,iopf:Ib,Iota:Db,iota:Ab,iprod:Pb,iquest:Rb,iscr:Hb,Iscr:Bb,isin:Fb,isindot:jb,isinE:qb,isins:zb,isinsv:Vb,isinv:_b,it:Ub,Itilde:$b,itilde:Wb,Iukcy:Gb,iukcy:Xb,Iuml:Zb,iuml:Qb,Jcirc:Kb,jcirc:Yb,Jcy:Jb,jcy:ew,Jfr:tw,jfr:nw,jmath:rw,Jopf:ow,jopf:iw,Jscr:aw,jscr:sw,Jsercy:lw,jsercy:uw,Jukcy:cw,jukcy:dw,Kappa:pw,kappa:fw,kappav:hw,Kcedil:mw,kcedil:vw,Kcy:gw,kcy:yw,Kfr:bw,kfr:ww,kgreen:kw,KHcy:Cw,khcy:xw,KJcy:Tw,kjcy:Ew,Kopf:Mw,kopf:Lw,Kscr:Nw,kscr:Sw,lAarr:Ow,Lacute:Iw,lacute:Dw,laemptyv:Aw,lagran:Pw,Lambda:Rw,lambda:Hw,lang:Bw,Lang:Fw,langd:jw,langle:qw,lap:zw,Laplacetrf:Vw,laquo:_w,larrb:Uw,larrbfs:$w,larr:Ww,Larr:Gw,lArr:Xw,larrfs:Zw,larrhk:Qw,larrlp:Kw,larrpl:Yw,larrsim:Jw,larrtl:ek,latail:tk,lAtail:nk,lat:rk,late:ok,lates:ik,lbarr:ak,lBarr:sk,lbbrk:lk,lbrace:uk,lbrack:ck,lbrke:dk,lbrksld:pk,lbrkslu:fk,Lcaron:hk,lcaron:mk,Lcedil:vk,lcedil:gk,lceil:yk,lcub:bk,Lcy:wk,lcy:kk,ldca:Ck,ldquo:xk,ldquor:Tk,ldrdhar:Ek,ldrushar:Mk,ldsh:Lk,le:Nk,lE:Sk,LeftAngleBracket:Ok,LeftArrowBar:Ik,leftarrow:Dk,LeftArrow:Ak,Leftarrow:Pk,LeftArrowRightArrow:Rk,leftarrowtail:Hk,LeftCeiling:Bk,LeftDoubleBracket:Fk,LeftDownTeeVector:jk,LeftDownVectorBar:qk,LeftDownVector:zk,LeftFloor:Vk,leftharpoondown:_k,leftharpoonup:Uk,leftleftarrows:$k,leftrightarrow:Wk,LeftRightArrow:Gk,Leftrightarrow:Xk,leftrightarrows:Zk,leftrightharpoons:Qk,leftrightsquigarrow:Kk,LeftRightVector:Yk,LeftTeeArrow:Jk,LeftTee:eC,LeftTeeVector:tC,leftthreetimes:nC,LeftTriangleBar:rC,LeftTriangle:oC,LeftTriangleEqual:iC,LeftUpDownVector:aC,LeftUpTeeVector:sC,LeftUpVectorBar:lC,LeftUpVector:uC,LeftVectorBar:cC,LeftVector:dC,lEg:pC,leg:fC,leq:hC,leqq:mC,leqslant:vC,lescc:gC,les:yC,lesdot:bC,lesdoto:wC,lesdotor:kC,lesg:CC,lesges:xC,lessapprox:TC,lessdot:EC,lesseqgtr:MC,lesseqqgtr:LC,LessEqualGreater:NC,LessFullEqual:SC,LessGreater:OC,lessgtr:IC,LessLess:DC,lesssim:AC,LessSlantEqual:PC,LessTilde:RC,lfisht:HC,lfloor:BC,Lfr:FC,lfr:jC,lg:qC,lgE:zC,lHar:VC,lhard:_C,lharu:UC,lharul:$C,lhblk:WC,LJcy:GC,ljcy:XC,llarr:ZC,ll:QC,Ll:KC,llcorner:YC,Lleftarrow:JC,llhard:ex,lltri:tx,Lmidot:nx,lmidot:rx,lmoustache:ox,lmoust:ix,lnap:ax,lnapprox:sx,lne:lx,lnE:ux,lneq:cx,lneqq:dx,lnsim:px,loang:fx,loarr:hx,lobrk:mx,longleftarrow:vx,LongLeftArrow:gx,Longleftarrow:yx,longleftrightarrow:bx,LongLeftRightArrow:wx,Longleftrightarrow:kx,longmapsto:Cx,longrightarrow:xx,LongRightArrow:Tx,Longrightarrow:Ex,looparrowleft:Mx,looparrowright:Lx,lopar:Nx,Lopf:Sx,lopf:Ox,loplus:Ix,lotimes:Dx,lowast:Ax,lowbar:Px,LowerLeftArrow:Rx,LowerRightArrow:Hx,loz:Bx,lozenge:Fx,lozf:jx,lpar:qx,lparlt:zx,lrarr:Vx,lrcorner:_x,lrhar:Ux,lrhard:$x,lrm:Wx,lrtri:Gx,lsaquo:Xx,lscr:Zx,Lscr:Qx,lsh:Kx,Lsh:Yx,lsim:Jx,lsime:eT,lsimg:tT,lsqb:nT,lsquo:rT,lsquor:oT,Lstrok:iT,lstrok:aT,ltcc:sT,ltcir:lT,lt:uT,LT:cT,Lt:dT,ltdot:pT,lthree:fT,ltimes:hT,ltlarr:mT,ltquest:vT,ltri:gT,ltrie:yT,ltrif:bT,ltrPar:wT,lurdshar:kT,luruhar:CT,lvertneqq:xT,lvnE:TT,macr:ET,male:MT,malt:LT,maltese:NT,Map:"⤅",map:ST,mapsto:OT,mapstodown:IT,mapstoleft:DT,mapstoup:AT,marker:PT,mcomma:RT,Mcy:HT,mcy:BT,mdash:FT,mDDot:jT,measuredangle:qT,MediumSpace:zT,Mellintrf:VT,Mfr:_T,mfr:UT,mho:$T,micro:WT,midast:GT,midcir:XT,mid:ZT,middot:QT,minusb:KT,minus:YT,minusd:JT,minusdu:eE,MinusPlus:tE,mlcp:nE,mldr:rE,mnplus:oE,models:iE,Mopf:aE,mopf:sE,mp:lE,mscr:uE,Mscr:cE,mstpos:dE,Mu:pE,mu:fE,multimap:hE,mumap:mE,nabla:vE,Nacute:gE,nacute:yE,nang:bE,nap:wE,napE:kE,napid:CE,napos:xE,napprox:TE,natural:EE,naturals:ME,natur:LE,nbsp:NE,nbump:SE,nbumpe:OE,ncap:IE,Ncaron:DE,ncaron:AE,Ncedil:PE,ncedil:RE,ncong:HE,ncongdot:BE,ncup:FE,Ncy:jE,ncy:qE,ndash:zE,nearhk:VE,nearr:_E,neArr:UE,nearrow:$E,ne:WE,nedot:GE,NegativeMediumSpace:XE,NegativeThickSpace:ZE,NegativeThinSpace:QE,NegativeVeryThinSpace:KE,nequiv:YE,nesear:JE,nesim:eM,NestedGreaterGreater:tM,NestedLessLess:nM,NewLine:rM,nexist:oM,nexists:iM,Nfr:aM,nfr:sM,ngE:lM,nge:uM,ngeq:cM,ngeqq:dM,ngeqslant:pM,nges:fM,nGg:hM,ngsim:mM,nGt:vM,ngt:gM,ngtr:yM,nGtv:bM,nharr:wM,nhArr:kM,nhpar:CM,ni:xM,nis:TM,nisd:EM,niv:MM,NJcy:LM,njcy:NM,nlarr:SM,nlArr:OM,nldr:IM,nlE:DM,nle:AM,nleftarrow:PM,nLeftarrow:RM,nleftrightarrow:HM,nLeftrightarrow:BM,nleq:FM,nleqq:jM,nleqslant:qM,nles:zM,nless:VM,nLl:_M,nlsim:UM,nLt:$M,nlt:WM,nltri:GM,nltrie:XM,nLtv:ZM,nmid:QM,NoBreak:KM,NonBreakingSpace:YM,nopf:JM,Nopf:eL,Not:tL,not:nL,NotCongruent:rL,NotCupCap:oL,NotDoubleVerticalBar:iL,NotElement:aL,NotEqual:sL,NotEqualTilde:lL,NotExists:uL,NotGreater:cL,NotGreaterEqual:dL,NotGreaterFullEqual:pL,NotGreaterGreater:fL,NotGreaterLess:hL,NotGreaterSlantEqual:mL,NotGreaterTilde:vL,NotHumpDownHump:gL,NotHumpEqual:yL,notin:bL,notindot:wL,notinE:kL,notinva:CL,notinvb:xL,notinvc:TL,NotLeftTriangleBar:EL,NotLeftTriangle:ML,NotLeftTriangleEqual:LL,NotLess:NL,NotLessEqual:SL,NotLessGreater:OL,NotLessLess:IL,NotLessSlantEqual:DL,NotLessTilde:AL,NotNestedGreaterGreater:PL,NotNestedLessLess:RL,notni:HL,notniva:BL,notnivb:FL,notnivc:jL,NotPrecedes:qL,NotPrecedesEqual:zL,NotPrecedesSlantEqual:VL,NotReverseElement:_L,NotRightTriangleBar:UL,NotRightTriangle:$L,NotRightTriangleEqual:WL,NotSquareSubset:GL,NotSquareSubsetEqual:XL,NotSquareSuperset:ZL,NotSquareSupersetEqual:QL,NotSubset:KL,NotSubsetEqual:YL,NotSucceeds:JL,NotSucceedsEqual:eN,NotSucceedsSlantEqual:tN,NotSucceedsTilde:nN,NotSuperset:rN,NotSupersetEqual:oN,NotTilde:iN,NotTildeEqual:aN,NotTildeFullEqual:sN,NotTildeTilde:lN,NotVerticalBar:uN,nparallel:cN,npar:dN,nparsl:pN,npart:fN,npolint:hN,npr:mN,nprcue:vN,nprec:gN,npreceq:yN,npre:bN,nrarrc:wN,nrarr:kN,nrArr:CN,nrarrw:xN,nrightarrow:TN,nRightarrow:EN,nrtri:MN,nrtrie:LN,nsc:NN,nsccue:SN,nsce:ON,Nscr:IN,nscr:DN,nshortmid:AN,nshortparallel:PN,nsim:RN,nsime:HN,nsimeq:BN,nsmid:FN,nspar:jN,nsqsube:qN,nsqsupe:zN,nsub:VN,nsubE:_N,nsube:UN,nsubset:$N,nsubseteq:WN,nsubseteqq:GN,nsucc:XN,nsucceq:ZN,nsup:QN,nsupE:KN,nsupe:YN,nsupset:JN,nsupseteq:eS,nsupseteqq:tS,ntgl:nS,Ntilde:rS,ntilde:oS,ntlg:iS,ntriangleleft:aS,ntrianglelefteq:sS,ntriangleright:lS,ntrianglerighteq:uS,Nu:cS,nu:dS,num:pS,numero:fS,numsp:hS,nvap:mS,nvdash:vS,nvDash:gS,nVdash:yS,nVDash:bS,nvge:wS,nvgt:kS,nvHarr:CS,nvinfin:xS,nvlArr:TS,nvle:ES,nvlt:MS,nvltrie:LS,nvrArr:NS,nvrtrie:SS,nvsim:OS,nwarhk:IS,nwarr:DS,nwArr:AS,nwarrow:PS,nwnear:RS,Oacute:HS,oacute:BS,oast:FS,Ocirc:jS,ocirc:qS,ocir:zS,Ocy:VS,ocy:_S,odash:US,Odblac:$S,odblac:WS,odiv:GS,odot:XS,odsold:ZS,OElig:QS,oelig:KS,ofcir:YS,Ofr:JS,ofr:eO,ogon:tO,Ograve:nO,ograve:rO,ogt:oO,ohbar:iO,ohm:aO,oint:sO,olarr:lO,olcir:uO,olcross:cO,oline:dO,olt:pO,Omacr:fO,omacr:hO,Omega:mO,omega:vO,Omicron:gO,omicron:yO,omid:bO,ominus:wO,Oopf:kO,oopf:CO,opar:xO,OpenCurlyDoubleQuote:TO,OpenCurlyQuote:EO,operp:MO,oplus:LO,orarr:NO,Or:SO,or:OO,ord:IO,order:DO,orderof:AO,ordf:PO,ordm:RO,origof:HO,oror:BO,orslope:FO,orv:jO,oS:qO,Oscr:zO,oscr:VO,Oslash:_O,oslash:UO,osol:$O,Otilde:WO,otilde:GO,otimesas:XO,Otimes:ZO,otimes:QO,Ouml:KO,ouml:YO,ovbar:JO,OverBar:eI,OverBrace:tI,OverBracket:nI,OverParenthesis:rI,para:oI,parallel:iI,par:aI,parsim:sI,parsl:lI,part:uI,PartialD:cI,Pcy:dI,pcy:pI,percnt:fI,period:hI,permil:mI,perp:vI,pertenk:gI,Pfr:yI,pfr:bI,Phi:wI,phi:kI,phiv:CI,phmmat:xI,phone:TI,Pi:EI,pi:MI,pitchfork:LI,piv:NI,planck:SI,planckh:OI,plankv:II,plusacir:DI,plusb:AI,pluscir:PI,plus:RI,plusdo:HI,plusdu:BI,pluse:FI,PlusMinus:jI,plusmn:qI,plussim:zI,plustwo:VI,pm:_I,Poincareplane:UI,pointint:$I,popf:WI,Popf:GI,pound:XI,prap:ZI,Pr:QI,pr:KI,prcue:YI,precapprox:JI,prec:eD,preccurlyeq:tD,Precedes:nD,PrecedesEqual:rD,PrecedesSlantEqual:oD,PrecedesTilde:iD,preceq:aD,precnapprox:sD,precneqq:lD,precnsim:uD,pre:cD,prE:dD,precsim:pD,prime:fD,Prime:hD,primes:mD,prnap:vD,prnE:gD,prnsim:yD,prod:bD,Product:wD,profalar:kD,profline:CD,profsurf:xD,prop:TD,Proportional:ED,Proportion:MD,propto:LD,prsim:ND,prurel:SD,Pscr:OD,pscr:ID,Psi:DD,psi:AD,puncsp:PD,Qfr:RD,qfr:HD,qint:BD,qopf:FD,Qopf:jD,qprime:qD,Qscr:zD,qscr:VD,quaternions:_D,quatint:UD,quest:$D,questeq:WD,quot:GD,QUOT:XD,rAarr:ZD,race:QD,Racute:KD,racute:YD,radic:JD,raemptyv:eA,rang:tA,Rang:nA,rangd:rA,range:oA,rangle:iA,raquo:aA,rarrap:sA,rarrb:lA,rarrbfs:uA,rarrc:cA,rarr:dA,Rarr:pA,rArr:fA,rarrfs:hA,rarrhk:mA,rarrlp:vA,rarrpl:gA,rarrsim:yA,Rarrtl:bA,rarrtl:wA,rarrw:kA,ratail:CA,rAtail:xA,ratio:TA,rationals:EA,rbarr:MA,rBarr:LA,RBarr:NA,rbbrk:SA,rbrace:OA,rbrack:IA,rbrke:DA,rbrksld:AA,rbrkslu:PA,Rcaron:RA,rcaron:HA,Rcedil:BA,rcedil:FA,rceil:jA,rcub:qA,Rcy:zA,rcy:VA,rdca:_A,rdldhar:UA,rdquo:$A,rdquor:WA,rdsh:GA,real:XA,realine:ZA,realpart:QA,reals:KA,Re:YA,rect:JA,reg:eP,REG:tP,ReverseElement:nP,ReverseEquilibrium:rP,ReverseUpEquilibrium:oP,rfisht:iP,rfloor:aP,rfr:sP,Rfr:lP,rHar:uP,rhard:cP,rharu:dP,rharul:pP,Rho:fP,rho:hP,rhov:mP,RightAngleBracket:vP,RightArrowBar:gP,rightarrow:yP,RightArrow:bP,Rightarrow:wP,RightArrowLeftArrow:kP,rightarrowtail:CP,RightCeiling:xP,RightDoubleBracket:TP,RightDownTeeVector:EP,RightDownVectorBar:MP,RightDownVector:LP,RightFloor:NP,rightharpoondown:SP,rightharpoonup:OP,rightleftarrows:IP,rightleftharpoons:DP,rightrightarrows:AP,rightsquigarrow:PP,RightTeeArrow:RP,RightTee:HP,RightTeeVector:BP,rightthreetimes:FP,RightTriangleBar:jP,RightTriangle:qP,RightTriangleEqual:zP,RightUpDownVector:VP,RightUpTeeVector:_P,RightUpVectorBar:UP,RightUpVector:$P,RightVectorBar:WP,RightVector:GP,ring:XP,risingdotseq:ZP,rlarr:QP,rlhar:KP,rlm:YP,rmoustache:JP,rmoust:eR,rnmid:tR,roang:nR,roarr:rR,robrk:oR,ropar:iR,ropf:aR,Ropf:sR,roplus:lR,rotimes:uR,RoundImplies:cR,rpar:dR,rpargt:pR,rppolint:fR,rrarr:hR,Rrightarrow:mR,rsaquo:vR,rscr:gR,Rscr:yR,rsh:bR,Rsh:wR,rsqb:kR,rsquo:CR,rsquor:xR,rthree:TR,rtimes:ER,rtri:MR,rtrie:LR,rtrif:NR,rtriltri:SR,RuleDelayed:OR,ruluhar:IR,rx:DR,Sacute:AR,sacute:PR,sbquo:RR,scap:HR,Scaron:BR,scaron:FR,Sc:jR,sc:qR,sccue:zR,sce:VR,scE:_R,Scedil:UR,scedil:$R,Scirc:WR,scirc:GR,scnap:XR,scnE:ZR,scnsim:QR,scpolint:KR,scsim:YR,Scy:JR,scy:eH,sdotb:tH,sdot:nH,sdote:rH,searhk:oH,searr:iH,seArr:aH,searrow:sH,sect:lH,semi:uH,seswar:cH,setminus:dH,setmn:pH,sext:fH,Sfr:hH,sfr:mH,sfrown:vH,sharp:gH,SHCHcy:yH,shchcy:bH,SHcy:wH,shcy:kH,ShortDownArrow:CH,ShortLeftArrow:xH,shortmid:TH,shortparallel:EH,ShortRightArrow:MH,ShortUpArrow:LH,shy:NH,Sigma:SH,sigma:OH,sigmaf:IH,sigmav:DH,sim:AH,simdot:PH,sime:RH,simeq:HH,simg:BH,simgE:FH,siml:jH,simlE:qH,simne:zH,simplus:VH,simrarr:_H,slarr:UH,SmallCircle:$H,smallsetminus:WH,smashp:GH,smeparsl:XH,smid:ZH,smile:QH,smt:KH,smte:YH,smtes:JH,SOFTcy:eB,softcy:tB,solbar:nB,solb:rB,sol:oB,Sopf:iB,sopf:aB,spades:sB,spadesuit:lB,spar:uB,sqcap:cB,sqcaps:dB,sqcup:pB,sqcups:fB,Sqrt:hB,sqsub:mB,sqsube:vB,sqsubset:gB,sqsubseteq:yB,sqsup:bB,sqsupe:wB,sqsupset:kB,sqsupseteq:CB,square:xB,Square:TB,SquareIntersection:EB,SquareSubset:MB,SquareSubsetEqual:LB,SquareSuperset:NB,SquareSupersetEqual:SB,SquareUnion:OB,squarf:IB,squ:DB,squf:AB,srarr:PB,Sscr:RB,sscr:HB,ssetmn:BB,ssmile:FB,sstarf:jB,Star:qB,star:zB,starf:VB,straightepsilon:_B,straightphi:UB,strns:$B,sub:WB,Sub:GB,subdot:XB,subE:ZB,sube:QB,subedot:KB,submult:YB,subnE:JB,subne:eF,subplus:tF,subrarr:nF,subset:rF,Subset:oF,subseteq:iF,subseteqq:aF,SubsetEqual:sF,subsetneq:lF,subsetneqq:uF,subsim:cF,subsub:dF,subsup:pF,succapprox:fF,succ:hF,succcurlyeq:mF,Succeeds:vF,SucceedsEqual:gF,SucceedsSlantEqual:yF,SucceedsTilde:bF,succeq:wF,succnapprox:kF,succneqq:CF,succnsim:xF,succsim:TF,SuchThat:EF,sum:MF,Sum:LF,sung:NF,sup1:SF,sup2:OF,sup3:IF,sup:DF,Sup:AF,supdot:PF,supdsub:RF,supE:HF,supe:BF,supedot:FF,Superset:jF,SupersetEqual:qF,suphsol:zF,suphsub:VF,suplarr:_F,supmult:UF,supnE:$F,supne:WF,supplus:GF,supset:XF,Supset:ZF,supseteq:QF,supseteqq:KF,supsetneq:YF,supsetneqq:JF,supsim:ej,supsub:tj,supsup:nj,swarhk:rj,swarr:oj,swArr:ij,swarrow:aj,swnwar:sj,szlig:lj,Tab:uj,target:cj,Tau:dj,tau:pj,tbrk:fj,Tcaron:hj,tcaron:mj,Tcedil:vj,tcedil:gj,Tcy:yj,tcy:bj,tdot:wj,telrec:kj,Tfr:Cj,tfr:xj,there4:Tj,therefore:Ej,Therefore:Mj,Theta:Lj,theta:Nj,thetasym:Sj,thetav:Oj,thickapprox:Ij,thicksim:Dj,ThickSpace:Aj,ThinSpace:Pj,thinsp:Rj,thkap:Hj,thksim:Bj,THORN:Fj,thorn:jj,tilde:qj,Tilde:zj,TildeEqual:Vj,TildeFullEqual:_j,TildeTilde:Uj,timesbar:$j,timesb:Wj,times:Gj,timesd:Xj,tint:Zj,toea:Qj,topbot:Kj,topcir:Yj,top:Jj,Topf:eq,topf:tq,topfork:nq,tosa:rq,tprime:oq,trade:iq,TRADE:aq,triangle:sq,triangledown:lq,triangleleft:uq,trianglelefteq:cq,triangleq:dq,triangleright:pq,trianglerighteq:fq,tridot:hq,trie:mq,triminus:vq,TripleDot:gq,triplus:yq,trisb:bq,tritime:wq,trpezium:kq,Tscr:Cq,tscr:xq,TScy:Tq,tscy:Eq,TSHcy:Mq,tshcy:Lq,Tstrok:Nq,tstrok:Sq,twixt:Oq,twoheadleftarrow:Iq,twoheadrightarrow:Dq,Uacute:Aq,uacute:Pq,uarr:Rq,Uarr:Hq,uArr:Bq,Uarrocir:Fq,Ubrcy:jq,ubrcy:qq,Ubreve:zq,ubreve:Vq,Ucirc:_q,ucirc:Uq,Ucy:$q,ucy:Wq,udarr:Gq,Udblac:Xq,udblac:Zq,udhar:Qq,ufisht:Kq,Ufr:Yq,ufr:Jq,Ugrave:ez,ugrave:tz,uHar:nz,uharl:rz,uharr:oz,uhblk:iz,ulcorn:az,ulcorner:sz,ulcrop:lz,ultri:uz,Umacr:cz,umacr:dz,uml:pz,UnderBar:fz,UnderBrace:hz,UnderBracket:mz,UnderParenthesis:vz,Union:gz,UnionPlus:yz,Uogon:bz,uogon:wz,Uopf:kz,uopf:Cz,UpArrowBar:xz,uparrow:Tz,UpArrow:Ez,Uparrow:Mz,UpArrowDownArrow:Lz,updownarrow:Nz,UpDownArrow:Sz,Updownarrow:Oz,UpEquilibrium:Iz,upharpoonleft:Dz,upharpoonright:Az,uplus:Pz,UpperLeftArrow:Rz,UpperRightArrow:Hz,upsi:Bz,Upsi:Fz,upsih:jz,Upsilon:qz,upsilon:zz,UpTeeArrow:Vz,UpTee:_z,upuparrows:Uz,urcorn:$z,urcorner:Wz,urcrop:Gz,Uring:Xz,uring:Zz,urtri:Qz,Uscr:Kz,uscr:Yz,utdot:Jz,Utilde:eV,utilde:tV,utri:nV,utrif:rV,uuarr:oV,Uuml:iV,uuml:aV,uwangle:sV,vangrt:lV,varepsilon:uV,varkappa:cV,varnothing:dV,varphi:pV,varpi:fV,varpropto:hV,varr:mV,vArr:vV,varrho:gV,varsigma:yV,varsubsetneq:bV,varsubsetneqq:wV,varsupsetneq:kV,varsupsetneqq:CV,vartheta:xV,vartriangleleft:TV,vartriangleright:EV,vBar:MV,Vbar:LV,vBarv:NV,Vcy:SV,vcy:OV,vdash:IV,vDash:DV,Vdash:AV,VDash:PV,Vdashl:RV,veebar:HV,vee:BV,Vee:FV,veeeq:jV,vellip:qV,verbar:zV,Verbar:VV,vert:_V,Vert:UV,VerticalBar:$V,VerticalLine:WV,VerticalSeparator:GV,VerticalTilde:XV,VeryThinSpace:ZV,Vfr:QV,vfr:KV,vltri:YV,vnsub:JV,vnsup:e_,Vopf:t_,vopf:n_,vprop:r_,vrtri:o_,Vscr:i_,vscr:a_,vsubnE:s_,vsubne:l_,vsupnE:u_,vsupne:c_,Vvdash:d_,vzigzag:p_,Wcirc:f_,wcirc:h_,wedbar:m_,wedge:v_,Wedge:g_,wedgeq:y_,weierp:b_,Wfr:w_,wfr:k_,Wopf:C_,wopf:x_,wp:T_,wr:E_,wreath:M_,Wscr:L_,wscr:N_,xcap:S_,xcirc:O_,xcup:I_,xdtri:D_,Xfr:A_,xfr:P_,xharr:R_,xhArr:H_,Xi:B_,xi:F_,xlarr:j_,xlArr:q_,xmap:z_,xnis:V_,xodot:__,Xopf:U_,xopf:$_,xoplus:W_,xotime:G_,xrarr:X_,xrArr:Z_,Xscr:Q_,xscr:K_,xsqcup:Y_,xuplus:J_,xutri:eU,xvee:tU,xwedge:nU,Yacute:rU,yacute:oU,YAcy:iU,yacy:aU,Ycirc:sU,ycirc:lU,Ycy:uU,ycy:cU,yen:dU,Yfr:pU,yfr:fU,YIcy:hU,yicy:mU,Yopf:vU,yopf:gU,Yscr:yU,yscr:bU,YUcy:wU,yucy:kU,yuml:CU,Yuml:xU,Zacute:TU,zacute:EU,Zcaron:MU,zcaron:LU,Zcy:NU,zcy:SU,Zdot:OU,zdot:IU,zeetrf:DU,ZeroWidthSpace:AU,Zeta:PU,zeta:RU,zfr:HU,Zfr:BU,ZHcy:FU,zhcy:jU,zigrarr:qU,zopf:zU,Zopf:VU,Zscr:_U,zscr:UU,zwj:$U,zwnj:WU},XU="Á",ZU="á",QU="Â",KU="â",YU="´",JU="Æ",e$="æ",t$="À",n$="à",r$="&",o$="&",i$="Å",a$="å",s$="Ã",l$="ã",u$="Ä",c$="ä",d$="¦",p$="Ç",f$="ç",h$="¸",m$="¢",v$="©",g$="©",y$="¤",b$="°",w$="÷",k$="É",C$="é",x$="Ê",T$="ê",E$="È",M$="è",L$="Ð",N$="ð",S$="Ë",O$="ë",I$="½",D$="¼",A$="¾",P$=">",R$=">",H$="Í",B$="í",F$="Î",j$="î",q$="¡",z$="Ì",V$="ì",_$="¿",U$="Ï",$$="ï",W$="«",G$="<",X$="<",Z$="¯",Q$="µ",K$="·",Y$=" ",J$="¬",eW="Ñ",tW="ñ",nW="Ó",rW="ó",oW="Ô",iW="ô",aW="Ò",sW="ò",lW="ª",uW="º",cW="Ø",dW="ø",pW="Õ",fW="õ",hW="Ö",mW="ö",vW="¶",gW="±",yW="£",bW='"',wW='"',kW="»",CW="®",xW="®",TW="§",EW="­",MW="¹",LW="²",NW="³",SW="ß",OW="Þ",IW="þ",DW="×",AW="Ú",PW="ú",RW="Û",HW="û",BW="Ù",FW="ù",jW="¨",qW="Ü",zW="ü",VW="Ý",_W="ý",UW="¥",$W="ÿ",WW={Aacute:XU,aacute:ZU,Acirc:QU,acirc:KU,acute:YU,AElig:JU,aelig:e$,Agrave:t$,agrave:n$,amp:r$,AMP:o$,Aring:i$,aring:a$,Atilde:s$,atilde:l$,Auml:u$,auml:c$,brvbar:d$,Ccedil:p$,ccedil:f$,cedil:h$,cent:m$,copy:v$,COPY:g$,curren:y$,deg:b$,divide:w$,Eacute:k$,eacute:C$,Ecirc:x$,ecirc:T$,Egrave:E$,egrave:M$,ETH:L$,eth:N$,Euml:S$,euml:O$,frac12:I$,frac14:D$,frac34:A$,gt:P$,GT:R$,Iacute:H$,iacute:B$,Icirc:F$,icirc:j$,iexcl:q$,Igrave:z$,igrave:V$,iquest:_$,Iuml:U$,iuml:$$,laquo:W$,lt:G$,LT:X$,macr:Z$,micro:Q$,middot:K$,nbsp:Y$,not:J$,Ntilde:eW,ntilde:tW,Oacute:nW,oacute:rW,Ocirc:oW,ocirc:iW,Ograve:aW,ograve:sW,ordf:lW,ordm:uW,Oslash:cW,oslash:dW,Otilde:pW,otilde:fW,Ouml:hW,ouml:mW,para:vW,plusmn:gW,pound:yW,quot:bW,QUOT:wW,raquo:kW,reg:CW,REG:xW,sect:TW,shy:EW,sup1:MW,sup2:LW,sup3:NW,szlig:SW,THORN:OW,thorn:IW,times:DW,Uacute:AW,uacute:PW,Ucirc:RW,ucirc:HW,Ugrave:BW,ugrave:FW,uml:jW,Uuml:qW,uuml:zW,Yacute:VW,yacute:_W,yen:UW,yuml:$W},GW="&",XW="'",ZW=">",QW="<",KW='"',YW={amp:GW,apos:XW,gt:ZW,lt:QW,quot:KW},JW={},eG={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},tG=Ci&&Ci.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(JW,"__esModule",{value:!0});var nG=tG(eG),rG=String.fromCodePoint||function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e),t};function oG(e){return e>=55296&&e<=57343||e>1114111?"�":(e in nG.default&&(e=nG.default[e]),rG(e))}JW.default=oG;var iG=Ci&&Ci.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.decodeHTML=Ni.decodeHTMLStrict=Ni.decodeXML=void 0;var aG=iG(GU),sG=iG(WW),lG=iG(YW),uG=iG(JW),cG=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function dG(e){var t=fG(e);return function(e){return String(e).replace(cG,t)}}Ni.decodeXML=dG(lG.default),Ni.decodeHTMLStrict=dG(aG.default);var pG=function(e,t){return e<t?1:-1};function fG(e){return function(t){if("#"===t.charAt(1)){var n=t.charAt(2);return"X"===n||"x"===n?uG.default(parseInt(t.substr(3),16)):uG.default(parseInt(t.substr(2),10))}return e[t.slice(1,-1)]||t}}Ni.decodeHTML=function(){for(var e=Object.keys(sG.default).sort(pG),t=Object.keys(aG.default).sort(pG),n=0,r=0;n<t.length;n++)e[r]===t[n]?(t[n]+=";?",r++):t[n]+=";";var o=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),i=fG(aG.default);function a(e){return";"!==e.substr(-1)&&(e+=";"),i(e)}return function(e){return String(e).replace(o,a)}}();var hG={},mG=Ci&&Ci.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hG,"__esModule",{value:!0}),hG.escapeUTF8=hG.escape=hG.encodeNonAsciiHTML=hG.encodeHTML=hG.encodeXML=void 0;var vG=mG(YW),gG=CG(vG.default),yG=xG(gG);hG.encodeXML=IG(gG);var bG=mG(GU),wG=CG(bG.default),kG=xG(wG);function CG(e){return Object.keys(e).sort().reduce((function(t,n){return t[e[n]]="&"+n+";",t}),{})}function xG(e){for(var t=[],n=[],r=0,o=Object.keys(e);r<o.length;r++){var i=o[r];1===i.length?t.push("\\"+i):n.push(i)}t.sort();for(var a=0;a<t.length-1;a++){var s=a;while(s<t.length-1&&t[s].charCodeAt(1)+1===t[s+1].charCodeAt(1))s+=1;var l=1+s-a;l<3||t.splice(a,l,t[a]+"-"+t[s])}return n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}hG.encodeHTML=LG(wG,kG),hG.encodeNonAsciiHTML=IG(wG);var TG=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,EG=null!=String.prototype.codePointAt?function(e){return e.codePointAt(0)}:function(e){return 1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536};function MG(e){return"&#x"+(e.length>1?EG(e):e.charCodeAt(0)).toString(16).toUpperCase()+";"}function LG(e,t){return function(n){return n.replace(t,(function(t){return e[t]})).replace(TG,MG)}}var NG=new RegExp(yG.source+"|"+TG.source,"g");function SG(e){return e.replace(NG,MG)}function OG(e){return e.replace(yG,MG)}function IG(e){return function(t){return t.replace(NG,(function(t){return e[t]||MG(t)}))}}hG.escape=SG,hG.escapeUTF8=OG,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.encodeHTML5=e.encodeHTML4=e.escapeUTF8=e.escape=e.encodeNonAsciiHTML=e.encodeHTML=e.encodeXML=e.encode=e.decodeStrict=e.decode=void 0;var t=Ni,n=hG;function r(e,n){return(!n||n<=0?t.decodeXML:t.decodeHTML)(e)}function o(e,n){return(!n||n<=0?t.decodeXML:t.decodeHTMLStrict)(e)}function i(e,t){return(!t||t<=0?n.encodeXML:n.encodeHTML)(e)}e.decode=r,e.decodeStrict=o,e.encode=i;var a=hG;Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return a.encodeXML}}),Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return a.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return a.encodeNonAsciiHTML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return a.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return a.escapeUTF8}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return a.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return a.encodeHTML}});var s=Ni;Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return s.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return s.decodeXML}})}(Li);var DG="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",AG=92,PG=/[\\&]/,RG="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",HG=new RegExp("\\\\"+RG+"|"+DG,"gi"),BG='[&<>"]',FG=new RegExp(BG,"g"),jG=function(e){return e.charCodeAt(0)===AG?e.charAt(1):Li.decodeHTML(e)};function qG(e){return PG.test(e)?e.replace(HG,jG):e}function zG(e){try{return Mi(e)}catch(t){return e}}function VG(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return e}}function _G(e){return FG.test(e)?e.replace(FG,VG):e}function UG(e,t){for(var n=[],r=0;r<t;r++)n.push(e);return n.join("")}function $G(e){return!e||!/[^ \t]+/.test(e)}var WG=function(){function e(e){this.current=e,this.root=e,this.entering=!0}return e.prototype.next=function(){var e=this.current,t=this.entering;if(null===e)return null;var n=GG(e);return t&&n?e.firstChild?(this.current=e.firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:null===e.next?(this.current=e.parent,this.entering=!1):(this.current=e.next,this.entering=!0),{entering:t,node:e}},e.prototype.resumeAt=function(e,t){this.current=e,this.entering=!0===t},e}();function GG(e){switch(e.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var XG=1,ZG={};function QG(e){return ZG[e]}function KG(e){delete ZG[e]}function YG(){ZG={}}var JG=function(){function e(e,t){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,this.id="document"===e?-1:XG++,this.type=e,this.sourcepos=t,ZG[this.id]=this}return e.prototype.isContainer=function(){return GG(this)},e.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},e.prototype.replaceWith=function(e){this.insertBefore(e),this.unlink()},e.prototype.insertAfter=function(e){e.unlink(),e.next=this.next,e.next&&(e.next.prev=e),e.prev=this,this.next=e,this.parent&&(e.parent=this.parent,e.next||(e.parent.lastChild=e))},e.prototype.insertBefore=function(e){e.unlink(),e.prev=this.prev,e.prev&&(e.prev.next=e),e.next=this,this.prev=e,e.parent=this.parent,e.prev||(e.parent.firstChild=e)},e.prototype.appendChild=function(e){e.unlink(),e.parent=this,this.lastChild?(this.lastChild.next=e,e.prev=this.lastChild,this.lastChild=e):(this.firstChild=e,this.lastChild=e)},e.prototype.prependChild=function(e){e.unlink(),e.parent=this,this.firstChild?(this.firstChild.prev=e,e.next=this.firstChild,this.firstChild=e):(this.firstChild=e,this.lastChild=e)},e.prototype.walker=function(){return new WG(this)},e}(),eX=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.open=!0,r.lineOffsets=null,r.stringContent=null,r.lastLineBlank=!1,r.lastLineChecked=!1,r.type=t,r}return bi(t,e),t}(JG),tX=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listData=null,t}return bi(t,e),t}(eX),nX=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.level=0,t.headingType="atx",t}return bi(t,e),t}(eX),rX=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isFenced=!1,t.fenceChar=null,t.fenceLength=0,t.fenceOffset=-1,t.info=null,t.infoPadding=0,t}return bi(t,e),t}(eX),oX=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.columns=[],t}return bi(t,e),t}(eX),iX=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startIdx=0,t.endIdx=0,t.paddingLeft=0,t.paddingRight=0,t.ignored=!1,t}return bi(t,e),t}(eX),aX=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="",t.dest="",t.label="",t}return bi(t,e),t}(eX),sX=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.syntaxLength=0,t.offset=-1,t.info="",t}return bi(t,e),t}(eX),lX=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.htmlBlockType=-1,t}return bi(t,e),t}(eX),uX=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.destination=null,t.title=null,t.extendedAutolink=!1,t}return bi(t,e),t}(JG),cX=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tickCount=0,t}return bi(t,e),t}(JG),dX=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.info="",t}return bi(t,e),t}(JG);function pX(e,t){switch(e){case"heading":return new nX(e,t);case"list":case"item":return new tX(e,t);case"link":case"image":return new uX(e,t);case"codeBlock":return new rX(e,t);case"htmlBlock":return new lX(e,t);case"table":return new oX(e,t);case"tableCell":return new iX(e,t);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new eX(e,t);case"code":return new cX(e,t);case"refDef":return new aX(e,t);case"customBlock":return new sX(e,t);case"customInline":return new dX(e,t);default:return new JG(e,t)}}function fX(e){return"codeBlock"===e.type}function hX(e){return"htmlBlock"===e.type}function mX(e){return"heading"===e.type}function vX(e){return"list"===e.type}function gX(e){return"table"===e.type}function yX(e){return"refDef"===e.type}function bX(e){return"customBlock"===e.type}function wX(e){return"customInline"===e.type}function kX(e,t){var n=pX("text",t);return n.literal=e,n}var CX,xX="[A-Za-z][A-Za-z0-9-]*",TX="[a-zA-Z_:][a-zA-Z0-9:._-]*",EX="[^\"'=<>`\\x00-\\x20]+",MX="'[^']*'",LX='"[^"]*"',NX="(?:"+EX+"|"+MX+"|"+LX+")",SX="(?:\\s*=\\s*"+NX+")",OX="(?:\\s+"+TX+SX+"?)",IX="<"+xX+OX+"*\\s*/?>",DX="</"+xX+"\\s*[>]",AX="\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e",PX="[<][?].*?[?][>]",RX="<![A-Z]+\\s+[^>]*>",HX="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",BX="(?:"+IX+"|"+DX+"|"+AX+"|"+PX+"|"+RX+"|"+HX+")",FX=new RegExp("^"+BX,"i");if(String.fromCodePoint)CX=function(e){try{return String.fromCodePoint(e)}catch(t){if(t instanceof RangeError)return String.fromCharCode(65533);throw t}};else{var jX=String.fromCharCode,qX=Math.floor;CX=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r,o=16384,i=[],a=-1,s=e.length;if(!s)return"";var l="";while(++a<s){var u=Number(e[a]);if(!isFinite(u)||u<0||u>1114111||qX(u)!==u)return String.fromCharCode(65533);u<=65535?i.push(u):(u-=65536,n=55296+(u>>10),r=u%1024+56320,i.push(n,r)),(a+1===s||i.length>o)&&(l+=jX.apply(void 0,i),i.length=0)}return l}}var zX=CX,VX="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",_X="[^<\\s]*[^<?!.,:*_?~\\s]",UX="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function $X(e){var t=/\)+$/.exec(e);if(t){for(var n=0,r=0,o=e;r<o.length;r++){var i=o[r];"("===i?n<0?n=1:n+=1:")"===i&&(n-=1)}if(n<0){var a=Math.min(-n,t[0].length);return e.substring(0,e.length-a)}}return e}function WX(e){return e.replace(/&[A-Za-z0-9]+;$/,"")}function GX(e){var t,n=new RegExp(UX,"g"),r=[];while(t=n.exec(e)){var o=t[0];/[_-]+$/.test(o)||r.push({text:o,range:[t.index,t.index+o.length-1],url:"mailto:"+o})}return r}function XX(e){var t,n=new RegExp("(www|https?://)."+VX+_X,"g"),r=[];while(t=n.exec(e)){var o=WX($X(t[0])),i="www"===t[1]?"http://":"";r.push({text:o,range:[t.index,t.index+o.length-1],url:""+i+o})}return r}function ZX(e){return ki(ki([],XX(e)),GX(e)).sort((function(e,t){return e.range[0]-t.range[0]}))}function QX(e,t){var n;"boolean"===typeof t&&(t=ZX);var r=function(){var e=n.entering,r=n.node;if(e&&"text"===r.type&&"link"!==r.parent.type){var o=r.literal,i=t(o);if(!i||!i.length)return"continue";for(var a=0,s=r.sourcepos[0],l=s[0],u=s[1],c=function(e,t){return[[l,u+e],[l,u+t]]},d=[],p=0,f=i;p<f.length;p++){var h=f[p],m=h.range,v=h.url,g=h.text;m[0]>a&&d.push(kX(o.substring(a,m[0]),c(a,m[0]-1)));var y=pX("link",c.apply(void 0,m));y.appendChild(kX(g,c.apply(void 0,m))),y.destination=v,y.extendedAutolink=!0,d.push(y),a=m[1]+1}a<o.length&&d.push(kX(o.substring(a),c(a,o.length-1)));for(var b=0,w=d;b<w.length;b++){var k=w[b];r.insertBefore(k)}r.unlink()}};while(n=e.next())r()}function KX(e){return e[e.length-1]}function YX(e){return e.slice(1,e.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function JX(e,t){Object.keys(e).forEach((function(n){t(n,e[n])}))}function eZ(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=wi({},e);return t.forEach((function(e){delete r[e]})),r}function tZ(e){return!Object.keys(e).length}function nZ(e){Object.keys(e).forEach((function(t){delete e[t]}))}var rZ=10,oZ=42,iZ=95,aZ=96,sZ=91,lZ=93,uZ=126,cZ=60,dZ=33,pZ=92,fZ=38,hZ=40,mZ=41,vZ=58,gZ=39,yZ=34,bZ=36,wZ="\\\\"+RG,kZ=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),CZ=new RegExp('^(?:"('+wZ+'|[^"\\x00])*"|\'('+wZ+"|[^'\\x00])*'|\\(("+wZ+"|[^()\\x00])*\\))"),xZ=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,TZ=new RegExp("^"+RG),EZ=new RegExp("^"+DG,"i"),MZ=/`+/,LZ=/^`+/,NZ=/\.\.\./g,SZ=/--+/g,OZ=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,IZ=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,DZ=/^ *(?:\n *)?/,AZ=/^[ \t\n\x0b\x0c\x0d]/,PZ=/^\s/,RZ=/ *$/,HZ=/^ */,BZ=/^ *(?:\n|$)/,FZ=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,jZ=/^[^\n`\[\]\\!<&*_'"~$]+/m,qZ=function(){function e(e){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=e}return e.prototype.sourcepos=function(e,t){var n=this.linePosOffset+this.lineOffsets[this.lineIdx],r=this.lineStartNum+this.lineIdx,o=[r,e+n];return"number"===typeof t?[o,[r,t+n]]:o},e.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},e.prototype.match=function(e){var t=e.exec(this.subject.slice(this.pos));return null===t?null:(this.pos+=t.index+t[0].length,t[0])},e.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},e.prototype.spnl=function(){return this.match(DZ),!0},e.prototype.parseBackticks=function(e){var t=this.pos+1,n=this.match(LZ);if(null===n)return!1;var r,o=this.pos;while(null!==(r=this.match(MZ)))if(r===n){var i=this.subject.slice(o,this.pos-n.length),a=this.sourcepos(t,this.pos),s=i.split("\n");if(s.length>1){var l=KX(s);this.lineIdx+=s.length-1,this.linePosOffset=-(this.pos-l.length-n.length),a[1]=this.sourcepos(this.pos),i=s.join(" ")}var u=pX("code",a);return i.length>0&&null!==i.match(/[^ ]/)&&" "==i[0]&&" "==i[i.length-1]?u.literal=i.slice(1,i.length-1):u.literal=i,u.tickCount=n.length,e.appendChild(u),!0}return this.pos=o,e.appendChild(kX(n,this.sourcepos(t,this.pos-1))),!0},e.prototype.parseBackslash=function(e){var t,n=this.subject;this.pos+=1;var r=this.pos;return this.peek()===rZ?(this.pos+=1,t=pX("linebreak",this.sourcepos(this.pos-1,this.pos)),e.appendChild(t),this.nextLine()):TZ.test(n.charAt(this.pos))?(e.appendChild(kX(n.charAt(this.pos),this.sourcepos(r,this.pos))),this.pos+=1):e.appendChild(kX("\\",this.sourcepos(r,r))),!0},e.prototype.parseAutolink=function(e){var t,n,r,o=this.pos+1;return(t=this.match(OZ))?(n=t.slice(1,t.length-1),r=pX("link",this.sourcepos(o,this.pos)),r.destination=zG("mailto:"+n),r.title="",r.appendChild(kX(n,this.sourcepos(o+1,this.pos-1))),e.appendChild(r),!0):!!(t=this.match(IZ))&&(n=t.slice(1,t.length-1),r=pX("link",this.sourcepos(o,this.pos)),r.destination=zG(n),r.title="",r.appendChild(kX(n,this.sourcepos(o+1,this.pos-1))),e.appendChild(r),!0)},e.prototype.parseHtmlTag=function(e){var t=this.pos+1,n=this.match(FX);if(null===n)return!1;var r=pX("htmlInline",this.sourcepos(t,this.pos));return r.literal=n,e.appendChild(r),!0},e.prototype.scanDelims=function(e){var t=0,n=this.pos;if(e===gZ||e===yZ)t++,this.pos++;else while(this.peek()===e)t++,this.pos++;if(0===t||t<2&&(e===uZ||e===bZ))return this.pos=n,null;var r,o=0===n?"\n":this.subject.charAt(n-1),i=this.peek();r=-1===i?"\n":zX(i);var a,s,l=PZ.test(r),u=kZ.test(r),c=PZ.test(o),d=kZ.test(o),p=!l&&(!u||c||d),f=!c&&(!d||l||u);return e===iZ?(a=p&&(!f||d),s=f&&(!p||u)):e===gZ||e===yZ?(a=p&&!f,s=f):e===bZ?(a=!l,s=!c):(a=p,s=f),this.pos=n,{numdelims:t,canOpen:a,canClose:s}},e.prototype.handleDelim=function(e,t){var n=this.scanDelims(e);if(!n)return!1;var r,o=n.numdelims,i=this.pos+1;this.pos+=o,r=e===gZ?"’":e===yZ?"“":this.subject.slice(i-1,this.pos);var a=kX(r,this.sourcepos(i,this.pos));return t.appendChild(a),(n.canOpen||n.canClose)&&(this.options.smart||e!==gZ&&e!==yZ)&&(this.delimiters={cc:e,numdelims:o,origdelims:o,node:a,previous:this.delimiters,next:null,canOpen:n.canOpen,canClose:n.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},e.prototype.removeDelimiter=function(e){null!==e.previous&&(e.previous.next=e.next),null===e.next?this.delimiters=e.previous:e.next.previous=e.previous},e.prototype.removeDelimitersBetween=function(e,t){e.next!==t&&(e.next=t,t.previous=e)},e.prototype.processEmphasis=function(e){var t,n,r,o,i,a,s,l=!1,u=(t={},t[iZ]=[e,e,e],t[oZ]=[e,e,e],t[gZ]=[e],t[yZ]=[e],t[uZ]=[e],t[bZ]=[e],t);r=this.delimiters;while(null!==r&&r.previous!==e)r=r.previous;while(null!==r){var c=r.cc,d=c===iZ||c===oZ;if(r.canClose){n=r.previous,s=!1;while(null!==n&&n!==e&&n!==u[c][d?r.origdelims%3:0]){if(l=d&&(r.canOpen||n.canClose)&&r.origdelims%3!==0&&(n.origdelims+r.origdelims)%3===0,n.cc===r.cc&&n.canOpen&&!l){s=!0;break}n=n.previous}if(o=r,d||c===uZ||c===bZ)if(s){if(n){var p=r.numdelims>=2&&n.numdelims>=2?2:1,f=d?0:1;i=n.node,a=r.node;var h=d?1===p?"emph":"strong":"strike";c===bZ&&(h="customInline");var m=pX(h),v=i.sourcepos[1],g=a.sourcepos[0];m.sourcepos=[[v[0],v[1]-p+1],[g[0],g[1]+p-1]],i.sourcepos[1][1]-=p,a.sourcepos[0][1]+=p,i.literal=i.literal.slice(p),a.literal=a.literal.slice(p),n.numdelims-=p,r.numdelims-=p;var y=i.next,b=void 0;while(y&&y!==a)b=y.next,y.unlink(),m.appendChild(y),y=b;if(c===bZ){var w=m.firstChild,k=w.literal||"",C=k.split(/\s/)[0];m.info=C,k.length===C.length+1?w.unlink():(w.sourcepos[0][1]+=C.length,w.literal=k.replace(C+" ",""))}if(i.insertAfter(m),this.removeDelimitersBetween(n,r),n.numdelims<=f&&(0===n.numdelims&&i.unlink(),this.removeDelimiter(n)),r.numdelims<=f){0===r.numdelims&&a.unlink();var x=r.next;this.removeDelimiter(r),r=x}}}else r=r.next;else c===gZ?(r.node.literal="’",s&&(n.node.literal="‘"),r=r.next):c===yZ&&(r.node.literal="”",s&&(n.node.literal="“"),r=r.next);s||(u[c][d?o.origdelims%3:0]=o.previous,o.canOpen||this.removeDelimiter(o))}else r=r.next}while(null!==this.delimiters&&this.delimiters!==e)this.removeDelimiter(this.delimiters)},e.prototype.parseLinkTitle=function(){var e=this.match(CZ);return null===e?null:qG(e.substr(1,e.length-2))},e.prototype.parseLinkDestination=function(){var e=this.match(xZ);if(null===e){if(this.peek()===cZ)return null;var t=this.pos,n=0,r=void 0;while(-1!==(r=this.peek()))if(r===pZ&&TZ.test(this.subject.charAt(this.pos+1)))this.pos+=1,-1!==this.peek()&&(this.pos+=1);else if(r===hZ)this.pos+=1,n+=1;else if(r===mZ){if(n<1)break;this.pos+=1,n-=1}else{if(null!==AZ.exec(zX(r)))break;this.pos+=1}return this.pos===t&&r!==mZ||0!==n?null:(e=this.subject.substr(t,this.pos-t),zG(qG(e)))}return zG(qG(e.substr(1,e.length-2)))},e.prototype.parseLinkLabel=function(){var e=this.match(FZ);return null===e||e.length>1001?0:e.length},e.prototype.parseOpenBracket=function(e){var t=this.pos;this.pos+=1;var n=kX("[",this.sourcepos(this.pos,this.pos));return e.appendChild(n),this.addBracket(n,t,!1),!0},e.prototype.parseBang=function(e){var t=this.pos;if(this.pos+=1,this.peek()===sZ){this.pos+=1;var n=kX("![",this.sourcepos(this.pos-1,this.pos));e.appendChild(n),this.addBracket(n,t+1,!0)}else{n=kX("!",this.sourcepos(this.pos,this.pos));e.appendChild(n)}return!0},e.prototype.parseCloseBracket=function(e){var t=null,n=null,r=!1;this.pos+=1;var o=this.pos,i=this.brackets;if(null===i)return e.appendChild(kX("]",this.sourcepos(o,o))),!0;if(!i.active)return e.appendChild(kX("]",this.sourcepos(o,o))),this.removeBracket(),!0;var a=i.image,s=this.pos;this.peek()===hZ&&(this.pos++,this.spnl()&&null!==(t=this.parseLinkDestination())&&this.spnl()&&(AZ.test(this.subject.charAt(this.pos-1))&&(n=this.parseLinkTitle()),1)&&this.spnl()&&this.peek()===mZ?(this.pos+=1,r=!0):this.pos=s);var l="";if(!r){var u=this.pos,c=this.parseLinkLabel();if(c>2?l=this.subject.slice(u,u+c):i.bracketAfter||(l=this.subject.slice(i.index,o)),0===c&&(this.pos=s),l){l=YX(l);var d=this.refMap[l];d&&(t=d.destination,n=d.title,r=!0)}}if(r){var p=pX(a?"image":"link");p.destination=t,p.title=n||"",p.sourcepos=[i.startpos,this.sourcepos(this.pos)];var f=i.node.next,h=void 0;while(f)h=f.next,f.unlink(),p.appendChild(f),f=h;if(e.appendChild(p),this.processEmphasis(i.previousDelimiter),this.removeBracket(),i.node.unlink(),!a){i=this.brackets;while(null!==i)i.image||(i.active=!1),i=i.previous}return this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:l}),!0}return this.removeBracket(),this.pos=o,e.appendChild(kX("]",this.sourcepos(o,o))),this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:l}),!0},e.prototype.addBracket=function(e,t,n){null!==this.brackets&&(this.brackets.bracketAfter=!0),this.brackets={node:e,startpos:this.sourcepos(t+(n?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:t,image:n,active:!0}},e.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},e.prototype.parseEntity=function(e){var t,n=this.pos+1;return!!(t=this.match(EZ))&&(e.appendChild(kX(Li.decodeHTML(t),this.sourcepos(n,this.pos))),!0)},e.prototype.parseString=function(e){var t,n=this.pos+1;if(t=this.match(jZ)){if(this.options.smart){var r=t.replace(NZ,"…").replace(SZ,(function(e){var t=0,n=0;return e.length%3===0?n=e.length/3:e.length%2===0?t=e.length/2:e.length%3===2?(t=1,n=(e.length-2)/3):(t=2,n=(e.length-4)/3),UG("—",n)+UG("–",t)}));e.appendChild(kX(r,this.sourcepos(n,this.pos)))}else{var o=kX(t,this.sourcepos(n,this.pos));e.appendChild(o)}return!0}return!1},e.prototype.parseNewline=function(e){this.pos+=1;var t=e.lastChild;if(t&&"text"===t.type&&" "===t.literal[t.literal.length-1]){var n=" "===t.literal[t.literal.length-2],r=t.literal.length;t.literal=t.literal.replace(RZ,"");var o=r-t.literal.length;t.sourcepos[1][1]-=o,e.appendChild(pX(n?"linebreak":"softbreak",this.sourcepos(this.pos-o,this.pos)))}else e.appendChild(pX("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(HZ),!0},e.prototype.parseReference=function(e,t){if(!this.options.referenceDefinition)return 0;this.subject=e.stringContent,this.pos=0;var n=null,r=this.pos,o=this.parseLinkLabel();if(0===o)return 0;var i=this.subject.substr(0,o);if(this.peek()!==vZ)return this.pos=r,0;this.pos++,this.spnl();var a=this.parseLinkDestination();if(null===a)return this.pos=r,0;var s=this.pos;this.spnl(),this.pos!==s&&(n=this.parseLinkTitle()),null===n&&(n="",this.pos=s);var l=!0;if(null===this.match(BZ)&&(""===n?l=!1:(n="",this.pos=s,l=null!==this.match(BZ))),!l)return this.pos=r,0;var u=YX(i);if(""===u)return this.pos=r,0;var c=this.getReferenceDefSourcepos(e);e.sourcepos[0][0]=c[1][0]+1;var d=pX("refDef",c);return d.title=n,d.dest=a,d.label=u,e.insertBefore(d),t[u]?this.refDefCandidateMap[d.id]=d:t[u]=TK(d),this.pos-r},e.prototype.mergeTextNodes=function(e){var t,n=[];while(t=e.next()){var r=t.entering,o=t.node;if(r&&"text"===o.type)n.push(o);else if(1===n.length)n=[];else if(n.length>1){var i=n[0],a=n[n.length-1];i.sourcepos&&a.sourcepos&&(i.sourcepos[1]=a.sourcepos[1]),i.next=a.next,i.next&&(i.next.prev=i);for(var s=1;s<n.length;s+=1)i.literal+=n[s].literal,n[s].unlink();n=[]}}},e.prototype.getReferenceDefSourcepos=function(e){for(var t=e.stringContent.split(/\n|\r\n/),n=!1,r=0,o={line:0,ch:0},i=0;i<t.length;i+=1){var a=t[i];if(AZ.test(a))break;if(/\:/.test(a)&&0===r){if(n)break;var s=a.indexOf(":")===a.length-1?i+1:i;o={line:s,ch:t[s].length},n=!0}var l=a.match(/'|"/g);if(l&&(r+=l.length),2===r){o={line:i,ch:a.length};break}}return[[e.sourcepos[0][0],e.sourcepos[0][1]],[e.sourcepos[0][0]+o.line,o.ch]]},e.prototype.parseInline=function(e){var t,n=!1,r=this.peek();if(-1===r)return!1;switch(r){case rZ:n=this.parseNewline(e);break;case pZ:n=this.parseBackslash(e);break;case aZ:n=this.parseBackticks(e);break;case oZ:case iZ:case uZ:case bZ:n=this.handleDelim(r,e);break;case gZ:case yZ:n=!!(null===(t=this.options)||void 0===t?void 0:t.smart)&&this.handleDelim(r,e);break;case sZ:n=this.parseOpenBracket(e);break;case dZ:n=this.parseBang(e);break;case lZ:n=this.parseCloseBracket(e);break;case cZ:n=this.parseAutolink(e)||this.parseHtmlTag(e);break;case fZ:n=this.parseEntity(e);break;default:n=this.parseString(e);break}return n||(this.pos+=1,e.appendChild(kX(zX(r),this.sourcepos(this.pos,this.pos+1)))),!0},e.prototype.parse=function(e){this.subject=e.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=e.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=e.sourcepos[0][0],mX(e)&&(this.lineOffsets[0]+=e.level+1);while(this.parseInline(e));e.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(e.walker());var t=this.options,n=t.extendedAutolinks,r=t.customParser;if(n&&QX(e.walker(),n),r&&e.firstChild){var o,i=e.firstChild.walker();while(o=i.next()){var a=o.node,s=o.entering;r[a.type]&&r[a.type](a,{entering:s,options:this.options})}}},e}(),zZ=/^\[([ \txX])\][ \t]+/;function VZ(e,t){if(t.firstChild&&"paragraph"===t.firstChild.type){var n=t.firstChild,r=n.stringContent.match(zZ);if(r){var o=r[0].length;n.stringContent=n.stringContent.substring(o-1),n.sourcepos[0][1]+=o,n.lineOffsets[0]+=o,t.listData.task=!0,t.listData.checked=/[xX]/.test(r[1])}}}var _Z={continue:function(){return 0},finalize:function(){},canContain:function(e){return"tableHead"===e||"tableBody"===e},acceptsLines:!1},UZ={continue:function(){return 0},finalize:function(){},canContain:function(e){return"tableRow"===e},acceptsLines:!1},$Z={continue:function(){return 1},finalize:function(){},canContain:function(e){return"tableRow"===e||"tableDelimRow"===e},acceptsLines:!1},WZ={continue:function(){return 1},finalize:function(){},canContain:function(e){return"tableDelimCell"===e},acceptsLines:!1},GZ={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},XZ={continue:function(){return 1},finalize:function(){},canContain:function(e){return"tableCell"===e},acceptsLines:!1},ZZ={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},QZ=4,KZ=9,YZ=62,JZ=60,eQ=32,tQ=91,nQ=/[^ \t\f\v\r\n]/,rQ=/^(?:`{3,}|~{3,})(?= *$)/;function oQ(e){var t=e;while(t){if(t.lastLineBlank)return!0;var n=t.type;if(t.lastLineChecked||"list"!==n&&"item"!==n){t.lastLineChecked=!0;break}t.lastLineChecked=!0,t=t.lastChild}return!1}function iQ(e,t){return t<e.length?e.charCodeAt(t):-1}function aQ(e){return!nQ.test(e)}function sQ(e){return e===eQ||e===KZ}var lQ=/^\$\$$/,uQ={continue:function(e,t){var n=e.currentLine,r=n.match(lQ);if(r)return e.lastLineLength=r[0].length,e.finalize(t,e.lineNumber),2;var o=t.offset;while(o>0&&sQ(iQ(n,e.offset)))e.advanceOffset(1,!0),o--;return 0},finalize:function(e,t){if(null!==t.stringContent){var n=t.stringContent,r=n.indexOf("\n"),o=n.slice(0,r),i=n.slice(r+1),a=o.match(/^(\s*)(.*)/);t.info=qG(a[2].trim()),t.literal=i,t.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},cQ={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},dQ={continue:function(){return 0},finalize:function(){},canContain:function(e){return"item"!==e},acceptsLines:!1},pQ={continue:function(){return 0},finalize:function(e,t){var n=t.firstChild;while(n){if(oQ(n)&&n.next){t.listData.tight=!1;break}var r=n.firstChild;while(r){if(oQ(r)&&(n.next||r.next)){t.listData.tight=!1;break}r=r.next}n=n.next}},canContain:function(e){return"item"===e},acceptsLines:!1},fQ={continue:function(e){var t=e.currentLine;return e.indented||iQ(t,e.nextNonspace)!==YZ?1:(e.advanceNextNonspace(),e.advanceOffset(1,!1),sQ(iQ(t,e.offset))&&e.advanceOffset(1,!0),0)},finalize:function(){},canContain:function(e){return"item"!==e},acceptsLines:!1},hQ={continue:function(e,t){if(e.blank){if(null===t.firstChild)return 1;e.advanceNextNonspace()}else{if(!(e.indent>=t.listData.markerOffset+t.listData.padding))return 1;e.advanceOffset(t.listData.markerOffset+t.listData.padding,!0)}return 0},finalize:VZ,canContain:function(e){return"item"!==e},acceptsLines:!1},mQ={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},vQ={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},gQ={continue:function(e,t){var n=e.currentLine,r=e.indent;if(t.isFenced){var o=r<=3&&n.charAt(e.nextNonspace)===t.fenceChar&&n.slice(e.nextNonspace).match(rQ);if(o&&o[0].length>=t.fenceLength)return e.lastLineLength=e.offset+r+o[0].length,e.finalize(t,e.lineNumber),2;var i=t.fenceOffset;while(i>0&&sQ(iQ(n,e.offset)))e.advanceOffset(1,!0),i--}else if(r>=QZ)e.advanceOffset(QZ,!0);else{if(!e.blank)return 1;e.advanceNextNonspace()}return 0},finalize:function(e,t){var n;if(null!==t.stringContent){if(t.isFenced){var r=t.stringContent,o=r.indexOf("\n"),i=r.slice(0,o),a=r.slice(o+1),s=i.match(/^(\s*)(.*)/);t.infoPadding=s[1].length,t.info=qG(s[2].trim()),t.literal=a}else t.literal=null===(n=t.stringContent)||void 0===n?void 0:n.replace(/(\n *)+$/,"\n");t.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},yQ={continue:function(e,t){return!e.blank||6!==t.htmlBlockType&&7!==t.htmlBlockType?0:1},finalize:function(e,t){var n;t.literal=(null===(n=t.stringContent)||void 0===n?void 0:n.replace(/(\n *)+$/,""))||null,t.stringContent=null},canContain:function(){return!1},acceptsLines:!0},bQ={continue:function(e){return e.blank?1:0},finalize:function(e,t){if(null!==t.stringContent){var n,r=!1;while(iQ(t.stringContent,0)===tQ&&(n=e.inlineParser.parseReference(t,e.refMap)))t.stringContent=t.stringContent.slice(n),r=!0;r&&aQ(t.stringContent)&&t.unlink()}},canContain:function(){return!1},acceptsLines:!0},wQ=cQ,kQ=cQ,CQ={document:dQ,list:pQ,blockQuote:fQ,item:hQ,heading:mQ,thematicBreak:vQ,codeBlock:gQ,htmlBlock:yQ,paragraph:bQ,table:_Z,tableBody:UZ,tableHead:$Z,tableRow:XZ,tableCell:ZZ,tableDelimRow:WZ,tableDelimCell:GZ,refDef:wQ,customBlock:uQ,frontMatter:kQ};function xQ(e){for(var t=0,n=0,r=[],o=0;o<e.length;o+=1)if("|"===e[o]&&"\\"!==e[o-1]){var i=e.substring(t,o);0===t&&$G(i)?n=o+1:r.push(i),t=o+1}if(t<e.length){i=e.substring(t,e.length);$G(i)||r.push(i)}return[n,r]}function TQ(e,t,n,r){for(var o=[],i=0,a=t;i<a.length;i++){var s=a[i],l=s.match(/^[ \t]+/),u=l?l[0].length:0,c=void 0,d=void 0;if(u===s.length)u=0,c=0,d="";else{var p=s.match(/[ \t]+$/);c=p?p[0].length:0,d=s.slice(u,s.length-c)}var f=r+u,h=pX(e,[[n,r],[n,r+s.length-1]]);h.stringContent=d.replace(/\\\|/g,"|"),h.startIdx=o.length,h.endIdx=o.length,h.lineOffsets=[f-1],h.paddingLeft=u,h.paddingRight=c,o.push(h),r+=s.length+1}return o}function EQ(e){var t=null,n=e.stringContent,r=n[0],o=n[n.length-1];return":"===o?t=":"===r?"center":"right":":"===r&&(t="left"),{align:t}}var MQ=function(e,t){var n=t.stringContent;if("paragraph"===t.type&&!e.indented&&!e.blank){var r=n.length-1,o=n.lastIndexOf("\n",r-1)+1,i=n.slice(o,r),a=e.currentLine.slice(e.nextNonspace),s=xQ(i),l=s[0],u=s[1],c=xQ(a),d=c[0],p=c[1],f=/^[ \t]*:?-+:?[ \t]*$/;if(!u.length||!p.length||p.some((function(e){return!f.test(e)}))||1===p.length&&0!==a.indexOf("|"))return 0;var h=t.lineOffsets,m=e.lineNumber-1,v=KX(h)+1,g=pX("table",[[m,v],[e.lineNumber,e.offset]]);if(g.columns=p.map((function(){return{align:null}})),t.insertAfter(g),1===h.length)t.unlink();else{t.stringContent=n.slice(0,o);var y=n.lastIndexOf("\n",o-2)+1,b=o-y-1;e.lastLineLength=h[h.length-2]+b,e.finalize(t,m-1)}e.advanceOffset(e.currentLine.length-e.offset,!1);var w=pX("tableHead",[[m,v],[e.lineNumber,e.offset]]);g.appendChild(w);var k=pX("tableRow",[[m,v],[m,v+i.length-1]]),C=pX("tableDelimRow",[[e.lineNumber,e.nextNonspace+1],[e.lineNumber,e.offset]]);w.appendChild(k),w.appendChild(C),TQ("tableCell",u,m,v+l).forEach((function(e){k.appendChild(e)}));var x=TQ("tableDelimCell",p,e.lineNumber,e.nextNonspace+1+d);return x.forEach((function(e){C.appendChild(e)})),g.columns=x.map(EQ),e.tip=g,2}return 0},LQ=function(e,t){if("table"!==t.type&&"tableBody"!==t.type||!e.blank&&-1===e.currentLine.indexOf("|"))return 0;if(e.advanceOffset(e.currentLine.length-e.offset,!1),e.blank){var n=t;return"tableBody"===t.type&&(n=t.parent,e.finalize(t,e.lineNumber-1)),e.finalize(n,e.lineNumber-1),0}var r=t;"table"===t.type&&(r=e.addChild("tableBody",e.nextNonspace),r.stringContent=null);var o=pX("tableRow",[[e.lineNumber,e.nextNonspace+1],[e.lineNumber,e.currentLine.length]]);r.appendChild(o);var i=r.parent,a=e.currentLine.slice(e.nextNonspace),s=xQ(a),l=s[0],u=s[1];return TQ("tableCell",u,e.lineNumber,e.nextNonspace+1+l).forEach((function(e,t){t>=i.columns.length&&(e.ignored=!0),o.appendChild(e)})),2},NQ=/^(\$\$)(\s*[a-zA-Z])+/,SQ=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,OQ=function(e){var t;if(!e.indented&&!SQ.test(e.currentLine)&&(t=e.currentLine.match(NQ))){var n=t[1].length;e.closeUnmatchedBlocks();var r=e.addChild("customBlock",e.nextNonspace);return r.syntaxLength=n,r.offset=e.indent,e.advanceNextNonspace(),e.advanceOffset(n,!1),2}return 0},IQ=/^`{3,}(?!.*`)|^~{3,}/,DQ=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+IX+"|"+DX+")\\s*$","i")],AQ=/^(?:=+|-+)[ \t]*$/,PQ=/^#{1,6}(?:[ \t]+|$)/,RQ=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,HQ=/^[*+-]/,BQ=/^(\d{1,9})([.)])/;function FQ(e,t){var n,r,o=e.currentLine.slice(e.nextNonspace),i={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:e.indent,task:!1,checked:!1};if(e.indent>=4)return null;if(n=o.match(HQ))i.type="bullet",i.bulletChar=n[0][0];else{if(!(n=o.match(BQ))||"paragraph"===t.type&&"1"!==n[1])return null;i.type="ordered",i.start=parseInt(n[1],10),i.delimiter=n[2]}if(r=iQ(e.currentLine,e.nextNonspace+n[0].length),-1!==r&&r!==KZ&&r!==eQ)return null;if("paragraph"===t.type&&!e.currentLine.slice(e.nextNonspace+n[0].length).match(nQ))return null;e.advanceNextNonspace(),e.advanceOffset(n[0].length,!0);var a=e.column,s=e.offset;do{e.advanceOffset(1,!0),r=iQ(e.currentLine,e.offset)}while(e.column-a<5&&sQ(r));var l=-1===iQ(e.currentLine,e.offset),u=e.column-a;return u>=5||u<1||l?(i.padding=n[0].length+1,e.column=a,e.offset=s,sQ(iQ(e.currentLine,e.offset))&&e.advanceOffset(1,!0)):i.padding=n[0].length+u,i}function jQ(e,t){return e.type===t.type&&e.delimiter===t.delimiter&&e.bulletChar===t.bulletChar}function qQ(e,t){return e.options.disallowDeepHeading&&("blockQuote"===t.type||"item"===t.type)}var zQ=function(e){return e.indented||iQ(e.currentLine,e.nextNonspace)!==YZ?0:(e.advanceNextNonspace(),e.advanceOffset(1,!1),sQ(iQ(e.currentLine,e.offset))&&e.advanceOffset(1,!0),e.closeUnmatchedBlocks(),e.addChild("blockQuote",e.nextNonspace),1)},VQ=function(e,t){var n;if(!e.indented&&!qQ(e,t)&&(n=e.currentLine.slice(e.nextNonspace).match(PQ))){e.advanceNextNonspace(),e.advanceOffset(n[0].length,!1),e.closeUnmatchedBlocks();var r=e.addChild("heading",e.nextNonspace);return r.level=n[0].trim().length,r.headingType="atx",r.stringContent=e.currentLine.slice(e.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),e.advanceOffset(e.currentLine.length-e.offset),2}return 0},_Q=function(e){var t;if(!e.indented&&(t=e.currentLine.slice(e.nextNonspace).match(IQ))){var n=t[0].length;e.closeUnmatchedBlocks();var r=e.addChild("codeBlock",e.nextNonspace);return r.isFenced=!0,r.fenceLength=n,r.fenceChar=t[0][0],r.fenceOffset=e.indent,e.advanceNextNonspace(),e.advanceOffset(n,!1),2}return 0},UQ=function(e,t){if(!e.indented&&iQ(e.currentLine,e.nextNonspace)===JZ){var n=e.currentLine.slice(e.nextNonspace),r=e.options.disallowedHtmlBlockTags,o=void 0;for(o=1;o<=7;o++){var i=n.match(DQ[o]);if(i){if(7===o){if("paragraph"===t.type)return 0;if(r.length>0){var a=new RegExp("</?(?:"+r.join("|")+")","i");if(a.test(i[0]))return 0}}e.closeUnmatchedBlocks();var s=e.addChild("htmlBlock",e.offset);return s.htmlBlockType=o,2}}}return 0},$Q=function(e,t){var n;if(null!==t.stringContent&&!e.indented&&"paragraph"===t.type&&!qQ(e,t.parent)&&(n=e.currentLine.slice(e.nextNonspace).match(AQ))){e.closeUnmatchedBlocks();var r=void 0;while(iQ(t.stringContent,0)===tQ&&(r=e.inlineParser.parseReference(t,e.refMap)))t.stringContent=t.stringContent.slice(r);if(t.stringContent.length>0){var o=pX("heading",t.sourcepos);return o.level="="===n[0][0]?1:2,o.headingType="setext",o.stringContent=t.stringContent,t.insertAfter(o),t.unlink(),e.tip=o,e.advanceOffset(e.currentLine.length-e.offset,!1),2}return 0}return 0},WQ=function(e){return!e.indented&&RQ.test(e.currentLine.slice(e.nextNonspace))?(e.closeUnmatchedBlocks(),e.addChild("thematicBreak",e.nextNonspace),e.advanceOffset(e.currentLine.length-e.offset,!1),2):0},GQ=function(e,t){var n,r=t;return e.indented&&"list"!==t.type||!(n=FQ(e,r))?0:(e.closeUnmatchedBlocks(),"list"===e.tip.type&&jQ(r.listData,n)||(r=e.addChild("list",e.nextNonspace),r.listData=n),r=e.addChild("item",e.nextNonspace),r.listData=n,1)},XQ=function(e){return e.indented&&"paragraph"!==e.tip.type&&!e.blank?(e.advanceOffset(QZ,!0),e.closeUnmatchedBlocks(),e.addChild("codeBlock",e.offset),2):0},ZQ=[zQ,VQ,_Q,UQ,$Q,WQ,GQ,XQ,MQ,LQ,OQ],QQ=/^(-{3}|\+{3}|;{3})$/,KQ=function(e,t){var n=e.currentLine,r=e.lineNumber,o=e.indented;if(1===r&&!o&&"document"===t.type&&QQ.test(n)){e.closeUnmatchedBlocks();var i=e.addChild("frontMatter",e.nextNonspace);return i.stringContent=n,e.advanceNextNonspace(),e.advanceOffset(n.length,!1),2}return 0},YQ={continue:function(e,t){var n=e.currentLine,r=n.match(QQ);return"frontMatter"===t.type&&r?(t.stringContent+=n,e.lastLineLength=r[0].length,e.finalize(t,e.lineNumber),2):0},finalize:function(e,t){null!==t.stringContent&&(t.literal=t.stringContent,t.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},JQ=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],eK=/^[#`~*+_=<>0-9-;$]/,tK=/\r\n|\n|\r/;function nK(){return pX("document",[[1,1],[0,0]])}var rK={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},oK=function(){function e(e){this.options=wi(wi({},rK),e),this.doc=nK(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(CQ.frontMatter=YQ,ZQ.unshift(KQ)),this.inlineParser=new qZ(this.options)}return e.prototype.advanceOffset=function(e,t){void 0===t&&(t=!1);var n,r,o,i=this.currentLine;while(e>0&&(o=i[this.offset]))"\t"===o?(n=4-this.column%4,t?(this.partiallyConsumedTab=n>e,r=n>e?e:n,this.column+=r,this.offset+=this.partiallyConsumedTab?0:1,e-=r):(this.partiallyConsumedTab=!1,this.column+=n,this.offset+=1,e-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,e-=1)},e.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},e.prototype.findNextNonspace=function(){var e,t=this.currentLine,n=this.offset,r=this.column;while(""!==(e=t.charAt(n)))if(" "===e)n++,r++;else{if("\t"!==e)break;n++,r+=4-r%4}this.blank="\n"===e||"\r"===e||""===e,this.nextNonspace=n,this.nextNonspaceColumn=r,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=QZ},e.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var e=4-this.column%4;this.tip.stringContent+=UG(" ",e)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+"\n"},e.prototype.addChild=function(e,t){while(!CQ[this.tip.type].canContain(e))this.finalize(this.tip,this.lineNumber-1);var n=t+1,r=pX(e,[[this.lineNumber,n],[0,0]]);return r.stringContent="",this.tip.appendChild(r),this.tip=r,r},e.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){while(this.oldtip!==this.lastMatchedContainer){var e=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},e.prototype.finalize=function(e,t){var n=e.parent;e.open=!1,e.sourcepos[1]=[t,this.lastLineLength],CQ[e.type].finalize(this,e),this.tip=n},e.prototype.processInlines=function(e){var t,n=this.options.customParser,r=e.walker();this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;while(t=r.next()){var o=t.node,i=t.entering,a=o.type;n&&n[a]&&n[a](o,{entering:i,options:this.options}),i||"paragraph"!==a&&"heading"!==a&&("tableCell"!==a||o.ignored)||this.inlineParser.parse(o)}},e.prototype.incorporateLine=function(e){var t=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,-1!==e.indexOf("\0")&&(e=e.replace(/\0/g,"�")),this.currentLine=e;var n,r=!0;while((n=t.lastChild)&&n.open){switch(t=n,this.findNextNonspace(),CQ[t.type]["continue"](this,t)){case 0:break;case 1:r=!1;break;case 2:return void(this.lastLineLength=e.length);default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!r){t=t.parent;break}}this.allClosed=t===this.oldtip,this.lastMatchedContainer=t;var o="paragraph"!==t.type&&CQ[t.type].acceptsLines,i=ZQ.length;while(!o){if(this.findNextNonspace(),"table"!==t.type&&"tableBody"!==t.type&&"paragraph"!==t.type&&!this.indented&&!eK.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}var a=0;while(a<i){var s=ZQ[a](this,t);if(1===s){t=this.tip;break}if(2===s){t=this.tip,o=!0;break}a++}if(a===i){this.advanceNextNonspace();break}}if(this.allClosed||this.blank||"paragraph"!==this.tip.type){this.closeUnmatchedBlocks(),this.blank&&t.lastChild&&(t.lastChild.lastLineBlank=!0);var l=t.type,u=this.blank&&!("blockQuote"===l||fX(t)&&t.isFenced||"item"===l&&!t.firstChild&&t.sourcepos[0][0]===this.lineNumber),c=t;while(c)c.lastLineBlank=u,c=c.parent;CQ[l].acceptsLines?(this.addLine(),hX(t)&&t.htmlBlockType>=1&&t.htmlBlockType<=5&&JQ[t.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=e.length,this.finalize(t,this.lineNumber))):this.offset<e.length&&!this.blank&&(t=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}else this.addLine();this.lastLineLength=e.length},e.prototype.parse=function(e,t){this.doc=nK(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var n=e.split(tK),r=n.length;this.lines=t||n,this.options.referenceDefinition&&this.clearRefMaps(),e.charCodeAt(e.length-1)===rZ&&(r-=1);for(var o=0;o<r;o++)this.incorporateLine(n[o]);while(this.tip)this.finalize(this.tip,r);return this.processInlines(this.doc),this.doc},e.prototype.partialParseStart=function(e,t){this.doc=nK(),this.tip=this.doc,this.lineNumber=e-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var n=t.length,r=0;r<n;r++)this.incorporateLine(t[r]);return this.doc},e.prototype.partialParseExtends=function(e){for(var t=0;t<e.length;t++)this.incorporateLine(e[t])},e.prototype.partialParseFinish=function(){while(this.tip)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},e.prototype.setRefMaps=function(e,t,n){this.refMap=e,this.refLinkCandidateMap=t,this.refDefCandidateMap=n},e.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach((function(e){nZ(e)}))},e}();function iK(e,t){return e[0]<t[0]?1:e[0]>t[0]?-1:e[1]<t[1]?1:e[1]>t[1]?-1:0}function aK(e,t){var n=e[0],r=e[1];return 1===iK(r,t)?1:-1===iK(n,t)?-1:0}function sK(e,t){if(e.parent===t.parent&&e!==t){var n=e.next;while(n&&n!==t){for(var r=n.next,o=0,i=["parent","prev","next"];o<i.length;o++){var a=i[o];n[a]&&(KG(n[a].id),n[a]=null)}n=r}e.next=t.next,t.next?t.next.prev=e:e.parent.lastChild=e}}function lK(e){var t=[],n=e.firstChild;while(n)t.push(n),n=n.next;return t}function uK(e,t){for(var n=0,r=t;n<r.length;n++){var o=r[n];e.insertBefore(o)}}function cK(e,t){for(var n=t.length-1;n>=0;n-=1)e.prependChild(t[n])}function dK(e,t){if(e&&e.parent&&0!==t){var n,r=e.parent.walker();r.resumeAt(e,!0);while(n=r.next()){var o=n.node,i=n.entering;i&&(o.sourcepos[0][0]+=t,o.sourcepos[1][0]+=t)}}}function pK(e,t){var n=e[0],r=e[1];return r[0]<t?1:n[0]>t?-1:0}function fK(e,t){var n=e.firstChild;while(n){var r=pK(n.sourcepos,t);if(0===r)return n;if(-1===r)return n.prev||n;n=n.next}return e.lastChild}function hK(e){while(e.lastChild)e=e.lastChild;return e}function mK(e){while(e.parent&&"document"!==e.parent.type&&e.parent.sourcepos[0][0]===e.sourcepos[0][0])e=e.parent;return e}function vK(e,t){var n=e.firstChild,r=null;while(n){var o=pK(n.sourcepos,t);if(0===o){if(n.sourcepos[0][0]===t||!n.firstChild)return n;r=n,n=n.firstChild}else{if(-1===o)break;r=n,n=n.next}}return r?mK(hK(r)):null}function gK(e,t){var n=e,r=null;while(n){var o=aK(n.sourcepos,t);if(0===o){if(!n.firstChild)return n;r=n,n=n.firstChild}else{if(-1===o)return r;if(!n.next)return r;n=n.next}}return n}function yK(e){return QG(e)||null}function bK(e,t,n){if(void 0===n&&(n=null),t){var r=t.walker();while(t&&t!==n){e(t);var o=r.next();if(!o)break;t=o.node}}}function wK(e){var t=yK(e);if(!t)return!0;while(t&&"document"!==t.type){if(!t.parent&&!t.prev&&!t.next)return!0;t=t.parent}return!1}var kK=/\r\n|\n|\r/;function CK(e){var t=e.match(/^[ \t]+/);if(t&&(t[0].length>=2||/\t/.test(t[0])))return!0;var n=t?e.slice(t.length):e;return HQ.test(n)||BQ.test(n)}function xK(e){return!aQ(e)&&-1!==e.indexOf("|")}function TK(e){var t=e.id,n=e.title,r=e.sourcepos,o=e.dest;return{id:t,title:n,sourcepos:r,unlinked:!1,destination:o}}var EK=function(){function e(e,t){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(null===t||void 0===t?void 0:t.referenceDefinition),this.parser=new oK(t),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},e=e||"",this.lineTexts=e.split(kK),this.root=this.parser.parse(e,this.lineTexts)}return e.prototype.updateLineTexts=function(e,t,n){var r,o=e[0],i=e[1],a=t[0],s=t[1],l=n.split(kK),u=l.length,c=this.lineTexts[o-1],d=this.lineTexts[a-1];l[0]=c.slice(0,i-1)+l[0],l[u-1]=l[u-1]+d.slice(s-1);var p=a-o+1;return(r=this.lineTexts).splice.apply(r,ki([o-1,p],l)),u-p},e.prototype.updateRootNodeState=function(){if(1===this.lineTexts.length&&""===this.lineTexts[0])return this.root.lastLineBlank=!0,void(this.root.sourcepos=[[1,1],[1,0]]);this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);var e=this.lineTexts,t=e.length-1;while(""===e[t])t-=1;e.length-2>t&&(t+=1),this.root.sourcepos[1]=[t+1,e[t].length]},e.prototype.replaceRangeNodes=function(e,t,n){e?(uK(e,n),sK(e,t),[e.id,t.id].forEach((function(e){return KG(e)})),e.unlink()):t?(uK(t,n),KG(t.id),t.unlink()):cK(this.root,n)},e.prototype.getNodeRange=function(e,t){var n=fK(this.root,e[0]),r=fK(this.root,t[0]);return r&&r.next&&t[0]+1===r.next.sourcepos[0][0]&&(r=r.next),[n,r]},e.prototype.trigger=function(e,t){this.eventHandlerMap[e].forEach((function(e){e(t)}))},e.prototype.extendEndLine=function(e){while(""===this.lineTexts[e])e+=1;return e},e.prototype.parseRange=function(e,t,n,r){e&&e.prev&&(vX(e.prev)&&CK(this.lineTexts[n-1])||gX(e.prev)&&xK(this.lineTexts[n-1]))&&(e=e.prev,n=e.sourcepos[0][0]);var o=this.lineTexts.slice(n-1,r),i=this.parser.partialParseStart(n,o),a=t?t.next:this.root.firstChild,s=i.lastChild,l=s&&fX(s)&&s.open,u=s&&bX(s)&&s.open,c=s&&vX(s);while((l||u)&&a||c&&a&&("list"===a.type||a.sourcepos[0][1]>=2)){var d=this.extendEndLine(a.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(r,d)),e||(e=t),t=a,r=d,a=a.next}this.parser.partialParseFinish();var p=lK(i);return{newNodes:p,extStartNode:e,extEndNode:t}},e.prototype.getRemovedNodeRange=function(e,t){return!e||e&&yX(e)||t&&yX(t)?null:{id:[e.id,t.id],line:[e.sourcepos[0][0]-1,t.sourcepos[1][0]-1]}},e.prototype.markDeletedRefMap=function(e,t){var n=this;if(!tZ(this.refMap)){var r=function(e){if(yX(e)){var t=n.refMap[e.label];t&&e.id===t.id&&(t.unlinked=!0)}};e&&bK(r,e.parent,t),t&&bK(r,t)}},e.prototype.replaceWithNewRefDefState=function(e){var t=this;if(!tZ(this.refMap)){var n=function(e){if(yX(e)){var n=e.label,r=t.refMap[n];r&&!r.unlinked||(t.refMap[n]=TK(e))}};e.forEach((function(e){bK(n,e)}))}},e.prototype.replaceWithRefDefCandidate=function(){var e=this;tZ(this.refDefCandidateMap)||JX(this.refDefCandidateMap,(function(t,n){var r=n.label,o=n.sourcepos,i=e.refMap[r];(!i||i.unlinked||i.sourcepos[0][0]>o[0][0])&&(e.refMap[r]=TK(n))}))},e.prototype.getRangeWithRefDef=function(e,t,n,r,o){if(this.referenceDefinition&&!tZ(this.refMap)){var i=fK(this.root,e-1),a=fK(this.root,t+1);i&&yX(i)&&i!==n&&i!==r&&(n=i,e=n.sourcepos[0][0]),a&&yX(a)&&a!==n&&a!==r&&(r=a,t=this.extendEndLine(r.sourcepos[1][0]+o))}return[n,r,e,t]},e.prototype.parse=function(e,t,n){void 0===n&&(n=0);var r=this.getNodeRange(e,t),o=r[0],i=r[1],a=o?Math.min(o.sourcepos[0][0],e[0]):e[0],s=this.extendEndLine((i?Math.max(i.sourcepos[1][0],t[0]):t[0])+n),l=this.parseRange.apply(this,this.getRangeWithRefDef(a,s,o,i,n)),u=l.newNodes,c=l.extStartNode,d=l.extEndNode,p=this.getRemovedNodeRange(c,d),f=d?d.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(c,d),this.replaceRangeNodes(c,d,u),this.replaceWithNewRefDefState(u)):this.replaceRangeNodes(c,d,u),{nodes:u,removedNodeRange:p,nextNode:f}},e.prototype.parseRefLink=function(){var e=this,t=[];return tZ(this.refMap)||JX(this.refMap,(function(n,r){r.unlinked&&delete e.refMap[n],JX(e.refLinkCandidateMap,(function(r,o){var i=o.node,a=o.refLabel;a===n&&t.push(e.parse(i.sourcepos[0],i.sourcepos[1]))}))})),t},e.prototype.removeUnlinkedCandidate=function(){tZ(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach((function(e){JX(e,(function(t){wK(t)&&delete e[t]}))}))},e.prototype.editMarkdown=function(e,t,n){var r=this.updateLineTexts(e,t,n),o=this.parse(e,t,r),i=eZ(o,"nextNode");dK(o.nextNode,r),this.updateRootNodeState();var a=[i];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),a=a.concat(this.parseRefLink())),this.trigger("change",a),a},e.prototype.getLineTexts=function(){return this.lineTexts},e.prototype.getRootNode=function(){return this.root},e.prototype.findNodeAtPosition=function(e){var t=gK(this.root,e);return t&&t!==this.root?t:null},e.prototype.findFirstNodeAtLine=function(e){return vK(this.root,e)},e.prototype.on=function(e,t){this.eventHandlerMap[e].push(t)},e.prototype.off=function(e,t){var n=this.eventHandlerMap[e],r=n.indexOf(t);n.splice(r,1)},e.prototype.findNodeById=function(e){return yK(e)},e.prototype.removeAllNode=function(){YG()},e}(),MK=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],LK=new RegExp("<(/?(?:"+MK.join("|")+")[^>]*>)","ig");function NK(e){return LK.test(e)?e.replace(LK,(function(e,t){return"&lt;"+t})):e}var SK=4,OK={heading:function(e,t){var n=t.entering;return{type:n?"openTag":"closeTag",tagName:"h"+e.level,outerNewLine:!0}},text:function(e){return{type:"text",content:e.literal}},softbreak:function(e,t){var n=t.options;return{type:"html",content:n.softbreak}},linebreak:function(){return{type:"html",content:"<br />\n"}},emph:function(e,t){var n=t.entering;return{type:n?"openTag":"closeTag",tagName:"em"}},strong:function(e,t){var n=t.entering;return{type:n?"openTag":"closeTag",tagName:"strong"}},paragraph:function(e,t){var n,r=t.entering,o=null===(n=e.parent)||void 0===n?void 0:n.parent;return o&&"list"===o.type&&o.listData.tight?null:{type:r?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(e,t){var n=t.entering;return{type:n?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(e,t){var n=t.entering,r=e.listData,o=r.type,i=r.start,a="bullet"===o?"ul":"ol",s={};return"ol"===a&&null!==i&&1!==i&&(s.start=i.toString()),{type:n?"openTag":"closeTag",tagName:a,attributes:s,outerNewLine:!0}},item:function(e,t){var n=t.entering;return{type:n?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(e,t){var n=t.options,r=n.tagFilter?NK(e.literal):e.literal;return{type:"html",content:r}},htmlBlock:function(e,t){var n=t.options,r=n.tagFilter?NK(e.literal):e.literal;return n.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:r},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:r,outerNewLine:!0}},code:function(e){return[{type:"openTag",tagName:"code"},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(e){var t=e.info,n=t?t.split(/\s+/):[],r=[];return n.length>0&&n[0].length>0&&r.push("language-"+_G(n[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:r},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(e,t){var n=t.entering;if(n){var r=e,o=r.title,i=r.destination;return{type:"openTag",tagName:"a",attributes:wi({href:_G(i)},o&&{title:_G(o)})}}return{type:"closeTag",tagName:"a"}},image:function(e,t){var n=t.getChildrenText,r=t.skipChildren,o=e,i=o.title,a=o.destination;return r(),{type:"openTag",tagName:"img",selfClose:!0,attributes:wi({src:_G(a),alt:n(e)},i&&{title:_G(i)})}},customBlock:function(e,t,n){var r=e.info.trim().toLowerCase(),o=n[r];if(o)try{return o(e,t)}catch(i){console.warn("[@toast-ui/editor] - The error occurred when "+r+" block node was parsed in markdown renderer: "+i)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:e.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(e){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:e.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(e,t,n){var r=e,o=r.sourcepos,i=r.info,a=i.trim().toLowerCase(),s=n[a],l=t.entering;if(s)try{return s(e,t)}catch(c){console.warn("[@toast-ui/editor] - The error occurred when "+a+" inline node was parsed in markdown renderer: "+c)}var u=o[1][1]-o[0][1]+1===i.length+SK?"":i+" ";return l?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+u}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},IK={strike:function(e,t){var n=t.entering;return{type:n?"openTag":"closeTag",tagName:"del"}},item:function(e,t){var n=t.entering,r=e.listData,o=r.checked,i=r.task;if(n){var a={type:"openTag",tagName:"li",outerNewLine:!0};return i?[a,{type:"openTag",tagName:"input",selfClose:!0,attributes:wi(wi({},o&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:a}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(e,t){var n=t.entering;return{type:n?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(e,t){var n=t.entering;return{type:n?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(e,t){var n=t.entering;return{type:n?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(e,t){var n=t.entering;if(n)return{type:"openTag",tagName:"tr",outerNewLine:!0};var r=[];if(e.lastChild)for(var o=e.parent.parent.columns.length,i=e.lastChild.endIdx,a=i+1;a<o;a+=1)r.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return r.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),r},tableCell:function(e,t){var n=t.entering;if(e.ignored)return{type:"text",content:""};var r=e.parent.parent,o="tableHead"===r.type?"th":"td",i=r.parent,a=i.columns[e.startIdx],s=(null===a||void 0===a?void 0:a.align)?{align:a.align}:null;return n?wi({type:"openTag",tagName:o,outerNewLine:!0},s&&{attributes:s}):{type:"closeTag",tagName:o,outerNewLine:!0}}},DK={softbreak:"\n",gfm:!1,tagFilter:!1,nodeId:!1};function AK(e){var t=[],n=e.walker(),r=null;while(r=n.next()){var o=r.node;"text"===o.type&&t.push(o.literal)}return t.join("")}var PK=function(){function e(e){this.buffer=[],this.options=wi(wi({},DK),e),this.convertors=this.createConvertors(),delete this.options.convertors}return e.prototype.createConvertors=function(){var e=wi({},OK);if(this.options.gfm&&(e=wi(wi({},e),IK)),this.options.convertors){var t=this.options.convertors,n=Object.keys(t),r=wi(wi({},OK),IK);n.forEach((function(n){var o=e[n],i=t[n],a=-1===Object.keys(r).indexOf(n)?n.toLowerCase():n;e[a]=o?function(e,t,n){return t.origin=function(){return o(e,t,n)},i(e,t)}:i}))}return e},e.prototype.getConvertors=function(){return this.convertors},e.prototype.getOptions=function(){return this.options},e.prototype.render=function(e){var t=this;this.buffer=[];var n=e.walker(),r=null,o=function(){var e=r.node,o=r.entering,a=i.convertors[e.type];if(!a)return"continue";var s=!1,l={entering:o,leaf:!GG(e),options:i.options,getChildrenText:AK,skipChildren:function(){s=!0}},u=bX(e)||wX(e)?a(e,l,i.convertors):a(e,l);if(u){var c=Array.isArray(u)?u:[u];c.forEach((function(n,r){"openTag"===n.type&&t.options.nodeId&&0===r&&(n.attributes||(n.attributes={}),n.attributes["data-nodeid"]=String(e.id)),t.renderHTMLNode(n)})),s&&(n.resumeAt(e,!1),n.next())}},i=this;while(r=n.next())o();return this.addNewLine(),this.buffer.join("")},e.prototype.renderHTMLNode=function(e){switch(e.type){case"openTag":case"closeTag":this.renderElementNode(e);break;case"text":this.renderTextNode(e);break;case"html":this.renderRawHtmlNode(e);break}},e.prototype.generateOpenTagString=function(e){var t=this,n=e.tagName,r=e.classNames,o=e.attributes;this.buffer.push("<"+n),r&&r.length>0&&this.buffer.push(' class="'+r.join(" ")+'"'),o&&Object.keys(o).forEach((function(e){var n=o[e];t.buffer.push(" "+e+'="'+n+'"')})),e.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},e.prototype.generateCloseTagString=function(e){var t=e.tagName;this.buffer.push("</"+t+">")},e.prototype.addNewLine=function(){this.buffer.length&&"\n"!==KX(KX(this.buffer))&&this.buffer.push("\n")},e.prototype.addOuterNewLine=function(e){e.outerNewLine&&this.addNewLine()},e.prototype.addInnerNewLine=function(e){e.innerNewLine&&this.addNewLine()},e.prototype.renderTextNode=function(e){this.buffer.push(_G(e.content))},e.prototype.renderRawHtmlNode=function(e){this.addOuterNewLine(e),this.buffer.push(e.content),this.addOuterNewLine(e)},e.prototype.renderElementNode=function(e){"openTag"===e.type?(this.addOuterNewLine(e),this.generateOpenTagString(e),e.selfClose?this.addOuterNewLine(e):this.addInnerNewLine(e)):(this.addInnerNewLine(e),this.generateCloseTagString(e),this.addOuterNewLine(e))},e}(),RK=new RegExp("^(abbr|align|alt|axis|bgcolor|border|cellpadding|cellspacing|class|clear|color|cols|compact|coords|dir|face|headers|height|hreflang|hspace|ismap|lang|language|nohref|nowrap|rel|rev|rows|rules|scope|scrolling|shape|size|span|start|summary|tabindex|target|title|type|valign|value|vspace|width|checked|mathvariant|encoding|id|name|background|cite|href|longdesc|src|usemap|xlink:href|data-+|checked|style|controls)","g"),HK=new RegExp("^(accent-height|accumulate|additive|alphabetic|arabic-form|ascent|baseProfile|bbox|begin|by|calcMode|cap-height|class|color|color-rendering|content|cx|cy|d|dx|dy|descent|display|dur|end|fill|fill-rule|font-family|font-size|font-stretch|font-style|font-variant|font-weight|from|fx|fy|g1|g2|glyph-name|gradientUnits|hanging|height|horiz-adv-x|horiz-origin-x|ideographic|k|keyPoints|keySplines|keyTimes|lang|marker-end|marker-mid|marker-start|markerHeight|markerUnits|markerWidth|mathematical|max|min|offset|opacity|orient|origin|overline-position|overline-thickness|panose-1|path|pathLength|points|preserveAspectRatio|r|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|rotate|rx|ry|slope|stemh|stemv|stop-color|stop-opacity|strikethrough-position|strikethrough-thickness|stroke|stroke-dasharray|stroke-dashoffset|stroke-linecap|stroke-linejoin|stroke-miterlimit|stroke-opacity|stroke-width|systemLanguage|target|text-anchor|to|transform|type|u1|u2|underline-position|underline-thickness|unicode|unicode-range|units-per-em|values|version|viewBox|visibility|width|widths|x|x-height|x1|x2|xlink:actuate|xlink:arcrole|xlink:role|xlink:show|xlink:title|xlink:type|xml:base|xml:lang|xml:space|xmlns|xmlns:xlink|y|y1|y2|zoomAndPan)","g"),BK=/href|src|background/i,FK=/((java|vb|live)script|x):/i,jK=/^on\S+/i,qK=new RegExp("(<"+tn+"[^>]*)(onload\\s*=)","ig"),zK=/<!--[\s\S]*?-->/g,VK=/[ \t\r\n]/g,_K=["script","iframe","textarea","form","button","select","input","meta","style","link","title","embed","object","details","summary","base"],UK=["iframe","embed","details","summary"],$K=h([],_K);function WK(e){if(Te(UK,e)){var t=$K.indexOf(e);t>-1&&$K.splice(t,1)}}function GK(e){var t=document.createElement("div");return k(e)&&(e=e.replace(zK,"").replace(qK,"$1"),t.innerHTML=e),XK(t),KK(t),On(t,!0)}function XK(e){var t=wn(e,$K.join(","));t.forEach((function(e){xn(e)}))}function ZK(e,t){return e.match(BK)&&t.replace(VK,"").match(FK)}function QK(e,t){t.forEach((function(t){var n=t.name;jK.test(n)&&(e[n]=null),e.removeAttribute(n)}))}function KK(e){wn(e,"*").forEach((function(e){var t=e.attributes,n=It(t).filter((function(e){var t=e.name,n=e.value,r=t.match(RK),o=t.match(HK),i=r&&ZK(t,n);return!r&&!o||i}));QK(e,n)}))}function YK(e){return e=e.replace(zK,""),FK.test(e)?"":e}function JK(e,t){return e.literal.replace(new RegExp("(<\\s*"+t+"[^>]+?>)|(</"+t+"\\s*[>])","ig"),"").trim()}function eY(e){e=e.match(fn)[0];var t=e.match(new RegExp(un,"g"));return t?t.reduce((function(e,t){var n=t.trim().split("="),r=n[0],o=n.slice(1);return o.length&&(e[r]=o.join("=").replace(/'|"/g,"").trim()),e}),{}):{}}function tY(e){return It(e.attributes).reduce((function(e,t){return e[t.nodeName]=t.nodeValue,e}),{})}function nY(e,t,n,r){var o=r.getToDOMNode(t)(e),i=n(o.outerHTML),a=document.createElement("div");a.innerHTML=i,o=a.firstChild;var s=tY(o);return{dom:o,htmlAttrs:s}}var rY={htmlBlock:function(e,t,n){return{atom:!0,content:"block+",group:"block",attrs:{htmlAttrs:{default:{}},childrenHTML:{default:""},htmlBlock:{default:!0}},parseDOM:[{tag:e,getAttrs:function(e){return{htmlAttrs:tY(e),childrenHTML:e.innerHTML}}}],toDOM:function(r){var o=nY(r,e,t,n),i=o.dom,a=o.htmlAttrs;return a.class=a.class?a.class+" html-block":"html-block",h([e,a],It(i.childNodes))}}},htmlInline:function(e,t,n){return{attrs:{htmlAttrs:{default:{}},htmlInline:{default:!0}},parseDOM:[{tag:e,getAttrs:function(e){return{htmlAttrs:tY(e)}}}],toDOM:function(r){var o=nY(r,e,t,n).htmlAttrs;return[e,o,0]}}}};function oY(e,t,n){var r={nodes:{},marks:{}};return["htmlBlock","htmlInline"].forEach((function(o){e[o]&&Object.keys(e[o]).forEach((function(e){var i="htmlBlock"===o?"nodes":"marks";WK(e),r[i][e]=rY[o](e,t,n)}))})),r}var iY=/^\s*<\s*\//,aY={paragraph:function(e,t){var n=t.entering,r=t.origin,o=t.options;return o.nodeId?{type:n?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:r()},softbreak:function(e){var t=e.prev&&"htmlInline"===e.prev.type,n=t&&/<br ?\/?>/.test(e.prev.literal),r=n?"\n":"<br>\n";return{type:"html",content:r}},item:function(e,t){var n=t.entering;if(n){var r={},o=[];return e.listData.task&&(r["data-task"]="",o.push("task-list-item"),e.listData.checked&&(o.push("checked"),r["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:o,attributes:r,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(e){var t={"data-backticks":String(e.tickCount)};return[{type:"openTag",tagName:"code",attributes:t},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(e){var t=e,n=t.fenceLength,r=t.info,o=r?r.split(/\s+/):[],i=[],a={};if(n>3&&(a["data-backticks"]=n),o.length>0&&o[0].length>0){var s=o[0];i.push("lang-"+s),a["data-language"]=s}return[{type:"openTag",tagName:"pre",classNames:i},{type:"openTag",tagName:"code",attributes:a},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(e,t){var n=t.origin,r=t.entering,o=t.skipChildren,i=e.info;if(-1!==i.indexOf("widget")&&r){o();var a=xt(e),s=yt(i,a).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:s},{type:"closeTag",tagName:"span"}]}return n()}};function sY(e,t){var n=f({},aY);return e&&(n.link=function(t,n){var r=n.entering,o=n.origin,i=o();return r&&(i.attributes=f(f({},i.attributes),e)),i}),t&&Object.keys(t).forEach((function(e){var r=n[e],o=t[e];r&&Vt(o)?n[e]=function(e,t){var n=f({},t);return n.origin=function(){return r(e,t)},o(e,n)}:Te(["htmlBlock","htmlInline"],e)&&!Vt(o)?n[e]=function(e,t){var n=e.literal.match(fn);if(n){var r=n[0],i=n[1],a=n[3],s=(i||a).toLowerCase(),l=o[s],u=JK(e,s);if(l){var c=f({},e);return c.attrs=eY(r),c.childrenHTML=u,c.type=s,t.entering=!iY.test(e.literal),l(c,t)}}return t.origin()}:n[e]=o})),n}var lY=["list","item","blockQuote"],uY=["UL","OL","BLOCKQUOTE"];function cY(e,t){var n,r=e.child(t);return!r.childCount||1===r.childCount&&!(null===(n=r.firstChild.text)||void 0===n?void 0:n.trim())}function dY(e,t,n){var r=Xe(t)-1,o=Ze(t)-1,i=n[r].getBoundingClientRect(),a=n[o].offsetTop-n[r].offsetTop+n[o].clientHeight;return{height:a<=0?n[r].clientHeight:a+pY(e,n,Math.min(o+1,e.childCount-1)),rect:i}}function pY(e,t,n){var r=e.childCount-1,o=0;while(n<=r&&cY(e,n))o+=t[n].clientHeight,n+=1;return o}function fY(e,t){while(!e.getAttribute("data-nodeid")&&e.parentElement!==t)e=e.parentElement;return e}function hY(e,t){var n=0;while(e&&e!==t){if(Te(uY,e.tagName)||(n+=e.offsetTop),e.offsetParent===t.offsetParent)break;e=e.parentElement}return n}function mY(e,t){var n=t,r=null;while(n){var o=n.firstElementChild;if(!o)break;var i=vY(o,e,hY(n,t));r=n,n=i}var a=n||r;return a===t?null:a}function vY(e,t,n){return e&&t>n+e.offsetTop?vY(e.nextElementSibling,t,n)||e:null}function gY(e,t,n,r){var o=Math.min((e-t)/n,1);return o*r}function yY(e){var t=document.querySelector('[data-nodeid="'+e.id+'"]');while(!t||Je(e))e=e.parent,t=document.querySelector('[data-nodeid="'+e.id+'"]');return bY({mdNode:e,el:t})}function bY(e){var t=e.mdNode,n=e.el;while((Te(lY,t.type)||"table"===t.type)&&t.firstChild)t=t.firstChild,n=n.firstElementChild;return{mdNode:t,el:n}}var wY={};function kY(e,t){wY[e]=wY[e]||{},wY[e].height=t}function CY(e,t){wY[e]=wY[e]||{},wY[e].offsetTop=t}function xY(e){return wY[e]&&wY[e].height}function TY(e){return wY[e]&&wY[e].offsetTop}function EY(e){e&&(delete wY[Number(e.getAttribute("data-nodeid"))],It(e.children).forEach((function(e){EY(e)})))}function MY(e,t,n){var r=xY(n),o=TY(n),i=r||e.clientHeight,a=o||hY(e,t)||e.offsetTop;return r||kY(n,i),o||CY(n,a),{nodeHeight:i,offsetTop:a}}var LY=vn("md-preview-highlight");function NY(e,t){var n=e.firstChild;while(n&&n.next){if(Qe(n.next)>t+1)break;n=n.next}return n}var SY=function(){function e(e,t){var n=document.createElement("div");this.el=n,this.eventEmitter=e,this.isViewer=!!t.isViewer,this.el.className=vn("md-preview");var r=t.linkAttributes,o=t.customHTMLRenderer,i=t.sanitizer,a=t.highlight,s=void 0!==a&&a;this.renderer=new PK({gfm:!0,nodeId:!0,convertors:sY(r,o)}),this.cursorNodeId=null,this.sanitizer=i,this.initEvent(s),this.initContentSection()}return e.prototype.initContentSection=function(){this.previewContent=Mn('<div class="'+vn("contents")+'"></div>'),this.el.appendChild(this.previewContent)},e.prototype.toggleActive=function(e){En(this.el,"active",e)},e.prototype.initEvent=function(e){var t=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),e&&(this.eventEmitter.listen("changeToolbarState",(function(e){var n=e.mdNode,r=e.cursorPos;t.updateCursorNode(n,r)})),this.eventEmitter.listen("blur",(function(){t.removeHighlight()}))),gi(this.el,"scroll",(function(e){t.eventEmitter.emit("scroll","preview",mY(e.target.scrollTop,t.previewContent))})),this.eventEmitter.listen("changePreviewTabPreview",(function(){return t.toggleActive(!0)})),this.eventEmitter.listen("changePreviewTabWrite",(function(){return t.toggleActive(!1)}))},e.prototype.removeHighlight=function(){if(this.cursorNodeId){var e=this.getElementByNodeId(this.cursorNodeId);e&&oe(e,LY)}},e.prototype.updateCursorNode=function(e,t){e&&(e=at(e,(function(e){return!it(e)})),"tableRow"===e.type?e=NY(e,t[1]):"tableBody"===e.type&&(e=null));var n=e?e.id:null;if(this.cursorNodeId!==n){var r=this.getElementByNodeId(this.cursorNodeId),o=this.getElementByNodeId(n);r&&oe(r,LY),o&&Y(o,LY),this.cursorNodeId=n}},e.prototype.getElementByNodeId=function(e){return e?this.previewContent.querySelector('[data-nodeid="'+e+'"]'):null},e.prototype.update=function(e){var t=this;e.forEach((function(e){return t.replaceRangeNodes(e)})),this.eventEmitter.emit("afterPreviewRender",this)},e.prototype.replaceRangeNodes=function(e){var t=this,n=e.nodes,r=e.removedNodeRange,o=this.previewContent,i=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(n.map((function(e){return t.renderer.render(e)})).join("")));if(r){var a=r.id,s=a[0],l=a[1],u=this.getElementByNodeId(s),c=this.getElementByNodeId(l);if(u){u.insertAdjacentHTML("beforebegin",i);var d=u;while(d&&d!==c){var p=d.nextElementSibling;xn(d),EY(d),d=p}(null===d||void 0===d?void 0:d.parentNode)&&(xn(d),EY(d))}}else o.insertAdjacentHTML("afterbegin",i)},e.prototype.getRenderer=function(){return this.renderer},e.prototype.destroy=function(){ci(this.el,"scroll"),this.el=null},e.prototype.getElement=function(){return this.el},e.prototype.getHTML=function(){return this.previewContent.innerHTML},e.prototype.setHTML=function(e){this.previewContent.innerHTML=e},e.prototype.setHeight=function(e){P(this.el,{height:e+"px"})},e.prototype.setMinHeight=function(e){P(this.el,{minHeight:e+"px"})},e}();function OY(e,t){var n=e.depth;while(n){var r=e.node(n);if(t(r,n))return{node:r,depth:n,offset:n>0?e.before(n):0};n-=1}return null}function IY(e){return!!OY(e,(function(e){var t=e.type;return"listItem"===t.name||"bulletList"===t.name||"orderedList"===t.name}))}function DY(e){return!!OY(e,(function(e){var t=e.type;return"tableHeadCell"===t.name||"tableBodyCell"===t.name}))}function AY(e){return OY(e,(function(e){var t=e.type;return"listItem"===t.name}))}function PY(e){return{tag:e,getAttrs:function(e){var t=e.getAttribute("data-raw-html");return f({},t&&{rawHTML:t})}}}function RY(e){return Object.keys(e).reduce((function(t,n){return"rawHTML"!==n&&e[n]&&(n="className"===n?"class":n,t[n]=e[n]),t}),{})}function HY(e){return{tag:e,getAttrs:function(e){return["rawHTML","colspan","rowspan","extended"].reduce((function(t,n){var r="rawHTML"===n?"data-raw-html":n,o=e.getAttribute(r);return o&&(t[n]=Te(["rawHTML","extended"],n)?o:Number(o)),t}),{})}}}function BY(){return{htmlAttrs:{default:null},classNames:{default:null}}}function FY(e){var t=e.htmlAttrs,n=e.classNames;return f(f({},t),{class:n?n.join(" "):null})}function jY(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.contentMatchAt(r).findWrapping(t);if(i){var a=i.length?i[0]:t;return n.canReplaceWith(r,o,a)?i:null}return null}function qY(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.child(r),a=t.contentMatch.findWrapping(i.type);if(a){for(var s=a.length?a[a.length-1]:t,l=s.contentMatch,u=r;l&&u<o;u+=1)l=l.matchType(n.child(u).type);if(l&&l.validEnd)return a}return null}function zY(e,t,n,r){var o=jY(e,n),i=qY(t,n);if(o&&i){var a=o.map((function(e){return{type:e}})),s=i.map((function(e){return{type:e,attrs:r}}));return a.concat({type:n}).concat(s)}return null}function VY(e,t,n,o,a){for(var s=t.start,l=t.end,u=t.startIndex,c=t.endIndex,d=t.parent,p=r["Fragment"].empty,f=n.length-1;f>=0;f-=1)p=r["Fragment"].from(n[f].type.create(n[f].attrs,p));e.step(new i["b"](s-(o?2:0),l,s,l,new r["Slice"](p,0,0),n.length,!0));var h=0;for(f=0;f<n.length;f+=1)if(n[f].type===a){h=f+1;break}for(var m=n.length-h,v=s+n.length-(o?2:0),g=(f=u,c);f<g;f+=1){var y=f===u;!y&&Object(i["g"])(e.doc,v,m)&&(e.split(v,m),v+=2*m),v+=d.child(f).nodeSize}return e}function _Y(e,t,n,o){var i=t.$from,a=t.$to,s=t.depth,l=t,u=!1;if(s>=2&&i.node(s-1).type.compatibleContent(n)&&0===t.startIndex&&i.index(s-1)){var c=e.doc.resolve(t.start-2);l=new r["NodeRange"](c,c,s),t.endIndex<t.parent.childCount&&(t=new r["NodeRange"](i,e.doc.resolve(a.end(s)),s)),u=!0}var d=zY(l,t,n,o);return d?VY(e,t,d,u,n):e}function UY(e,t){var n=e.resolve(t);while("paragraph"!==n.node().type.name)t-=2,n=e.resolve(t);return AY(n)}function $Y(e,t){var n=t.$from,r=t.$to,o=AY(n),i=AY(r);if(o&&i)while(i){var a=i.offset,s=i.node,l={task:!s.attrs.task,checked:!1};if(e.setNodeMarkup(a,null,l),a===o.offset)break;i=UY(e.doc,a)}return e}function WY(e,t,n){var r=t.$from,o=t.$to,i=AY(r),a=AY(o);if(i&&a)while(a){var s=a.offset,l=a.node,u=a.depth;l.attrs.task&&e.setNodeMarkup(s,null,{task:!1,checked:!1});var c=e.doc.resolve(s);if(c.parent.type!==n){var d=c.before(u-1);e.setNodeMarkup(d,n)}if(s===i.offset)break;a=UY(e.doc,s)}return e}function GY(e){return function(t,n){var r=t.selection,o=t.tr,i=r.$from,a=r.$to,s=i.blockRange(a);if(s){var l=IY(i)?WY(o,s,e):_Y(o,s,e);return n(l),!0}return!1}}function XY(){return function(e,t){var n=e.selection,r=e.tr,o=e.schema,i=n.$from,a=n.$to,s=i.blockRange(a);if(s){var l=IY(i)?$Y(r,s):_Y(r,s,o.nodes.bulletList,{task:!0});return t(l),!0}return!1}}function ZY(e){return function(t,n){var o=t.tr,a=t.selection,s=a.$from,l=a.$to,u=s.blockRange(l,(function(t){var n=t.childCount,r=t.firstChild;return!!n&&r.type===e}));if(u&&u.startIndex>0){var c=u.parent,d=c.child(u.startIndex-1);if(d.type!==e)return!1;var p=d.lastChild&&d.lastChild.type===c.type,f=p?r["Fragment"].from(e.create()):null,h=new r["Slice"](r["Fragment"].from(e.create(null,r["Fragment"].from(c.type.create(null,f)))),p?3:1,0),m=u.start,v=u.end;return o.step(new i["b"](m-(p?3:1),v,m,v,h,1,!0)),n(o),!0}return!1}}function QY(e,t,n){var o=t.$from,a=t.$to,s=t.end,l=t.depth,u=t.parent,c=a.end(l);return s<c&&(e.step(new i["b"](s-1,c,s,c,new r["Slice"](r["Fragment"].from(n.create(null,u.copy())),1,0),1,!0)),t=new r["NodeRange"](e.doc.resolve(o.pos),e.doc.resolve(c),l)),e.lift(t,Object(i["k"])(t)),e}function KY(e,t){for(var n=t.parent,o=t.end,a=t.endIndex-1,s=t.startIndex;a>s;a-=1)o-=n.child(a).nodeSize,e.delete(o-1,o+1);var l=e.doc.resolve(t.start),u=l.nodeAfter,c=0===t.startIndex,d=t.endIndex===n.childCount,p=l.node(-1),f=l.index(-1),h=p.canReplace(f+(c?0:1),f+1,null===u||void 0===u?void 0:u.content.append(d?r["Fragment"].empty:r["Fragment"].from(n)));if(u&&h){var m=l.pos,v=m+u.nodeSize;e.step(new i["b"](m-(c?1:0),v+(d?1:0),m+1,v-1,new r["Slice"]((c?r["Fragment"].empty:r["Fragment"].from(n.copy(r["Fragment"].empty))).append(d?r["Fragment"].empty:r["Fragment"].from(n.copy(r["Fragment"].empty))),c?0:1,d?0:1),c?0:1))}return e}function YY(e){return function(t,n){var r=t.tr,o=t.selection,i=o.$from,a=o.$to,s=i.blockRange(a,(function(t){var n=t.childCount,r=t.firstChild;return!!n&&r.type===e}));if(s){var l=i.node(s.depth-1).type===e,u=l?QY(r,s,e):KY(r,s);return n(u),!0}return!1}}function JY(e){return function(t,n){var o=t.tr,s=t.selection,l=s.$from,u=s.$to;if(l.depth<2||!l.sameParent(u))return!1;var c=l.node(-1);if(c.type!==e)return!1;if(0===l.parent.content.size&&l.node(-1).childCount===l.indexAfter(-1)){if(2===l.depth||l.node(-3).type!==e||l.index(-2)!==l.node(-2).childCount-1)return!1;for(var d=l.index(-1)>0,p=r["Fragment"].empty,f=l.depth-(d?1:2);f>=l.depth-3;f-=1)p=r["Fragment"].from(l.node(f).copy(p));return p=p.append(r["Fragment"].from(e.createAndFill())),o.replace(d?l.before():l.before(-1),l.after(-3),new r["Slice"](p,d?3:2,2)),o.setSelection(a["Selection"].near(o.doc.resolve(l.pos+(d?3:2)))),n(o),!0}var h=u.pos===l.end()?c.contentMatchAt(0).defaultType:null,m=h&&[null,{type:h}];return o.delete(l.pos,u.pos),!!Object(i["g"])(o.doc,l.pos,2,m)&&(o.split(l.pos,2,m),n(o),!0)}}function eJ(){return function(){return function(e,t){var n=e.selection,r=e.schema,o=n.$from,i=n.$to,a=o.blockRange(i);return!(!a||!IY(o))&&ZY(r.nodes.listItem)(e,t)}}}function tJ(){return function(){return function(e,t){var n=e.selection,r=e.schema,o=n.$from,i=n.$to,a=o.blockRange(i);return!(!a||!IY(o))&&YY(r.nodes.listItem)(e,t)}}}function nJ(){return{indent:eJ(),outdent:tJ()}}var rJ=new Map,oJ=function(){function e(e,t,n,r){this.table=e,this.tableRows=t,this.tableStartPos=n,this.rowInfo=r}return e.create=function(t){var n=OY(t,(function(e){var t=e.type;return"table"===t.name}));if(n){var r=n.node,o=n.depth,i=n.offset,a=rJ.get(r);if((null===a||void 0===a?void 0:a.tableStartPos)===i+1)return a;var s=[],l=t.start(o),u=r.child(0),c=r.child(1),d=iJ(u,l),p=iJ(c,l+u.nodeSize);u.forEach((function(e){return s.push(e)})),c.forEach((function(e){return s.push(e)}));var f=new e(r,s,l,d.concat(p));return rJ.set(r,f),f}return null},Object.defineProperty(e.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),e.prototype.getCellInfo=function(e,t){return this.rowInfo[e][t]},e.prototype.posAt=function(e,t){for(var n=0,r=this.tableStartPos;;n+=1){var o=r+this.tableRows[n].nodeSize;if(n===e){var i=t;while(i<this.totalColumnCount&&this.rowInfo[n][i].offset<r)i+=1;return i===this.totalColumnCount?o:this.rowInfo[n][i].offset}r=o}},e.prototype.getNodeAndPos=function(e,t){var n=this.rowInfo[e][t];return{node:this.table.nodeAt(n.offset-1),pos:n.offset}},e.prototype.extendedRowspan=function(e,t){return!1},e.prototype.extendedColspan=function(e,t){return!1},e.prototype.getRowspanCount=function(e,t){return 0},e.prototype.getColspanCount=function(e,t){return 0},e.prototype.decreaseColspanCount=function(e,t){return 0},e.prototype.decreaseRowspanCount=function(e,t){return 0},e.prototype.getColspanStartInfo=function(e,t){return null},e.prototype.getRowspanStartInfo=function(e,t){return null},e.prototype.getCellStartOffset=function(e,t){var n=this.rowInfo[e][t].offset;return this.extendedRowspan(e,t)?this.posAt(e,t):n},e.prototype.getCellEndOffset=function(e,t){var n=this.rowInfo[e][t],r=n.offset,o=n.nodeSize;return this.extendedRowspan(e,t)?this.posAt(e,t):r+o},e.prototype.getCellIndex=function(e){for(var t=0;t<this.totalRowCount;t+=1)for(var n=this.rowInfo[t],r=0;r<this.totalColumnCount;r+=1)if(n[r].offset+1>e.pos)return[t,r];return[0,0]},e.prototype.getRectOffsets=function(e,t){var n,r,o;void 0===t&&(t=e),e.pos>t.pos&&(n=[t,e],e=n[0],t=n[1]);var i=this.getCellIndex(e),a=i[0],s=i[1],l=this.getCellIndex(t),u=l[0],c=l[1];return r=ze(a,u),a=r[0],u=r[1],o=ze(s,c),s=o[0],c=o[1],this.getSpannedOffsets({startRowIdx:a,startColIdx:s,endRowIdx:u,endColIdx:c})},e.prototype.getSpannedOffsets=function(e){return e},e}(),iJ=function(e,t){var n=[];return e.forEach((function(e,r){var o={rowspanMap:{},colspanMap:{},length:0};e.forEach((function(e,n){var i=e.nodeSize,a=0;while(o[a])a+=1;o[a]={offset:t+r+n+2,nodeSize:i},o.length+=1})),n.push(o)})),n};function aJ(e,t){return qe(oJ.prototype,e),iJ=t,oJ}function sJ(e,t,n){for(var r=n.startRowIdx,o=n.startColIdx,i=n.endRowIdx,s=n.endColIdx,l=[],u=r;u<=i;u+=1)for(var c=o;c<=s;c+=1){var d=t.getCellInfo(u,c),p=d.offset,f=d.nodeSize;l.push(new a["SelectionRange"](e.resolve(p+1),e.resolve(p+f-1)))}return l}function lJ(e,t){var n=[];return e.childCount&&n.push(e),t.childCount&&n.push(t),r["Fragment"].from(n)}var uJ=function(e){function t(t,n){void 0===n&&(n=t);var r=this,o=t.node(0),i=oJ.create(t),a=i.getRectOffsets(t,n),s=sJ(o,i,a);return r=e.call(this,s[0].$from,s[0].$to,s)||this,r.startCell=t,r.endCell=n,r.offsetMap=i,r.isCellSelection=!0,r.visible=!1,r}return p(t,e),t.prototype.map=function(e,n){var r=this.startCell.pos,o=this.endCell.pos,i=e.resolve(n.map(r)),s=e.resolve(n.map(o)),l=oJ.create(i);if(this.offsetMap.totalColumnCount>l.totalColumnCount||this.offsetMap.totalRowCount>l.totalRowCount){var u={tableBody:1,tableRow:2,tableCell:3,paragraph:4},c=u[s.parent.type.name],d=s.end(s.depth-c),p=Math.min(d-4,s.pos);return a["TextSelection"].create(e,p)}return new t(i,s)},t.prototype.eq=function(e){return e instanceof t&&e.startCell.pos===this.startCell.pos&&e.endCell.pos===this.endCell.pos},t.prototype.content=function(){for(var e=this.startCell.node(-2),t=this.startCell.start(-2),n=e.child(1).firstChild,o=e.child(0).type.create(),i=e.child(1).type.create(),a=oJ.create(this.startCell),s=a.getRectOffsets(this.startCell,this.endCell),l=s.startRowIdx,u=s.startColIdx,c=s.endRowIdx,d=s.endColIdx,p=!1,f=l;f<=c;f+=1){for(var h=[],m=u;m<=d;m+=1){var v=a.getCellInfo(f,m).offset,g=e.nodeAt(v-t);g&&(p="tableHeadCell"===g.type.name,a.extendedRowspan(f,m)||a.extendedColspan(f,m)?h.push(g.type.create({extended:!0})):h.push(g.copy(g.content)))}var y=n.copy(r["Fragment"].from(h)),b=p?o:i;b.content=b.content.append(r["Fragment"].from(y))}return new r["Slice"](lJ(o,i),1,1)},t}(a["Selection"]);function cJ(e,t,n){for(var r=t.nodes,o=r.tableRow,i=r.tableHeadCell,a=r.paragraph,s=[],l=0;l<e;l+=1){var u=n&&n[l],c=a.create(null,u?t.text(u):[]);s.push(i.create(null,c))}return[o.create(null,s)]}function dJ(e,t,n,r){for(var o=n.nodes,i=o.tableRow,a=o.tableBodyCell,s=o.paragraph,l=[],u=0;u<e;u+=1){for(var c=[],d=0;d<t;d+=1){var p=r&&r[u*t+d],f=s.create(null,p?n.text(p):[]);c.push(a.create(null,f))}l.push(i.create(null,c))}return l}function pJ(e,t,n,r){void 0===r&&(r=null);for(var o=n.nodes,i=o.tableHeadCell,a=o.tableBodyCell,s=o.paragraph,l=0===t?i:a,u=[],c=0;c<e;c+=1)u.push(l.create(r,s.create()));return u}function fJ(e,t){while(e&&e!==t){if("TD"===e.nodeName||"TH"===e.nodeName)return e;e=e.parentNode}return null}function hJ(e){return OY(e,(function(e){var t=e.type;return"tableHeadCell"===t.name||"tableBodyCell"===t.name}))}function mJ(e){if(e instanceof a["TextSelection"]){var t=e.$anchor,n=hJ(t);if(n){var r=t.node(0).resolve(t.before(n.depth));return{anchor:r,head:r}}}var o=e,i=o.startCell,s=o.endCell;return{anchor:i,head:s}}function vJ(e){var t;if(e.size){var n=e.content,r=e.openStart,o=e.openEnd;if(1!==n.childCount)return null;while(1===n.childCount&&(r>0&&o>0||"table"===(null===(t=n.firstChild)||void 0===t?void 0:t.type.name)))r-=1,o-=1,n=n.firstChild.content;if("tableHead"===n.firstChild.type.name||"tableBody"===n.firstChild.type.name)return n}return null}function gJ(e){var t=e.startRowIdx,n=e.startColIdx,r=e.endRowIdx,o=e.endColIdx,i=r-t+1,a=o-n+1;return{rowCount:i,columnCount:a}}function yJ(e,t){return f(f({},e.attrs),t)}var bJ=new a["PluginKey"]("cellSelection"),wJ=2,kJ=function(){function e(e){this.view=e,this.handlers={mousedown:this.handleMousedown.bind(this),mousemove:this.handleMousemove.bind(this),mouseup:this.handleMouseup.bind(this)},this.startCellPos=null,this.init()}return e.prototype.init=function(){this.view.dom.addEventListener("mousedown",this.handlers.mousedown)},e.prototype.handleMousedown=function(e){var t=fJ(e.target,this.view.dom);if(e.button!==wJ){if(t){var n=this.getCellPos(e);n&&(this.startCellPos=n),this.bindEvent()}}else e.preventDefault()},e.prototype.handleMousemove=function(e){var t,n=bJ.getState(this.view.state),r=this.getCellPos(e),o=this.startCellPos;n?t=this.view.state.doc.resolve(n):o!==r&&(t=o),t&&o&&r&&this.setCellSelection(o,r)},e.prototype.handleMouseup=function(){this.startCellPos=null,this.unbindEvent(),null!==bJ.getState(this.view.state)&&this.view.dispatch(this.view.state.tr.setMeta(bJ,-1))},e.prototype.bindEvent=function(){var e=this.view.dom;e.addEventListener("mousemove",this.handlers.mousemove),e.addEventListener("mouseup",this.handlers.mouseup)},e.prototype.unbindEvent=function(){var e=this.view.dom;e.removeEventListener("mousemove",this.handlers.mousemove),e.removeEventListener("mouseup",this.handlers.mouseup)},e.prototype.getCellPos=function(e){var t=e.clientX,n=e.clientY,r=this.view.posAtCoords({left:t,top:n});if(r){var o=this.view.state.doc,i=o.resolve(r.pos),a=hJ(i);if(a){var s=i.before(a.depth);return o.resolve(s)}}return null},e.prototype.setCellSelection=function(e,t){var n=this.view.state,r=n.selection,o=n.tr,i=null===bJ.getState(this.view.state),a=new uJ(e,t);if(i||!r.eq(a)){var s=o.setSelection(a);i&&s.setMeta(bJ,t.pos),this.view.dispatch(s)}},e.prototype.destroy=function(){this.view.dom.removeEventListener("mousedown",this.handlers.mousedown)},e}(),CJ=vn("cell-selected");function xJ(e){var t=e.selection,n=e.doc;if(t instanceof uJ){var r=[],i=t.ranges;return i.forEach((function(e){var t=e.$from,n=e.$to;r.push(o["Decoration"].node(t.pos-1,n.pos+1,{class:CJ}))})),o["DecorationSet"].create(n,r)}return null}function TJ(){return new a["Plugin"]({key:bJ,state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(bJ);if(n)return-1===n?null:n;if(le(t)||!e.docChanged)return t;var r=e.mapping.mapResult(t),o=r.deleted,i=r.pos;return o?null:i}},props:{decorations:xJ,createSelectionBetween:function(e){var t=e.state;return le(bJ.getState(t))?null:t.selection}},view:function(e){return new kJ(e)}})}var EJ=function(){function e(){this.keys=[],this.values=[]}return e.prototype.getKeyIndex=function(e){return B(e,this.keys)},e.prototype.get=function(e){return this.values[this.getKeyIndex(e)]},e.prototype.set=function(e,t){var n=this.getKeyIndex(e);return n>-1?this.values[n]=t:(this.keys.push(e),this.values.push(t)),this},e.prototype.has=function(e){return this.getKeyIndex(e)>-1},e.prototype.delete=function(e){var t=this.getKeyIndex(e);return t>-1&&(this.keys.splice(t,1),this.values.splice(t,1),!0)},e.prototype.forEach=function(e,t){var n=this;void 0===t&&(t=this),this.values.forEach((function(r,o){r&&n.keys[o]&&e.call(t,r,n.keys[o],n)}))},e.prototype.clear=function(){this.keys=[],this.values=[]},e}(),MJ="en-US",LJ=function(){function e(){this.code=MJ,this.langs=new EJ}return e.prototype.setCode=function(e){this.code=e||MJ},e.prototype.setLanguage=function(e,t){var n=this;e=[].concat(e),e.forEach((function(e){if(n.langs.has(e)){var r=n.langs.get(e);n.langs.set(e,b(r,t))}else n.langs.set(e,t)}))},e.prototype.get=function(e,t){t||(t=this.code);var n=this.langs.get(t);n||(n=this.langs.get(MJ));var r=n[e];if(!r)throw new Error('There is no text key "'+e+'" in '+t);return r},e}(),NJ=new LJ,SJ=[[{action:"Add row to up",command:"addRowToUp",disableInThead:!0,className:"add-row-up"},{action:"Add row to down",command:"addRowToDown",disableInThead:!0,className:"add-row-down"},{action:"Remove row",command:"removeRow",disableInThead:!0,className:"remove-row"}],[{action:"Add column to left",command:"addColumnToLeft",className:"add-column-left"},{action:"Add column to right",command:"addColumnToRight",className:"add-column-right"},{action:"Remove column",command:"removeColumn",className:"remove-column"}],[{action:"Align column to left",command:"alignColumn",payload:{align:"left"},className:"align-column-left"},{action:"Align column to center",command:"alignColumn",payload:{align:"center"},className:"align-column-center"},{action:"Align column to right",command:"alignColumn",payload:{align:"right"},className:"align-column-right"}],[{action:"Remove table",command:"removeTable",className:"remove-table"}]];function OJ(e,t){return SJ.map((function(n){return n.map((function(n){var r=n.action,o=n.command,i=n.payload,a=n.disableInThead,s=n.className;return{label:NJ.get(r),onClick:function(){e.emit("command",o,i)},disabled:t&&!!a,className:s}}))})).concat()}function IJ(e){return new a["Plugin"]({props:{handleDOMEvents:{contextmenu:function(t,n){var r=fJ(n.target,t.dom);if(r){n.preventDefault();var o=n,i=o.clientX,a=o.clientY,s=t.dom.parentNode.getBoundingClientRect(),l=s.left,u=s.top,c="TH"===r.nodeName;return e.emit("contextmenu",{pos:{left:i-l+10+"px",top:a-u+30+"px"},menuGroups:OJ(e,c),tableCell:r}),!0}return!1}}}})}function DJ(){return new a["Plugin"]({props:{handleDOMEvents:{mousedown:function(e,t){var n=t,r=n.clientX,o=n.clientY,i=e.posAtCoords({left:r,top:o});if(i){var a=e.state,s=a.doc,l=a.tr,u=s.resolve(i.pos),c=AY(u),d=t.target,p=getComputedStyle(d,":before"),h=t,m=h.offsetX,v=h.offsetY;if(!c||!hn(p,m,v))return!1;t.preventDefault();var g=u.before(c.depth),y=c.node.attrs;return l.setNodeMarkup(g,null,f(f({},y),{checked:!y.checked})),e.dispatch(l),!0}return!1}}}})}var AJ=["image","link","customBlock","frontMatter"],PJ=["strong","strike","emph","code"],RJ=["bulletList","orderedList","taskList"];function HJ(e,t){var n=e.type.name;return"listItem"===n?e.attrs.task?"taskList":t.type.name:-1!==n.indexOf("table")?"table":n}function BJ(e,t){t[e]=!0,RJ.filter((function(t){return t!==e})).forEach((function(e){t[e]&&delete t[e]}))}function FJ(e,t,n){var r={};return PJ.forEach((function(o){var i=n.marks[o],a=e.marksAcross(t)||[],s=!!i.isInSet(a);s&&(r[o]=!0)})),r}function jJ(e,t,n){var r=e.$from,o=e.$to,i=e.from,a=e.to,s={},l={};return t.nodesBetween(i,a,(function(e,t,i){var a=HJ(e,i);Te(AJ,a)||(Te(RJ,a)?BJ(a,s):"paragraph"===a||"text"===a?l=FJ(r,o,n):s[a]=!0)})),f(f({},s),l)}function qJ(e){return new a["Plugin"]({view:function(){return{update:function(t){var n=t.state,r=n.selection,o=n.doc,i=n.schema;e.emit("changeToolbarState",{toolbarState:jJ(r,o,i)})}}}})}var zJ=function(){function e(e,t,n,r){var i=this;this.openEditor=function(){if(i.innerEditorView)throw new Error("The editor is already opened.");i.wrapper.style.display="none",i.innerViewContainer.style.display="block",i.innerEditorView=new o["EditorView"](i.innerViewContainer,{state:a["EditorState"].create({doc:i.node,plugins:[Object(s["a"])({"Mod-z":function(){return Object(c["c"])(i.innerEditorView.state,i.innerEditorView.dispatch)},"Shift-Mod-z":function(){return Object(c["b"])(i.innerEditorView.state,i.innerEditorView.dispatch)},Tab:function(e,t){return t(e.tr.insertText("\t")),!0},Enter:l["f"],Escape:function(){return i.cancelEditing(),!0},"Ctrl-Enter":function(){return i.saveAndFinishEditing(),!0}}),Object(c["a"])()]}),dispatchTransaction:function(e){return i.dispatchInner(e)},handleDOMEvents:{mousedown:function(){return i.editorView.hasFocus()&&i.innerEditorView.focus(),!0},blur:function(){return i.saveAndFinishEditing(),!0}}}),i.innerEditorView.focus()},this.node=e,this.editorView=t,this.getPos=n,this.toDOMAdaptor=r,this.innerEditorView=null,this.canceled=!1,this.dom=document.createElement("div"),this.dom.className=vn("custom-block"),this.wrapper=document.createElement("div"),this.wrapper.className=vn("custom-block-view"),this.createInnerViewContainer(),this.renderCustomBlock(),this.dom.appendChild(this.innerViewContainer),this.dom.appendChild(this.wrapper)}return e.prototype.renderToolArea=function(){var e=this,t=document.createElement("div"),n=document.createElement("span"),r=document.createElement("button");t.className="tool",n.textContent=this.node.attrs.info,n.className="info",r.type="button",r.addEventListener("click",(function(){return e.openEditor()})),t.appendChild(n),t.appendChild(r),this.wrapper.appendChild(t)},e.prototype.renderCustomBlock=function(){var e=this.toDOMAdaptor.getToDOMNode(this.node.attrs.info);if(e){var t=e(this.node);while(this.wrapper.hasChildNodes())this.wrapper.removeChild(this.wrapper.lastChild);t&&this.wrapper.appendChild(t),this.renderToolArea()}},e.prototype.createInnerViewContainer=function(){this.innerViewContainer=document.createElement("div"),this.innerViewContainer.className=vn("custom-block-editor"),this.innerViewContainer.style.display="none"},e.prototype.closeEditor=function(){this.innerEditorView&&(this.innerEditorView.destroy(),this.innerEditorView=null,this.innerViewContainer.style.display="none"),this.wrapper.style.display="block"},e.prototype.saveAndFinishEditing=function(){var e=this.editorView.state.selection.to,t=this.editorView.state;this.editorView.dispatch(t.tr.setSelection(Ue(t.tr,e))),this.editorView.focus(),this.renderCustomBlock(),this.closeEditor()},e.prototype.cancelEditing=function(){var e=Object(c["d"])(this.innerEditorView.state);this.canceled=!0;while(e--)Object(c["c"])(this.innerEditorView.state,this.innerEditorView.dispatch),Object(c["c"])(this.editorView.state,this.editorView.dispatch);this.canceled=!1;var t=this.editorView.state.selection.to,n=this.editorView.state;this.editorView.dispatch(n.tr.setSelection(a["TextSelection"].create(n.doc,t))),this.editorView.focus(),this.closeEditor()},e.prototype.dispatchInner=function(e){var t=this.innerEditorView.state.applyTransaction(e),n=t.state,r=t.transactions;if(this.innerEditorView.updateState(n),!this.canceled&&Vt(this.getPos)){for(var o=this.editorView.state.tr,a=i["d"].offset(this.getPos()+1),s=0;s<r.length;s+=1)for(var l=r[s].steps,u=0;u<l.length;u+=1)o.step(l[u].map(a));o.docChanged&&this.editorView.dispatch(o)}},e.prototype.update=function(e){return!!e.sameMarkup(this.node)&&(this.node=e,this.innerEditorView||this.renderCustomBlock(),!0)},e.prototype.stopEvent=function(e){return!!this.innerEditorView&&!!e.target&&this.innerEditorView.dom.contains(e.target)},e.prototype.ignoreMutation=function(){return!0},e.prototype.destroy=function(){this.dom.removeEventListener("dblclick",this.openEditor),this.closeEditor()},e}(),VJ="image-link",_J=function(){function e(e,t,n,r){var o,i=this;this.handleMousedown=function(e){e.preventDefault();var t=e.target,n=e.offsetX,r=e.offsetY;if(i.imageLink&&Vt(i.getPos)&&Xt(t,VJ)){var o=getComputedStyle(t,":before");if(e.stopPropagation(),hn(o,n,r)){var a=i.view.state.tr,s=i.getPos();a.setSelection(Ue(a,s,s+1)),i.view.dispatch(a),i.eventEmitter.emit("openPopup","link",i.imageLink.attrs)}}},this.node=e,this.view=t,this.getPos=n,this.eventEmitter=r,this.imageLink=null!==(o=e.marks.filter((function(e){var t=e.type;return"link"===t.name}))[0])&&void 0!==o?o:null,this.dom=this.createElement(),this.bindEvent()}return e.prototype.createElement=function(){var e=this.createImageElement(this.node);if(this.imageLink){var t=document.createElement("span");return t.className=VJ,t.appendChild(e),t}return e},e.prototype.createImageElement=function(e){var t=document.createElement("img"),n=e.attrs,r=n.imageUrl,o=n.altText,i=FY(e.attrs);return t.src=r,o&&(t.alt=o),In(i,t),t},e.prototype.bindEvent=function(){this.imageLink&&this.dom.addEventListener("mousedown",this.handleMousedown)},e.prototype.stopEvent=function(){return!0},e.prototype.destroy=function(){this.imageLink&&this.dom.removeEventListener("mousedown",this.handleMousedown)},e}(),UJ="toastui-editor-ww-code-block",$J="toastui-editor-ww-code-block-language",WJ=function(){function e(e,t,n,r){var o=this;this.dom=null,this.contentDOM=null,this.input=null,this.handleMousedown=function(e){var t=e.target,n=getComputedStyle(t,":after");if("none"!==n.backgroundImage&&Vt(o.getPos)){var r=o.view.coordsAtPos(o.getPos()),i=r.top,a=r.right;o.createLanguageEditor({top:i,right:a})}},this.handleKeydown=function(e){"Enter"===e.key&&o.input&&(e.preventDefault(),o.changeLanguage())},this.node=e,this.view=t,this.getPos=n,this.eventEmitter=r,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return e.prototype.createElement=function(){var e=this.node.attrs.language,t=document.createElement("div");t.setAttribute("data-language",e||"text"),t.className=UJ;var n=this.createCodeBlockElement(),r=n.firstChild;t.appendChild(n),this.dom=t,this.contentDOM=r},e.prototype.createCodeBlockElement=function(){var e=document.createElement("pre"),t=document.createElement("code"),n=this.node.attrs.language,r=FY(this.node.attrs);return n&&t.setAttribute("data-language",n),In(r,e),e.appendChild(t),e},e.prototype.createLanguageEditor=function(e){var t=this,n=e.top,r=e.right,o=document.createElement("span");o.className=$J;var i=document.createElement("input");i.type="text",i.value=this.node.attrs.language,o.appendChild(i),document.querySelector(".toastui-editor.ww-mode").appendChild(o);var a=o.clientWidth;P(o,{top:n+10+"px",left:r-a-10+"px",width:a+"px"}),this.input=i,this.input.addEventListener("blur",(function(){return t.changeLanguage()})),this.input.addEventListener("keydown",this.handleKeydown),setTimeout((function(){return t.input.focus()}))},e.prototype.bindDOMEvent=function(){this.dom&&this.dom.addEventListener("click",this.handleMousedown)},e.prototype.bindEvent=function(){var e=this;this.eventEmitter.listen("scroll",(function(){e.input&&e.reset()}))},e.prototype.changeLanguage=function(){if(this.input&&Vt(this.getPos)){var e=this.input.value;this.reset();var t=this.getPos(),n=this.view.state.tr;n.setNodeMarkup(t,null,{language:e}),this.view.dispatch(n)}},e.prototype.reset=function(){var e;if(null===(e=this.input)||void 0===e?void 0:e.parentElement){var t=this.input.parentElement;this.input=null,xn(t)}},e.prototype.stopEvent=function(){return!0},e.prototype.update=function(e){return!!e.sameMarkup(this.node)&&(this.node=e,!0)},e.prototype.destroy=function(){this.reset(),this.dom&&this.dom.removeEventListener("click",this.handleMousedown)},e}(),GJ=/MsoListParagraph/,XJ=/style=(.|\n)*mso-/,ZJ=/mso-list:(.*)/,QJ=/O:P/,KJ=/^(n|u|l)/,YJ="p.MsoListParagraph";function JJ(e){return XJ.test(e)}function e0(e){var t=[],n=document.createTreeWalker(e,1,null,!1);while(n.nextNode()){var r=n.currentNode;if(bn(r)){var o=r,i=o.outerHTML,a=o.textContent,s=XJ.test(i),l=ZJ.test(i);s&&!l&&a?t.push([r,!0]):(QJ.test(r.nodeName)||s&&!a||l)&&t.push([r,!1])}}return t.forEach((function(e){var t=e[0],n=e[1];n?Tn(t):xn(t)})),e.innerHTML.trim()}function t0(e,t){var n=e.getAttribute("style");if(n){var r=n.match(ZJ),o=r[1],i=o.trim().split(" "),a=i[1],s=parseInt(a.replace("level",""),10),l=KJ.test(e.textContent||"");return{id:t,level:s,prev:null,parent:null,children:[],unordered:l,contents:e0(e)}}return null}function n0(e,t){if(t.level<e.level)t.children.push(e),e.parent=t;else{while(t){if(t.level===e.level)break;t=t.parent}t&&(e.prev=t,e.parent=t.parent,e.parent&&e.parent.children.push(e))}}function r0(e){var t=[];return e.forEach((function(e,n){var r=t[n-1],o=t0(e,n);o&&(r&&n0(o,r),t.push(o))})),t}function o0(e){var t=e[0].unordered?"ul":"ol",n=document.createElement(t);return e.forEach((function(e){var t=e.children,r=e.contents,o=document.createElement("li");o.innerHTML=r,n.appendChild(o),t.length&&n.appendChild(o0(t))})),n}function i0(e){var t=r0(e),n=t.filter((function(e){var t=e.parent;return!t}));return o0(n)}function a0(e){while(e){if(bn(e))break;e=e.nextSibling}return!e||!GJ.test(e.className)}function s0(e){var t=document.createElement("div");t.innerHTML=e;var n=[],r=wn(t,YJ);r.forEach((function(e){var r=a0(e.nextSibling);if(n.push(e),r){var o=i0(n),i=e.nextSibling;i?Cn(o,i):kn(t,o),n=[]}xn(e)}));var o=r.length?"<p></p>":"";return""+o+t.innerHTML}var l0="\x3c!--StartFragment--\x3e",u0="\x3c!--EndFragment--\x3e";function c0(e){var t=e.indexOf(l0),n=e.lastIndexOf(u0);return t>-1&&n>-1&&(e=e.slice(t+l0.length,n)),e}function d0(e){return/<\/td>((?!<\/tr>)[\s\S])*$/i.test(e)&&(e="<tr>"+e+"</tr>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(e)&&(e="<table>"+e+"</table>"),e}function p0(e){return e=c0(e),e=d0(e),JJ(e)&&(e=s0(e)),e}function f0(e){var t=e.reduce((function(e,t){return e.childCount>t.childCount?e:t}));return t.childCount}function h0(e,t,n){for(var r=[],o=e.childCount,i=0;i<o;i+=1)if(!e.child(i).attrs.extended){var a=i<o?n.create(e.child(i).attrs,e.child(i).content):n.createAndFill();r.push(a)}return r}function m0(e,t,n){var r=n.nodes,o=r.tableRow,i=r.tableHeadCell,a=h0(e,t,i);return o.create(null,a)}function v0(e,t,n){var r=n.nodes,o=r.tableRow,i=r.tableBodyCell,a=h0(e,t,i);return o.create(null,a)}function g0(e,t){for(var n=t.nodes,r=n.tableRow,o=n.tableBodyCell,i=[],a=0;a<e;a+=1){var s=o.createAndFill();i.push(s)}return r.create({dummyRowForPasting:!0},i)}function y0(e){var t=[],n=[];if("tableHead"===e.firstChild.type.name){var r=e.firstChild;r.forEach((function(e){return t.push(e)}))}if("tableBody"===e.lastChild.type.name){var o=e.lastChild;o.forEach((function(e){return n.push(e)}))}return h(h([],t),n)}function b0(e,t,n){var r=m0(e,t,n);return n.nodes.tableHead.create(null,r)}function w0(e,t,n){var r=e.map((function(e){return v0(e,t,n)}));if(!e.length){var o=g0(t,n);r.push(o)}return n.nodes.tableBody.create(null,r)}function k0(e,t,n){var r=f0(e);if(n)return t.nodes.table.create(null,[w0(e,r,t)]);var o=e[0],i=e.slice(1),a=[b0(o,r,t)];return i.length&&a.push(w0(i,r,t)),t.nodes.table.create(null,a)}function C0(e,t){var n=[];return e.content.forEach((function(e){if("table"===e.type.name){var o=vJ(new r["Slice"](r["Fragment"].from(e),0,0));if(o){var i=y0(o),a="tableBody"===o.firstChild.type.name,s=k0(i,t,a);n.push(s)}}else n.push(e)})),new r["Slice"](r["Fragment"].from(n),0,0)}var x0=4,T0=2;function E0(e){return e*x0}function M0(e,t,n){var r=[],o=y0(e),i=o[0].childCount,a=o.length,s=0===t.startRowIdx,l=o.slice(0,a);if(s){var u=l.shift();if(u){var c=m0(u,i,n).content;r.push(c)}}return l.forEach((function(e){if(!e.attrs.dummyRowForPasting){var t=v0(e,i,n).content;r.push(t)}})),r}function L0(e,t,n){for(var r=t.startRowIdx,o=t.startColIdx,i=n.length,a=0,s=function(e){var t=n[e].childCount;n[e].forEach((function(e){var n=e.attrs,r=n.colspan;r>1&&(t+=r-1)})),a=Math.max(a,t)},l=0;l<i;l+=1)s(l);var u=r+i-1,c=o+a-1,d=Math.max(u+1-e.totalRowCount,0),p=Math.max(c+1-e.totalColumnCount,0);return{startRowIdx:r,startColIdx:o,endRowIdx:u,endColIdx:c,addedRowCount:d,addedColumnCount:p}}function N0(e,t){for(var n=e.startRowIdx,r=e.startColIdx,o=e.endRowIdx,i=e.endColIdx,a=e.addedRowCount,s=e.addedColumnCount,l=n;l<=o-a;l+=1)t.push({rowIdx:l,startColIdx:r,endColIdx:i-s})}function S0(e,t,n,r,o){for(var i=r.startRowIdx,a=r.startColIdx,s=r.endRowIdx,l=r.endColIdx,u=r.addedRowCount,c=r.addedColumnCount,d=n.totalRowCount,p=0,f=0;f<d;f+=1){var h=n.getCellInfo(f,l-c),m=h.offset,v=h.nodeSize,g=e.mapping.map(m+v),y=pJ(c,f,t);if(e.insert(g,y),f>=i&&f<=s-u){var b=n.getCellInfo(f,l-c),w=e.mapping.map(b.offset),k=g+E0(c);o[p]={rowIdx:f,startColIdx:a,endColIdx:l,dummyOffsets:[w,k]},p+=1}}}function O0(e,t,n,r,o){var i=r.addedRowCount,a=r.addedColumnCount,s=r.startColIdx,l=r.endColIdx,u=e.mapping.maps.length,c=n.tableEndOffset-2,d=dJ(i,n.totalColumnCount+a,t),p=c;e.insert(e.mapping.slice(u).map(p),d);for(var f=0;f<i;f+=1){var h=p+E0(s)+1,m=p+E0(l+1)+1,v=p+E0(n.totalColumnCount+a)+T0;o.push({rowIdx:f+n.totalRowCount,startColIdx:s,endColIdx:l,dummyOffsets:[h,m]}),p=v}}function I0(e,t,n,o){var i=e.mapping.maps.length;n.forEach((function(n,a){var s=n.rowIdx,l=n.startColIdx,u=n.endColIdx,c=n.dummyOffsets,d=e.mapping.slice(i),p=new r["Slice"](t[a],0,0),f=c?c[0]:o.getCellStartOffset(s,l),h=c?c[1]:o.getCellEndOffset(s,u);e.replace(d.map(f),d.map(h),p)}))}function D0(e,t){var n=e.state,r=n.selection,o=n.schema,i=n.tr,a=mJ(r),s=a.anchor,l=a.head;if(s&&l){var u=vJ(t);if(!u)return!1;var c=oJ.create(s),d=c.getRectOffsets(s,l),p=M0(u,d,o),f=L0(c,d,p),h=[];return P0(c,f)&&(N0(f,h),f.addedColumnCount&&S0(i,o,c,f,h),f.addedRowCount&&O0(i,o,c,f,h),I0(i,p,h,c),e.dispatch(i),A0(e,h,c.getCellInfo(0,0).offset)),!0}return!1}function A0(e,t,n){var r=e.state,o=r.tr,i=r.doc,a=oJ.create(i.resolve(n)),s=t[0],l=s.rowIdx,u=s.startColIdx,c=Pe(t),d=c.rowIdx,p=c.endColIdx,f=a.getCellInfo(l,u).offset,h=a.getCellInfo(d,p).offset;e.dispatch(o.setSelection(new uJ(i.resolve(f),i.resolve(h))))}function P0(e,t){var n=e.getSpannedOffsets(t),r=gJ(n),o=r.rowCount,i=r.columnCount,a=gJ(t),s=a.rowCount,l=a.columnCount;return o===s&&i===l}var R0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),t}(Ht),H0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"inline*",group:"block",attrs:f({},BY()),parseDOM:[{tag:"p"}],toDOM:function(e){var t=e.attrs;return["p",FY(t),0]}}},enumerable:!1,configurable:!0}),t}(Ht),B0=/\s{1,4}$/,F0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),t.prototype.addSpaces=function(){return function(e,t){var n=e.selection,r=e.tr,o=n.$from,i=n.$to,a=o.blockRange(i);return!(!a||IY(o)||DY(o))&&(t(r.insertText("    ",o.pos,i.pos)),!0)}},t.prototype.removeSpaces=function(){return function(e,t){var n=e.selection,r=e.tr,o=n.$from,i=n.$to,a=n.from,s=o.blockRange(i);if(s&&!IY(o)&&!DY(o)){var l=o.nodeBefore;if(l&&l.isText){var u=l.text,c=u.replace(B0,""),d=u.length-c.length;return t(r.delete(a-d,a)),!0}}return!1}},t.prototype.keymaps=function(){return{Tab:this.addSpaces(),"Shift-Tab":this.removeSpaces()}},t}(Ht),j0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"levels",{get:function(){return[1,2,3,4,5,6]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){var e=this.levels.map((function(e){return{tag:"h"+e,getAttrs:function(t){var n=t.getAttribute("data-raw-html");return f({level:e},n&&{rawHTML:n})}}}));return{attrs:f({level:{default:1},headingType:{default:"atx"},rawHTML:{default:null}},BY()),content:"inline*",group:"block",defining:!0,parseDOM:e,toDOM:function(e){var t=e.attrs;return["h"+t.level,FY(t),0]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(e){return function(t,n){return Object(l["h"])(t.schema.nodes.heading,e)(t,n)}}},t}(Ht),q0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:f({language:{default:null},rawHTML:{default:null}},BY()),code:!0,defining:!0,marks:"",parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(e){var t=e.getAttribute("data-raw-html"),n=e.firstElementChild;return f({language:(null===n||void 0===n?void 0:n.getAttribute("data-language"))||null},t&&{rawHTML:t})}}],toDOM:function(e){var t=e.attrs;return[t.rawHTML||"pre",["code",f({"data-language":t.language},FY(t)),0]]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(){return function(e,t){return Object(l["h"])(e.schema.nodes.codeBlock)(e,t)}}},t.prototype.moveCursor=function(e){var t=this;return function(n,r){var o=n.tr,i=n.doc,a=n.schema,s=n.selection.$from,l=t.context.view;if(l.endOfTextblock(e)&&"codeBlock"===s.node().type.name){var u=s.parent.textContent.split("\n"),c="up"===e?s.start():s.end(),d="up"===e?[c,u[0].length+c]:[c-Pe(u).length,c],p=i.resolve("up"===e?s.before():s.after()),f="up"===e?p.nodeBefore:p.nodeAfter;if(Re(s.pos,d[0],d[1])&&!f){var h=$e(o,p,a);if(h)return r(h),!0}}return!1}},t.prototype.keymaps=function(){var e=this.commands()();return{"Shift-Mod-p":e,"Shift-Mod-P":e,ArrowUp:this.moveCursor("up"),ArrowDown:this.moveCursor("down")}},t}(Ht),z0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"bulletList"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:f({rawHTML:{default:null}},BY()),parseDOM:[PY("ul")],toDOM:function(e){var t=e.attrs;return["ul",FY(t),0]}}},enumerable:!1,configurable:!0}),t.prototype.changeList=function(){return function(e,t){return GY(e.schema.nodes.bulletList)(e,t)}},t.prototype.commands=function(){return{bulletList:this.changeList,taskList:XY}},t.prototype.keymaps=function(){var e=this.changeList(),t=nJ(),n=t.indent,r=t.outdent;return{"Mod-u":e,"Mod-U":e,Tab:n(),"Shift-Tab":r()}},t}(Ht),V0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"orderedList"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:f({order:{default:1},rawHTML:{default:null}},BY()),parseDOM:[{tag:"ol",getAttrs:function(e){var t=e.getAttribute("start"),n=e.getAttribute("data-raw-html");return f({order:e.hasAttribute("start")?Number(t):1},n&&{rawHTML:n})}}],toDOM:function(e){var t=e.attrs;return[t.rawHTML||"ol",f({start:1===t.order?null:t.order},FY(t)),0]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(){return function(e,t){return GY(e.schema.nodes.orderedList)(e,t)}}},t.prototype.keymaps=function(){var e=this.commands()(),t=nJ(),n=t.indent,r=t.outdent;return{"Mod-o":e,"Mod-O":e,Tab:n(),"Shift-Tab":r()}},t}(Ht),_0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"paragraph block*",selectable:!1,attrs:{task:{default:!1},checked:{default:!1},rawHTML:{default:null}},defining:!0,parseDOM:[{tag:"li",getAttrs:function(e){var t=e.getAttribute("data-raw-html");return f({task:e.hasAttribute("data-task"),checked:e.hasAttribute("data-task-checked")},t&&{rawHTML:t})}}],toDOM:function(e){var t=e.attrs,n=t.task,r=t.checked;if(!n)return[t.rawHTML||"li",0];var o=["task-list-item"];return r&&o.push("checked"),[t.rawHTML||"li",f({class:o.join(" "),"data-task":n},r&&{"data-task-checked":r}),0]}}},enumerable:!1,configurable:!0}),t.prototype.liftToPrevListItem=function(){return function(e,t){var n=e.selection,r=e.tr,o=e.schema,i=n.$from,a=n.empty,s=o.nodes.listItem,l=i.parent,u=i.node(-1);if(a&&!l.childCount&&u.type===s){if(i.index(-2)>=1)return r.delete(i.start(-1)-1,i.end(-1)),t(r),!0;var c=i.node(-3);if(c.type===s)return r.delete(i.start(-2)-1,i.end(-1)),t(r),!0}return!1}},t.prototype.keymaps=function(){var e=function(e,t){return JY(e.schema.nodes.listItem)(e,t)};return{Backspace:this.liftToPrevListItem(),Enter:e}},t}(Ht),U0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{attrs:f({rawHTML:{default:null}},BY()),content:"block+",group:"block",parseDOM:[PY("blockquote")],toDOM:function(e){var t=e.attrs;return["blockquote",FY(t),0]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(){return function(e,t){return Object(l["j"])(e.schema.nodes.blockQuote)(e,t)}}},t.prototype.keymaps=function(){var e=this.commands()();return{"Alt-q":e,"Alt-Q":e}},t}(Ht),$0={left:t1,right:e1,up:n1,down:r1};function W0(e,t,n){var r=n[0],o=n[1],i=t.resolve(e.before(r-1));return o===r&&!i.nodeBefore}function G0(e){var t,n,r=e.depth;while(r){if(n=e.node(r),"tableBodyCell"===n.type.name)break;if("listItem"===n.type.name){var o=e.node(r-1),i=o.lastChild===n,a="paragraph"!==(null===(t=n.lastChild)||void 0===t?void 0:t.type.name);return!!i&&!a}r-=1}return!1}function X0(e,t,n,r,o){var i=t[0],a=t[1],s=t[2];if("left"===e||"up"===e){if(o&&!W0(n,r,[i,a]))return!1;var l=n.before(s),u=r.resolve(l).nodeBefore;if(u)return!1}return!0}function Z0(e,t,n,r,o){if("right"===e||"down"===e){if(o&&!G0(n))return!1;var i=n.after(t),a=r.resolve(i).nodeAfter;if(a)return!1}return!0}function Q0(e,t,n,r){var o=t[0],i=t[1],a=o+3,s=i>=a,l=s?o+1:i,u=X0(e,[i,a,l],n,r,s),c=Z0(e,l,n,r,s);return u&&c}function K0(e,t,n){var r=n[0],o=n[1],i=t.getRowspanStartInfo(r,o),a="up"===e&&0===r,s="down"===e&&((null===i||void 0===i?void 0:i.count)>1?r+i.count-1:r)===t.totalRowCount-1;return a||s}function Y0(e,t,n){var r=e.doc.resolve(t.tableStartOffset-1);return r.nodeBefore?e.setSelection(a["Selection"].near(r,-1)):$e(e,r,n)}function J0(e,t,n){var r=e.doc.resolve(t.tableEndOffset);return r.nodeAfter?e.setSelection(a["Selection"].near(r,1)):$e(e,r,n)}function e1(e,t){var n=e[0],r=e[1],o=t.totalRowCount,i=t.totalColumnCount,a=r===i-1,s=n===o-1&&a;if(!s){var l=r+1,u=t.getColspanStartInfo(n,r);(null===u||void 0===u?void 0:u.count)>1&&(l+=u.count-1),(a||l===i)&&(n+=1,l=0);var c=t.getCellInfo(n,l).offset;return c+2}return null}function t1(e,t){var n=e[0],r=e[1],o=t.totalColumnCount,i=0===r,a=0===n&&i;if(!a){r-=1,i&&(n-=1,r=o-1);var s=t.getCellInfo(n,r),l=s.offset,u=s.nodeSize;return l+u-2}return null}function n1(e,t){var n=e[0],r=e[1];if(n>0){var o=t.getCellInfo(n-1,r),i=o.offset,a=o.nodeSize;return i+a-2}return null}function r1(e,t){var n=e[0],r=e[1],o=t.totalRowCount;if(n<o-1){var i=n+1,a=t.getRowspanStartInfo(n,r);(null===a||void 0===a?void 0:a.count)>1&&(i+=a.count-1);var s=t.getCellInfo(i,r).offset;return s+2}return null}function o1(e,t,n,r){var o=$0[e],i=o(n,r);if(i){var s="right"===e||"down"===e?1:-1;return t.setSelection(a["Selection"].near(t.doc.resolve(i),s))}return null}function i1(e,t,n){var r=n[0],o=n[1];if("up"===e||"down"===e)return!1;var i=t.tableStartOffset,a=t.tableEndOffset,s=t.getCellInfo(r,o),l=s.offset,u=s.nodeSize,c="left"===e?i:a,d="left"===e?l-2:l+u+3;return c===d}function a1(e,t,n){var r=e.doc.resolve(t.before(n-3));return e.setSelection(new a["NodeSelection"](r))}function s1(e,t,n){var r,o,i;return"up"===e?(r=n.startRowIdx,o=0,i=-1):(r=n.endRowIdx,o=t.totalColumnCount-1,i=t.getCellInfo(r,o).nodeSize+1),{targetRowIdx:r,insertColIdx:o,nodeSize:i}}function l1(e,t,n){var r=e.getCellInfo(t,0).offset,o=e.getCellInfo(t,n-1),i=o.offset,a=o.nodeSize;return{from:r,to:i+a}}var u1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"tableHead{1} tableBody{1}",group:"block",attrs:f({rawHTML:{default:null}},BY()),parseDOM:[PY("table")],toDOM:function(e){var t=e.attrs;return["table",FY(t),0]}}},enumerable:!1,configurable:!0}),t.prototype.addTable=function(){return function(e){return void 0===e&&(e={rowCount:2,columnCount:1,data:[]}),function(t,n){var r=e.rowCount,o=e.columnCount,i=e.data,a=t.schema,s=t.selection,l=t.tr,u=s.from,c=s.to,d=s.$from,p=u===c;if(p&&!DY(d)){var f=a.nodes,h=f.tableHead,m=f.tableBody,v=null===i||void 0===i?void 0:i.slice(0,o),g=null===i||void 0===i?void 0:i.slice(o,i.length),y=cJ(o,a,v),b=dJ(r-1,o,a,g),w=a.nodes.table.create(null,[h.create(null,y),m.create(null,b)]);return n(l.replaceSelectionWith(w)),!0}return!1}}},t.prototype.removeTable=function(){return function(){return function(e,t){var n=e.selection,r=e.tr,o=oJ.create(n.$anchor);if(o){var i=o.tableStartOffset,a=o.tableEndOffset,s=i-1,l=Ue(r.delete(s,a),s);return t(r.setSelection(l)),!0}return!1}}},t.prototype.addColumn=function(e){return function(){return function(t,n){var r=t.selection,o=t.tr,i=t.schema,a=mJ(r),s=a.anchor,l=a.head;if(s&&l){for(var u=oJ.create(s),c=u.getRectOffsets(s,l),d="left"===e?c.startColIdx:c.endColIdx+1,p=gJ(c).columnCount,f=u.totalRowCount,h=0;h<f;h+=1){var m=pJ(p,h,i);o.insert(o.mapping.map(u.posAt(h,d)),m)}return n(o),!0}return!1}}},t.prototype.removeColumn=function(){return function(){return function(e,t){var n=e.selection,r=e.tr,o=mJ(n),i=o.anchor,a=o.head;if(i&&a){var s=oJ.create(i),l=s.getRectOffsets(i,a),u=s.totalColumnCount,c=s.totalRowCount,d=gJ(l).columnCount,p=d===u;if(p)return!1;for(var f=l.startColIdx,h=l.endColIdx,m=r.mapping.maps.length,v=0;v<c;v+=1)for(var g=h;g>=f;g-=1){var y=s.getCellInfo(v,g),b=y.offset,w=y.nodeSize,k=r.mapping.slice(m).map(b),C=k+w;r.delete(k,C)}return t(r),!0}return!1}}},t.prototype.addRow=function(e){return function(){return function(t,n){var r=t.selection,o=t.schema,i=t.tr,a=mJ(r),s=a.anchor,l=a.head;if(s&&l){var u=oJ.create(s),c=u.totalColumnCount,d=u.getRectOffsets(s,l),p=gJ(d).rowCount,f=s1(e,u,d),h=f.targetRowIdx,m=f.insertColIdx,v=f.nodeSize,g=0===h;if(!g){for(var y=[],b=i.mapping.map(u.posAt(h,m))+v,w=[],k=0;k<c;k+=1)w=w.concat(pJ(1,h,o));for(var C=0;C<p;C+=1)y.push(o.nodes.tableRow.create(null,w));return n(i.insert(b,y)),!0}}return!1}}},t.prototype.removeRow=function(){return function(){return function(e,t){var n=e.selection,r=e.tr,o=mJ(n),i=o.anchor,a=o.head;if(i&&a){var s=oJ.create(i),l=s.totalRowCount,u=s.totalColumnCount,c=s.getRectOffsets(i,a),d=gJ(c).rowCount,p=c.startRowIdx,f=c.endRowIdx,h=0===p,m=d===l-1;if(m||h)return!1;for(var v=f;v>=p;v-=1){var g=l1(s,v,u),y=g.from,b=g.to;r.delete(y-1,b+1)}return t(r),!0}return!1}}},t.prototype.alignColumn=function(){return function(e){return void 0===e&&(e={align:"center"}),function(t,n){var r=e.align,o=t.selection,i=t.tr,a=mJ(o),s=a.anchor,l=a.head;if(s&&l){for(var u=oJ.create(s),c=u.totalRowCount,d=u.getRectOffsets(s,l),p=d.startColIdx,f=d.endColIdx,h=0;h<c;h+=1)for(var m=p;m<=f;m+=1)if(!u.extendedRowspan(h,m)&&!u.extendedColspan(h,m)){var v=u.getNodeAndPos(h,m),g=v.node,y=v.pos,b=yJ(g,{align:r});i.setNodeMarkup(y,null,b)}return n(i),!0}return!1}}},t.prototype.moveToCell=function(e){return function(t,n){var r=t.selection,o=t.tr,i=t.schema,a=mJ(r),s=a.anchor,l=a.head;if(s&&l){var u=oJ.create(s),c=u.getCellIndex(s),d=void 0;if(d=K0(e,u,c)?J0(o,u,i):o1(e,o,c,u),d)return n(d),!0}return!1}},t.prototype.moveInCell=function(e){var t=this;return function(n,r){var o=n.selection,i=n.tr,a=n.doc,s=n.schema,l=o.$from,u=t.context.view;if(!u.endOfTextblock(e))return!1;var c=OY(l,(function(e){var t=e.type;return"tableHeadCell"===t.name||"tableBodyCell"===t.name}));if(c){var d=OY(l,(function(e){var t=e.type;return"paragraph"===t.name})),p=c.depth;if(d&&Q0(e,[p,d.depth],l,a)){var f=mJ(o).anchor,h=oJ.create(f),m=h.getCellIndex(f),v=void 0;if(i1(e,h,m)?v=a1(i,l,p):K0(e,h,m)?"up"===e?v=Y0(i,h,s):"down"===e&&(v=J0(i,h,s)):v=o1(e,i,m,h),v)return r(v),!0}}return!1}},t.prototype.deleteCells=function(){return function(e,t){var n=e.schema,r=e.selection,o=e.tr,i=mJ(r),s=i.anchor,l=i.head,u=r instanceof a["TextSelection"];if(s&&l&&!u){for(var c=oJ.create(s),d=c.getRectOffsets(s,l),p=d.startRowIdx,f=d.startColIdx,h=d.endRowIdx,m=d.endColIdx,v=p;v<=h;v+=1)for(var g=f;g<=m;g+=1)if(!c.extendedRowspan(v,g)&&!c.extendedColspan(v,g)){var y=c.getNodeAndPos(v,g),b=y.node,w=y.pos,k=pJ(1,v,n,b.attrs);o.replaceWith(o.mapping.map(w),o.mapping.map(w+b.nodeSize),k)}return t(o),!0}return!1}},t.prototype.commands=function(){return{addTable:this.addTable(),removeTable:this.removeTable(),addColumnToLeft:this.addColumn("left"),addColumnToRight:this.addColumn("right"),removeColumn:this.removeColumn(),addRowToUp:this.addRow("up"),addRowToDown:this.addRow("down"),removeRow:this.removeRow(),alignColumn:this.alignColumn()}},t.prototype.keymaps=function(){var e=this.deleteCells();return{Tab:this.moveToCell("right"),"Shift-Tab":this.moveToCell("left"),ArrowUp:this.moveInCell("up"),ArrowDown:this.moveInCell("down"),ArrowLeft:this.moveInCell("left"),ArrowRight:this.moveInCell("right"),Backspace:e,"Mod-Backspace":e,Delete:e,"Mod-Delete":e}},t}(Ht),c1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"tableHead"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"tableRow{1}",attrs:f({rawHTML:{default:null}},BY()),parseDOM:[PY("thead")],toDOM:function(e){var t=e.attrs;return["thead",FY(t),0]}}},enumerable:!1,configurable:!0}),t}(Ht),d1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"tableBody"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"tableRow+",attrs:f({rawHTML:{default:null}},BY()),parseDOM:[{tag:"tbody",getAttrs:function(e){var t=e.querySelectorAll("tr"),n=t[0].children.length,r=e.getAttribute("data-raw-html");return!!n&&f({},r&&{rawHTML:r})}}],toDOM:function(e){var t=e.attrs;return["tbody",FY(t),0]}}},enumerable:!1,configurable:!0}),t}(Ht),p1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"tableRow"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"(tableHeadCell | tableBodyCell)*",attrs:f({rawHTML:{default:null}},BY()),parseDOM:[{tag:"tr",getAttrs:function(e){var t=e.children.length,n=e.getAttribute("data-raw-html");return!!t&&f({},n&&{rawHTML:n})}}],toDOM:function(e){var t=e.attrs;return["tr",FY(t),0]}}},enumerable:!1,configurable:!0}),t}(Ht),f1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"tableHeadCell"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"paragraph+",attrs:f({align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},extended:{default:null}},BY()),isolating:!0,parseDOM:[HY("th")],toDOM:function(e){var t=e.attrs,n=RY(t);return["th",f(f({},n),FY(t)),0]}}},enumerable:!1,configurable:!0}),t}(Ht),h1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"tableBodyCell"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"(paragraph | bulletList | orderedList)+",attrs:{align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},rowspan:{default:null},extended:{default:null}},isolating:!0,parseDOM:[HY("td")],toDOM:function(e){var t=e.attrs,n=RY(t);return["td",n,0]}}},enumerable:!1,configurable:!0}),t}(Ht),m1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"image"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{inline:!0,attrs:f({imageUrl:{default:""},altText:{default:null},rawHTML:{default:null}},BY()),group:"inline",selectable:!1,parseDOM:[{tag:"img[src]",getAttrs:function(e){var t=e.getAttribute("src")||"",n=e.getAttribute("data-raw-html");return f({imageUrl:YK(t),altText:e.getAttribute("alt")},n&&{rawHTML:n})}}],toDOM:function(e){var t=e.attrs;return[t.rawHTML||"img",f(f({src:t.imageUrl},t.altText&&{alt:t.altText}),FY(t))]}}},enumerable:!1,configurable:!0}),t.prototype.addImage=function(){return function(e){return function(t,n){var r=t.schema,o=t.tr,i=e,a=i.imageUrl,s=i.altText;if(!a)return!1;var l=r.nodes.image.createAndFill(f({imageUrl:qo(a)},s&&{altText:s}));return n(o.replaceSelectionWith(l).scrollIntoView()),!0}}},t.prototype.commands=function(){return{addImage:this.addImage()}},t}(Ht),v1=1,g1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{attrs:f({rawHTML:{default:null}},BY()),group:"block",parseDOM:[{tag:"hr"}],selectable:!1,toDOM:function(e){var t=e.attrs;return["div",FY(t),[t.rawHTML||"hr"]]}}},enumerable:!1,configurable:!0}),t.prototype.hr=function(){var e=this;return function(){return function(t,n){var r,o=t.selection,i=o.$from,a=o.$to;if(i===a){var s=t.doc,l=t.schema.nodes,u=l.thematicBreak,c=l.paragraph,d=[u.create()],p=i.node(v1),f=s.child(s.childCount-1)===p,h=s.resolve(i.after(v1)),m=(null===(r=i.nodeAfter)||void 0===r?void 0:r.type.name)===e.name;return(f||m)&&d.push(c.create()),n(t.tr.insert(h.pos,d).scrollIntoView()),!0}return!1}}},t.prototype.commands=function(){return{hr:this.hr()}},t.prototype.keymaps=function(){var e=this.hr()();return{"Mod-l":e,"Mod-L":e}},t}(Ht),y1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){var e=["b","strong"].map((function(e){return{tag:e,getAttrs:function(e){var t=e.getAttribute("data-raw-html");return f({},t&&{rawHTML:t})}}}));return{attrs:f({rawHTML:{default:null}},BY()),parseDOM:e,toDOM:function(e){var t=e.attrs;return[t.rawHTML||"strong",FY(t)]}}},enumerable:!1,configurable:!0}),t.prototype.bold=function(){return function(){return function(e,t){return Object(l["i"])(e.schema.marks.strong)(e,t)}}},t.prototype.commands=function(){return{bold:this.bold()}},t.prototype.keymaps=function(){var e=this.bold()();return{"Mod-b":e,"Mod-B":e}},t}(Pr),b1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){var e=["i","em"].map((function(e){return{tag:e,getAttrs:function(e){var t=e.getAttribute("data-raw-html");return f({},t&&{rawHTML:t})}}}));return{attrs:f({rawHTML:{default:null}},BY()),parseDOM:e,toDOM:function(e){var t=e.attrs;return[t.rawHTML||"em",FY(t)]}}},enumerable:!1,configurable:!0}),t.prototype.italic=function(){return function(){return function(e,t){return Object(l["i"])(e.schema.marks.emph)(e,t)}}},t.prototype.commands=function(){return{italic:this.italic()}},t.prototype.keymaps=function(){var e=this.italic()();return{"Mod-i":e,"Mod-I":e}},t}(Pr),w1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){var e=["s","del"].map((function(e){return{tag:e,getAttrs:function(e){var t=e.getAttribute("data-raw-html");return f({},t&&{rawHTML:t})}}}));return{attrs:f({rawHTML:{default:null}},BY()),parseDOM:e,toDOM:function(e){var t=e.attrs;return[t.rawHTML||"del",FY(t)]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(){return function(e,t){return Object(l["i"])(e.schema.marks.strike)(e,t)}}},t.prototype.keymaps=function(){var e=this.commands()();return{"Mod-s":e,"Mod-S":e}},t}(Pr),k1=function(e){function t(t){var n=e.call(this)||this;return n.linkAttributes=t,n}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){var e=this;return{attrs:f({linkUrl:{default:""},linkText:{default:null},rawHTML:{default:null}},BY()),inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){var t=e.getAttribute("href")||"",n=e.getAttribute("data-raw-html");return f({linkUrl:YK(t),linkText:e.textContent},n&&{rawHTML:n})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"a",f(f({href:n.linkUrl},e.linkAttributes),FY(n))]}}},enumerable:!1,configurable:!0}),t.prototype.addLink=function(){return function(e){return function(t,n){var r=e,o=r.linkUrl,i=r.linkText,a=void 0===i?"":i,s=t.schema,l=t.tr,u=t.selection,c=u.empty,d=u.from,p=u.to;if(d&&p&&o){var f={linkUrl:qo(o),linkText:jo(a)},h=s.mark("link",f);if(c&&a){var m=_e(s,a,h);l.replaceRangeWith(d,p,m)}else l.addMark(d,p,h);return n(l.scrollIntoView()),!0}return!1}}},t.prototype.toggleLink=function(){return function(e){return function(t,n){return Object(l["i"])(t.schema.marks.link,e)(t,n)}}},t.prototype.commands=function(){return{addLink:this.addLink(),toggleLink:this.toggleLink()}},t}(Pr),C1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{attrs:f({rawHTML:{default:null}},BY()),parseDOM:[{tag:"code",getAttrs:function(e){var t=e.getAttribute("data-raw-html");return f({},t&&{rawHTML:t})}}],toDOM:function(e){var t=e.attrs;return[t.rawHTML||"code",FY(t)]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(){return function(e,t){return Object(l["i"])(e.schema.marks.code)(e,t)}}},t.prototype.keymaps=function(){var e=this.commands()();return{"Shift-Mod-c":e,"Shift-Mod-C":e}},t}(Pr),x1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:{info:{default:null}},atom:!0,code:!0,defining:!0,parseDOM:[{tag:"div[data-custom-info]",getAttrs:function(e){var t=e.getAttribute("data-custom-info");return{info:t}}}],toDOM:function(e){var t=e.attrs;return["div",{"data-custom-info":t.info||null},0]}}},enumerable:!1,configurable:!0}),t}(Ht),T1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"frontMatter"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,parseDOM:[{tag:"div[data-front-matter]"}],toDOM:function(){return["div",{"data-front-matter":"true"},0]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(){return function(e,t,n){var r=e.selection.$from;return!(!n.endOfTextblock("down")||"frontMatter"!==r.node().type.name)&&Object(l["d"])(e,t)}}},t.prototype.keymaps=function(){return{Enter:this.commands()()}},t}(Ht);function E1(e){return new Ut([new R0,new H0,new F0,new j0,new q0,new z0,new V0,new _0,new U0,new u1,new c1,new d1,new p1,new f1,new h1,new m1,new g1,new y1,new b1,new w1,new k1(e),new C1,new x1,new T1,new jt])}var M1=vn("contents"),L1=function(e){function t(t,n){var r=e.call(this,t)||this,o=n.toDOMAdaptor,i=n.htmlSchemaMap,a=void 0===i?{}:i,s=n.linkAttributes,l=void 0===s?{}:s,u=n.useCommandShortcut,c=void 0===u||u,d=n.wwPlugins,p=void 0===d?[]:d,h=n.wwNodeViews,m=void 0===h?{}:h;return r.editorType="wysiwyg",r.el.classList.add("ww-mode"),r.toDOMAdaptor=o,r.linkAttributes=l,r.extraPlugins=p,r.pluginNodeViews=m,r.specs=r.createSpecs(),r.schema=r.createSchema(a),r.context=r.createContext(),r.keymaps=r.createKeymaps(c),r.view=r.createView(),r.commands=r.createCommands(),r.specs.setContext(f(f({},r.context),{view:r.view})),r.initEvent(),r}return p(t,e),t.prototype.createSpecs=function(){return E1(this.linkAttributes)},t.prototype.createContext=function(){return{schema:this.schema,eventEmitter:this.eventEmitter}},t.prototype.createSchema=function(e){return new r["Schema"]({nodes:f(f({},this.specs.nodes),e.nodes),marks:f(f({},this.specs.marks),e.marks)})},t.prototype.createPlugins=function(){return this.defaultPlugins.concat(h([TJ(),IJ(this.eventEmitter),DJ(),qJ(this.eventEmitter)],this.createPluginProps()))},t.prototype.createPluginNodeViews=function(){var e=this,t=e.eventEmitter,n=e.pluginNodeViews,r={};return n&&Object.keys(n).forEach((function(e){r[e]=function(r,o,i){return n[e](r,o,i,t)}})),r},t.prototype.createView=function(){var e=this,t=this,n=t.toDOMAdaptor,r=t.eventEmitter;return new o["EditorView"](this.el,{state:this.createState(),attributes:{class:M1},nodeViews:f({customBlock:function(e,t,r){return new zJ(e,t,r,n)},image:function(e,t,n){return new _J(e,t,n,r)},codeBlock:function(e,t,n){return new WJ(e,t,n,r)},widget:Bt},this.createPluginNodeViews()),dispatchTransaction:function(t){var n=e.view.state.applyTransaction(t).state;e.view.updateState(n),e.emitChangeEvent(t.scrollIntoView()),e.eventEmitter.emit("setFocusedNode",n.selection.$from.node(1))},transformPastedHTML:p0,transformPasted:function(t){return C0(t,e.schema)},handlePaste:function(e,t,n){return D0(e,n)},handleKeyDown:function(t,n){return e.eventEmitter.emit("keydown",e.editorType,n),!1},handleDOMEvents:{paste:function(t,n){var r=n.clipboardData||window.clipboardData,o=r&&r.items;if(o){var i=Pt(o);i&&(n.preventDefault(),At(e.eventEmitter,i,n.type))}return!1},keyup:function(t,n){return e.eventEmitter.emit("keyup",e.editorType,n),!1},scroll:function(){return e.eventEmitter.emit("scroll","editor"),!0}}})},t.prototype.createCommands=function(){return this.specs.commands(this.view,nJ())},t.prototype.getHTML=function(){return this.view.dom.innerHTML},t.prototype.getModel=function(){return this.view.state.doc},t.prototype.getSelection=function(){var e=this.view.state.selection,t=e.from,n=e.to;return[t,n]},t.prototype.getSchema=function(){return this.view.state.schema},t.prototype.replaceSelection=function(e,t,n){var o=this.view.state,i=o.schema,a=o.tr,s=e.split("\n"),l=s.map((function(e){return Ve(i,Ct(e,i))})),u=new r["Slice"](r["Fragment"].from(l),1,1),c=ae(t)&&ae(n)?a.replaceRange(t,n,u):a.replaceSelection(u);this.view.dispatch(c),this.focus()},t.prototype.deleteSelection=function(e,t){var n=this.view.state.tr,r=ae(e)&&ae(t)?n.deleteRange(e,t):n.deleteSelection();this.view.dispatch(r.scrollIntoView())},t.prototype.getSelectedText=function(e,t){var n=this.view.state,r=n.doc,o=n.selection,i=o.from,a=o.to;return ae(e)&&ae(t)&&(i=e,a=t),r.textBetween(i,a,"\n")},t.prototype.setModel=function(e,t){void 0===t&&(t=!1);var n=this.view.state,r=n.tr,o=n.doc;this.view.dispatch(r.replaceWith(0,o.content.size,e)),t&&this.moveCursorToEnd(!0)},t.prototype.setSelection=function(e,t){void 0===t&&(t=e);var n=this.view.state.tr,r=Ue(n,e,t);this.view.dispatch(n.setSelection(r).scrollIntoView())},t.prototype.addWidget=function(e,t,n){var r=this.view,o=r.dispatch,i=r.state;o(i.tr.setMeta("widget",{pos:null!==n&&void 0!==n?n:i.selection.to,node:e,style:t}))},t.prototype.replaceWithWidget=function(e,t,n){var r=this.view.state,o=r.tr,i=r.schema,a=Ct(n,i);this.view.dispatch(o.replaceWith(e,t,a))},t.prototype.getRangeInfoOfNode=function(e){var t=this.view.state,n=t.doc,r=t.selection,o=e?n.resolve(e):r.$from,i=o.marks(),a=o.node(),s=o.start(),l=o.end(),u=a.type.name;if(i.length||"paragraph"===u){var c=i[i.length-1],d=function(e){return!e.length||Te(e,c)};u=c?c.type.name:"text",a.forEach((function(e,t){var n=e.isText,r=e.nodeSize,i=e.marks,a=o.pos-s;n&&t<=a&&t+r>=a&&d(i)&&(s+=t,l=s+r)}))}return{range:[s,l],type:u}},t}(qt),N1=j,S1=le;function O1(e){return!N1(e)&&!S1(e)}var I1=O1,D1=I1;function A1(e){return D1(e)&&!1!==e}var P1=A1,R1=P1;function H1(e){return!R1(e)}var B1=H1,F1=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","change","caretChange","destroy","focus","blur","keydown","keyup"],j1=function(){function e(){var e=this;this.events=new EJ,this.eventTypes=F1.reduce((function(e,t){return f(f({},e),{type:t})}),{}),this.hold=!1,F1.forEach((function(t){e.addEventType(t)}))}return e.prototype.listen=function(e,t){var n=this.getTypeInfo(e),r=this.events.get(n.type)||[];if(!this.hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(t.namespace=n.namespace),r.push(t),this.events.set(n.type,r)},e.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.getTypeInfo(e),o=this.events.get(r.type),i=[];return!this.hold&&o&&o.forEach((function(e){var n=e.apply(void 0,t);j(n)||i.push(n)})),i},e.prototype.emitReduce=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=this.events.get(e);return!this.hold&&o&&o.forEach((function(e){var r=e.apply(void 0,h([t],n));B1(r)||(t=r)})),t},e.prototype.getTypeInfo=function(e){var t=e.split(".");return{type:t[0],namespace:t[1]}},e.prototype.hasEventType=function(e){return!j(this.eventTypes[this.getTypeInfo(e).type])},e.prototype.addEventType=function(e){if(this.hasEventType(e))throw new Error("There is already have event type "+e);this.eventTypes[e]=e},e.prototype.removeEventHandler=function(e,t){var n=this,r=this.getTypeInfo(e),o=r.type,i=r.namespace;o&&t?this.removeEventHandlerWithHandler(o,t):o&&!i?this.events.delete(o):!o&&i?this.events.forEach((function(e,t){n.removeEventHandlerWithTypeInfo(t,i)})):o&&i&&this.removeEventHandlerWithTypeInfo(o,i)},e.prototype.removeEventHandlerWithHandler=function(e,t){var n=this.events.get(e);if(n){var r=n.indexOf(t);n.indexOf(t)>=0&&n.splice(r,1)}},e.prototype.removeEventHandlerWithTypeInfo=function(e,t){var n=[],r=this.events.get(e);r&&(r.map((function(e){return e.namespace!==t&&n.push(e),null})),this.events.set(e,n))},e.prototype.getEvents=function(){return this.events},e.prototype.holdEventInvoke=function(e){this.hold=!0,e(),this.hold=!1},e}(),q1=function(){function e(e,t,n,r){this.eventEmitter=e,this.mdCommands=t,this.wwCommands=n,this.getEditorType=r,this.initEvent()}return e.prototype.initEvent=function(){var e=this;this.eventEmitter.listen("command",(function(t,n){e.exec(t,n)}))},e.prototype.addCommand=function(e,t,n){"markdown"===e?this.mdCommands[t]=n:this.wwCommands[t]=n},e.prototype.deleteCommand=function(e,t){"markdown"===e?delete this.mdCommands[t]:delete this.wwCommands[t]},e.prototype.exec=function(e,t){var n=this.getEditorType();"markdown"===n?this.mdCommands[e](t):this.wwCommands[e](t)},e}();function z1(e){return"\n"===e[e.length-1]?e.slice(0,e.length-1):e}function V1(e,t){var n=e.schema,r=t.literal,o=r.match(fn);if(o){var i=o[1],a=o[3],s=(i||a).toLowerCase();return"htmlInline"===t.type&&!(!n.marks[s]&&!n.nodes[s])}return!1}function _1(e){var t=e.type;return Te(["text","strong","emph","strike","image","link","code"],t)}function U1(e){var t=e.type,n=e.literal,r="htmlInline"===t&&n.match(fn);if(r){var o=r[1],i=r[3],a=o||i;if(a)return Te(["ul","ol","li"],a.toLowerCase())}return!1}function $1(e){var t=e.literal,n=/data-task/.test(t),r=/data-task-checked/.test(t);return{task:n,checked:r}}function W1(e,t){var n=document.createElement("div");n.innerHTML=e;var r=n.firstChild;return r.getAttribute(t)||""}function G1(e){var t={};return Object.keys(e).forEach((function(n){var r=n.split(", ");r.forEach((function(r){var o=r.toLowerCase();t[o]=e[n]}))})),t}var X1={"b, strong":function(e,t,n){var r=e.schema.marks.strong;n?e.openMark(r.create({rawHTML:n})):e.closeMark(r)},"i, em":function(e,t,n){var r=e.schema.marks.emph;n?e.openMark(r.create({rawHTML:n})):e.closeMark(r)},"s, del":function(e,t,n){var r=e.schema.marks.strike;n?e.openMark(r.create({rawHTML:n})):e.closeMark(r)},code:function(e,t,n){var r=e.schema.marks.code;n?e.openMark(r.create({rawHTML:n})):e.closeMark(r)},a:function(e,t,n){var r=t.literal,o=e.schema.marks.link;if(n){var i=W1(r,"href");e.openMark(o.create({linkUrl:YK(i),rawHTML:n}))}else e.closeMark(o)},img:function(e,t,n){var r=t.literal,o=W1(r,"src");if(o){var i=W1(r,"alt"),a=e.schema.nodes.image;e.addNode(a,f({rawHTML:n,imageUrl:YK(o)},i&&{altText:i}))}},hr:function(e,t,n){e.addNode(e.schema.nodes.thematicBreak,{rawHTML:n})},br:function(e,t){var n=e.schema.nodes.paragraph,r=t.parent,o=t.prev,i=t.next;"paragraph"===(null===r||void 0===r?void 0:r.type)?(!o||"htmlInline"===o.type&&o.literal.match(dn)||e.openNode(n),i&&e.closeNode()):"tableCell"===(null===r||void 0===r?void 0:r.type)&&(o&&(_1(o)||V1(e,o))&&e.closeNode(),i&&(_1(i)||V1(e,i))&&e.openNode(n))},pre:function(e,t,n){var r,o,i=document.createElement("div");i.innerHTML=t.literal;var a=null===(o=null===(r=i.firstChild)||void 0===r?void 0:r.firstChild)||void 0===o?void 0:o.textContent;e.openNode(e.schema.nodes.codeBlock,{rawHTML:n}),e.addText(z1(a)),e.closeNode()},"ul, ol":function(e,t,n){if("tableCell"===t.parent.type){var r=e.schema.nodes,o=r.bulletList,i=r.orderedList,a=r.paragraph,s="ul"===n?o:i;n?(t.prev&&!U1(t.prev)&&e.closeNode(),e.openNode(s,{rawHTML:n})):(e.closeNode(),t.next&&!U1(t.next)&&e.openNode(a))}},li:function(e,t,n){var r;if("tableCell"===(null===(r=t.parent)||void 0===r?void 0:r.type)){var o=e.schema.nodes,i=o.listItem,a=o.paragraph;if(n){var s=$1(t);t.prev&&!U1(t.prev)&&e.closeNode(),e.openNode(i,f({rawHTML:n},s)),t.next&&!U1(t.next)&&e.openNode(a)}else t.prev&&!U1(t.prev)&&e.closeNode(),e.closeNode()}}},Z1=G1(X1);function Q1(e){return"htmlInline"===e.type&&/<br ?\/?>/.test(e.literal)}function K1(e){It(e.childNodes).forEach((function(e){if(bn(e)){var t=e.nodeName.toLowerCase();e.setAttribute("data-raw-html",t),e.childNodes&&K1(e)}}))}var Y1={text:function(e,t){e.addText(t.literal||"")},paragraph:function(e,t,n,r){var o,i=n.entering;if(i){var a=e.schema.nodes.paragraph;"paragraph"===(null===(o=t.prev)||void 0===o?void 0:o.type)&&(e.openNode(a,r),e.closeNode()),e.openNode(a,r)}else e.closeNode()},heading:function(e,t,n,r){var o=n.entering;if(o){var i=t,a=i.level,s=i.headingType;e.openNode(e.schema.nodes.heading,f({level:a,headingType:s},r))}else e.closeNode()},codeBlock:function(e,t,n){var r=e.schema.nodes.codeBlock,o=t,i=o.info,a=o.literal;e.openNode(r,f({language:i},n)),e.addText(z1(a||"")),e.closeNode()},list:function(e,t,n,r){var o=n.entering;if(o){var i=e.schema.nodes,a=i.bulletList,s=i.orderedList,l=t.listData,u=l.type,c=l.start;"bullet"===u?e.openNode(a,r):e.openNode(s,f({order:c},r))}else e.closeNode()},item:function(e,t,n,r){var o=n.entering,i=e.schema.nodes.listItem,a=t.listData,s=a.task,l=a.checked;if(o){var u=f(f(f({},s&&{task:s}),l&&{checked:l}),r);e.openNode(i,u)}else e.closeNode()},blockQuote:function(e,t,n,r){var o=n.entering;o?e.openNode(e.schema.nodes.blockQuote,r):e.closeNode()},image:function(e,t,n,r){var o=n.entering,i=n.skipChildren,a=e.schema.nodes.image,s=t,l=s.destination,u=s.firstChild;o&&i&&i(),e.addNode(a,f(f({imageUrl:l},u&&{altText:u.literal}),r))},thematicBreak:function(e,t,n,r){e.addNode(e.schema.nodes.thematicBreak,r)},strong:function(e,t,n,r){var o=n.entering,i=e.schema.marks.strong;o?e.openMark(i.create(r)):e.closeMark(i)},emph:function(e,t,n,r){var o=n.entering,i=e.schema.marks.emph;o?e.openMark(i.create(r)):e.closeMark(i)},link:function(e,t,n,r){var o=n.entering,i=e.schema.marks.link,a=t,s=a.destination,l=a.title;if(o){var u=f(f({linkUrl:s},l&&{linkText:l}),r);e.openMark(i.create(u))}else e.closeMark(i)},softbreak:function(e,t){if("paragraph"===t.parent.type){var n=t.prev,r=t.next;n&&!Q1(n)&&e.closeNode(),r&&!Q1(r)&&e.openNode(e.schema.nodes.paragraph)}},table:function(e,t,n,r){var o=n.entering;o?e.openNode(e.schema.nodes.table,r):e.closeNode()},tableHead:function(e,t,n,r){var o=n.entering;o?e.openNode(e.schema.nodes.tableHead,r):e.closeNode()},tableBody:function(e,t,n,r){var o=n.entering;o?e.openNode(e.schema.nodes.tableBody,r):e.closeNode()},tableRow:function(e,t,n,r){var o=n.entering;o?e.openNode(e.schema.nodes.tableRow,r):e.closeNode()},tableCell:function(e,t,n){var r=n.entering;if(!t.ignored){var o=function(t){return t&&(_1(t)||V1(e,t))};if(r){var i=e.schema.nodes,a=i.tableHeadCell,s=i.tableBodyCell,l=i.paragraph,u=t.parent.parent,c="tableHead"===u.type?a:s,d=u.parent,p=d.columns[t.startIdx].align,h=f({},t.attrs);p&&(h.align=p),e.openNode(c,h),o(t.firstChild)&&e.openNode(l)}else o(t.lastChild)&&e.closeNode(),e.closeNode()}},strike:function(e,t,n,r){var o=n.entering,i=e.schema.marks.strike;o?e.openMark(i.create(r)):e.closeMark(i)},code:function(e,t,n,r){var o=e.schema.marks.code;e.openMark(o.create(r)),e.addText(z1(t.literal||"")),e.closeMark(o)},customBlock:function(e,t){var n=e.schema.nodes,r=n.customBlock,o=n.paragraph,i=t,a=i.info,s=i.literal;e.openNode(r,{info:a}),e.addText(z1(s||"")),e.closeNode(),t.next||(e.openNode(o),e.closeNode())},frontMatter:function(e,t){e.openNode(e.schema.nodes.frontMatter),e.addText(t.literal),e.closeNode()},htmlInline:function(e,t){var n=t.literal,r=n.match(fn),o=r[1],i=r[3],a=(o||i).toLowerCase(),s=e.schema.marks[a];if(null===s||void 0===s?void 0:s.spec.attrs.htmlInline)if(o){var l=eY(n);e.openMark(s.create({htmlAttrs:l}))}else e.closeMark(s);else{var u=Z1[a];u&&u(e,t,o)}},htmlBlock:function(e,t){var n=t.literal,r=document.createElement("div"),o=n.match(fn),i=o[1],a=o[3],s=(i||a).toLowerCase(),l=e.schema.nodes[s];if(null===l||void 0===l?void 0:l.spec.attrs.htmlBlock){var u=eY(n),c=JK(t,s);e.addNode(l,{htmlAttrs:u,childrenHTML:c})}else r.innerHTML=n,K1(r),e.convertByDOMParser(r)},customInline:function(e,t,n){var r=n.entering,o=n.skipChildren,i=t.info,a=e.schema;if(-1!==i.indexOf("widget")&&r){var s=xt(t);o(),e.addNode(a.nodes.widget,{info:i},[a.text(gt(i,s))])}}};function J1(e){var t=Object.keys(e),n=f({},Y1),r=new PK({gfm:!0,nodeId:!0,convertors:e}),o=r.getConvertors();return t.forEach((function(t){var r=Y1[t];r&&!Te(["htmlBlock","htmlInline"],t)&&(n[t]=function(n,i,a){a.origin=function(){return o[t](i,a)};var s,l=e[t](i,a);if(l){var u=Array.isArray(l)?l[0]:l,c=u.attributes,d=u.classNames;s={htmlAttrs:c,classNames:d}}r(n,i,a,s)})})),n}function e2(e,t){return!!(e.isText&&t.isText&&r["Mark"].sameSet(e.marks,t.marks))&&e.withText(e.text+t.text)}var t2=function(){function e(e,t){this.schema=e,this.convertors=t,this.stack=[{type:this.schema.topNodeType,attrs:null,content:[]}],this.marks=r["Mark"].none}return e.prototype.top=function(){return Pe(this.stack)},e.prototype.push=function(e){this.stack.length&&this.top().content.push(e)},e.prototype.addText=function(e){if(e){var t=this.top().content,n=Pe(t),r=this.schema.text(e,this.marks),o=n&&e2(n,r);o?t[t.length-1]=o:t.push(r)}},e.prototype.openMark=function(e){this.marks=e.addToSet(this.marks)},e.prototype.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},e.prototype.addNode=function(e,t,n){var r=e.createAndFill(t,n,this.marks);return r?(this.push(r),r):null},e.prototype.openNode=function(e,t){this.stack.push({type:e,attrs:t,content:[]})},e.prototype.closeNode=function(){this.marks.length&&(this.marks=r["Mark"].none);var e=this.stack.pop(),t=e.type,n=e.attrs,o=e.content;return this.addNode(t,n,o)},e.prototype.convertByDOMParser=function(e){var t=this,n=r["DOMParser"].fromSchema(this.schema).parse(e);n.content.forEach((function(e){return t.push(e)}))},e.prototype.closeUnmatchedHTMLInline=function(e,t){var n;if(!t&&"htmlInline"!==e.type)for(var r=this.stack.length-1,o=r;o>=0;o-=1){var i=this.stack[o];if(!(null===(n=i.attrs)||void 0===n?void 0:n.rawHTML))break;i.content.length?this.closeNode():this.stack.pop()}},e.prototype.convert=function(e,t){var n=e.walker(),r=n.next(),o=function(){var e=r.node,o=r.entering,a=i.convertors[e.type],s=!1;if(a){var l={entering:o,leaf:!dt(e),getChildrenText:pt,options:{gfm:!0,nodeId:!1,tagFilter:!1,softbreak:"\n"},skipChildren:function(){s=!0}};if(i.closeUnmatchedHTMLInline(e,o),a(i,e,l),(null===t||void 0===t?void 0:t.node)===e){var u=i.stack.reduce((function(e,t){return e+t.content.reduce((function(e,t){return e+t.nodeSize}),0)}),0)+1;t.setMappedPos(u)}}s&&(n.resumeAt(e,!1),n.next()),r=n.next()},i=this;while(r)o()},e.prototype.convertNode=function(e,t){return this.convert(e,t),this.stack.length?this.closeNode():null},e}();function n2(e,t,n){var r=n[0],o=n[1];e.write(r),e.convertInline(t),e.write(o)}function r2(e,t,n){var r=t.node,o=t.parent,i=n[0],a=n[1];e.stopNewline=!0,e.write(i),e.convertNode(r),e.write(a),"doc"===(null===o||void 0===o?void 0:o.type.name)&&(e.closeBlock(r),e.stopNewline=!1)}function o2(e,t){var n=e.length,r="",o="";return"left"===t?(r=":",n-=1):"right"===t?(o=":",n-=1):"center"===t&&(r=":",o=":",n-=2),""+r+Ne("-",Math.max(n,3))+o}var i2={text:function(e,t){var n,r=t.node;e.text(null!==(n=r.text)&&void 0!==n?n:"")},paragraph:function(e,t){var n=t.node,r=t.parent,o=t.index,i=void 0===o?0:o;if(e.stopNewline)e.convertInline(n);else{var a=0===i,s=!a&&r.child(i-1),l=s&&0===s.childCount,u=i<r.childCount-1&&r.child(i+1),c=u&&"paragraph"===u.type.name,d=0===n.childCount;d&&l?e.write("<br>\n"):!d||l||a?(e.convertInline(n),c?e.write("\n"):e.closeBlock(n)):e.write("\n")}},heading:function(e,t,n){var r=t.node,o=n.delim,i=r.attrs.headingType;"atx"===i?(e.write(o+" "),e.convertInline(r),e.closeBlock(r)):(e.convertInline(r),e.ensureNewLine(),e.write(o),e.closeBlock(r))},codeBlock:function(e,t,n){var r=t.node,o=n.delim,i=n.text,a=o,s=a[0],l=a[1];e.write(s),e.ensureNewLine(),e.text(i,!1),e.ensureNewLine(),e.write(l),e.closeBlock(r)},blockQuote:function(e,t,n){var r=t.node,o=t.parent,i=n.delim;(null===o||void 0===o?void 0:o.type.name)===r.type.name&&e.flushClose(1),e.wrapBlock(i,null,r,(function(){return e.convertNode(r)}))},bulletList:function(e,t,n){var r=t.node,o=n.delim;e.convertList(r,Ne(" ",4),(function(){return o+" "}))},orderedList:function(e,t){var n=t.node,r=n.attrs.order||1;e.convertList(n,Ne(" ",4),(function(e){var t=String(r+e);return t+". "}))},listItem:function(e,t){var n=t.node,r=n.attrs,o=r.task,i=r.checked;o&&e.write("["+(i?"x":" ")+"] "),e.convertNode(n)},image:function(e,t,n){var r=n.attrs;e.write("!["+(null===r||void 0===r?void 0:r.altText)+"]("+(null===r||void 0===r?void 0:r.imageUrl)+")")},thematicBreak:function(e,t,n){var r=t.node,o=n.delim;e.write(o),e.closeBlock(r)},table:function(e,t){var n=t.node;e.convertNode(n),e.closeBlock(n)},tableHead:function(e,t,n){var r=t.node,o=n.delim,i=r.firstChild;e.convertNode(r);var a=null!==o&&void 0!==o?o:"";!o&&i&&i.forEach((function(e){var t=e.textContent,n=e.attrs,r=o2(t,n.align);a+="| "+r+" "})),e.write(a+"|"),e.ensureNewLine()},tableBody:function(e,t){var n=t.node;e.convertNode(n)},tableRow:function(e,t){var n=t.node;e.convertNode(n),e.write("|"),e.ensureNewLine()},tableHeadCell:function(e,t,n){var r=t.node,o=n.delim,i=void 0===o?"| ":o;e.write(i),e.convertTableCell(r),e.write(" ")},tableBodyCell:function(e,t,n){var r=t.node,o=n.delim,i=void 0===o?"| ":o;e.write(i),e.convertTableCell(r),e.write(" ")},customBlock:function(e,t,n){var r=t.node,o=n.delim,i=n.text,a=o,s=a[0],l=a[1];e.write(s),e.ensureNewLine(),e.text(i,!1),e.ensureNewLine(),e.write(l),e.closeBlock(r)},frontMatter:function(e,t,n){var r=t.node,o=n.text;e.text(o,!1),e.closeBlock(r)},widget:function(e,t,n){var r=n.text;e.write(r)},html:function(e,t,n){var r=n.text;e.write(r)}};function a2(e,t){var n=t.state,r=t.nodeInfo,o=t.params,i=o.rawHTML;i?B(e,["heading","codeBlock"])>-1?n2(n,r.node,i):B(e,["image","thematicBreak"])>-1?n.write(i):r2(n,r,i):i2[e](n,r,o)}function s2(e,t){var n=e.text,r=/`+/g,o=0;if(e.isText&&n){var i=r.exec(n);while(i)o=Math.max(o,i[0].length),i=r.exec(n)}for(var a=o>0&&t>0?" `":"`",s=0;s<o;s+=1)a+="`";return o>0&&t<0&&(a+=" "),a}function l2(e){return e?["<"+e+">","</"+e+">"]:null}function u2(e){return e?"<"+e+">":null}function c2(e){return e?"</"+e+">":null}var d2={heading:function(e){var t=e.node,n=t.attrs,r=n.level,o=Ne("#",r);return"setext"===n.headingType&&(o=1===r?"===":"---"),{delim:o,rawHTML:l2(n.rawHTML)}},codeBlock:function(e){var t=e.node,n=t,r=n.attrs,o=n.textContent;return{delim:["```"+(r.language||""),"```"],rawHTML:l2(r.rawHTML),text:o}},blockQuote:function(e){var t=e.node;return{delim:"> ",rawHTML:l2(t.attrs.rawHTML)}},bulletList:function(e,t){var n=e.node,r=t.inTable,o=n.attrs.rawHTML;return r&&(o=o||"ul"),{delim:"*",rawHTML:l2(o)}},orderedList:function(e,t){var n=e.node,r=t.inTable,o=n.attrs.rawHTML;return r&&(o=o||"ol"),{rawHTML:l2(o)}},listItem:function(e,t){var n=e.node,r=t.inTable,o=n.attrs,i=o.task,a=o.checked,s=n.attrs.rawHTML;r&&(s=s||"li");var l=i?' class="task-list-item'+(a?" checked":"")+'"':"",u=i?" data-task"+(a?" data-task-checked":""):"";return{rawHTML:s?["<"+s+l+u+">","</"+s+">"]:null}},table:function(e){var t=e.node;return{rawHTML:l2(t.attrs.rawHTML)}},tableHead:function(e){var t=e.node;return{rawHTML:l2(t.attrs.rawHTML)}},tableBody:function(e){var t=e.node;return{rawHTML:l2(t.attrs.rawHTML)}},tableRow:function(e){var t=e.node;return{rawHTML:l2(t.attrs.rawHTML)}},tableHeadCell:function(e){var t=e.node;return{rawHTML:l2(t.attrs.rawHTML)}},tableBodyCell:function(e){var t=e.node;return{rawHTML:l2(t.attrs.rawHTML)}},image:function(e){var t=e.node,n=t.attrs,r=Oe(n.altText||""),o=Oe(n.imageUrl),i=r?' alt="'+r+'"':"";return{rawHTML:n.rawHTML?"<"+n.rawHTML+' src="'+o+'"'+i+">":null,attrs:{altText:r,imageUrl:o}}},thematicBreak:function(e){var t=e.node;return{delim:"***",rawHTML:u2(t.attrs.rawHTML)}},customBlock:function(e){var t=e.node,n=t,r=n.attrs,o=n.textContent;return{delim:["$$"+r.info,"$$"],text:o}},frontMatter:function(e){var t=e.node;return{text:t.textContent}},widget:function(e){var t=e.node;return{text:t.textContent}},strong:function(e,t){var n=e.node,r=t.entering,o=n.attrs.rawHTML;return{delim:"**",rawHTML:r?u2(o):c2(o)}},emph:function(e,t){var n=e.node,r=t.entering,o=n.attrs.rawHTML;return{delim:"*",rawHTML:r?u2(o):c2(o)}},strike:function(e,t){var n=e.node,r=t.entering,o=n.attrs.rawHTML;return{delim:"~~",rawHTML:r?u2(o):c2(o)}},link:function(e,t){var n=e.node,r=t.entering,o=n.attrs,i=Oe(o.linkUrl),a=o.rawHTML;if(r)return{delim:"[",rawHTML:a?"<"+a+' href="'+i+'">':null};var s=o.title?" "+Ie(o.linkText):"";return{delim:"]("+s+i+")",rawHTML:c2(a)}},code:function(e,t){var n=e.node,r=e.parent,o=e.index,i=void 0===o?0:o,a=t.entering,s=a?s2(r.child(i),-1):s2(r.child(i-1),1),l=a?u2(n.attrs.rawHTML):c2(n.attrs.rawHTML);return{delim:s,rawHTML:l}},html:function(e,t){var n=e.node,r=t.entering,o=n.type.name,i=n.attrs.htmlAttrs,a="<"+o,s="</"+o+">";return Object.keys(i).forEach((function(e){a+=" "+e+'="'+i[e]+'"'})),a+=">",n.attrs.htmlInline?{rawHTML:r?a:s}:{text:""+a+n.attrs.childrenHTML+s}}},p2={strong:{mixable:!0,removedEnclosingWhitespace:!0},emph:{mixable:!0,removedEnclosingWhitespace:!0},strike:{mixable:!0,removedEnclosingWhitespace:!0},code:{escape:!1},link:null,html:null};function f2(e){var t={},n=Object.keys(i2);return n.forEach((function(n){t[n]=function(t,r){var o=i2[n];if(o){var i=e[n],a=i?i(r,{inTable:t.inTable}):{};a2(n,{state:t,nodeInfo:r,params:a})}}})),t}function h2(e){var t={},n=Object.keys(p2);return n.forEach((function(n){t[n]=function(t,r){var o=p2[n],i=e[n],a=i&&t&&!j(r),s=a?i(t,{entering:r}):{};return f(f({},s),o)}})),t}function m2(e){var t=Object.keys(e);t.forEach((function(t){var n=d2[t],r=e[t];d2[t]=n?function(e,t){return t.origin=function(){return n(e,t)},r(e,t)}:r,delete e[t]}));var n=f2(d2),r=h2(d2);return{nodeTypeConvertors:n,markTypeConvertors:r}}var v2=function(){function e(e){var t=e.nodeTypeConvertors,n=e.markTypeConvertors;this.nodeTypeConvertors=t,this.markTypeConvertors=n,this.delim="",this.result="",this.closed=!1,this.tightList=!1,this.stopNewline=!1,this.inTable=!1}return e.prototype.getMarkConvertor=function(e){var t=e.attrs.htmlInline?"html":e.type.name;return this.markTypeConvertors[t]},e.prototype.isInBlank=function(){return/(^|\n)$/.test(this.result)},e.prototype.markText=function(e,t,n,r){var o=this.getMarkConvertor(e);if(o){var i=o({node:e,parent:n,index:r},t),a=i.delim,s=i.rawHTML;return s||a}return""},e.prototype.flushClose=function(e){if(!this.stopNewline&&this.closed){if(this.isInBlank()||(this.result+="\n"),e||(e=2),e>1){var t=this.delim,n=/\s+$/.exec(t);n&&(t=t.slice(0,t.length-n[0].length));for(var r=1;r<e;r+=1)this.result+=t+"\n"}this.closed=!1}},e.prototype.wrapBlock=function(e,t,n,r){var o=this.delim;this.write(t||e),this.delim+=e,r(),this.delim=o,this.closeBlock(n)},e.prototype.ensureNewLine=function(){this.isInBlank()||(this.result+="\n")},e.prototype.write=function(e){void 0===e&&(e=""),this.flushClose(),this.delim&&this.isInBlank()&&(this.result+=this.delim),e&&(this.result+=e)},e.prototype.closeBlock=function(e){this.closed=e},e.prototype.text=function(e,t){void 0===t&&(t=!0);for(var n=e.split("\n"),r=0;r<n.length;r+=1)this.write(),this.result+=t?Oe(n[r]):n[r],r!==n.length-1&&(this.result+="\n")},e.prototype.convertBlock=function(e,t,n){var r=e.type.name,o=this.nodeTypeConvertors[r],i={node:e,parent:t,index:n};e.attrs.htmlBlock?this.nodeTypeConvertors.html(this,i):o&&o(this,i)},e.prototype.convertInline=function(e){var t=this,n=[],r="",o=function(o,i,a){var s=o?o.marks:[],l=r;r="";var u=o&&o.isText&&s.some((function(e){var n=t.getMarkConvertor(e),r=n&&n();return r&&r.removedEnclosingWhitespace}));if(u&&o&&o.text){var c=/^(\s*)(.*?)(\s*)$/m.exec(o.text),d=c[1],p=c[2],f=c[3];l+=d,r=f,(d||f)&&(o=p?o.withText(p):null,o||(s=n))}for(var h=s.length&&Pe(s),m=h&&t.getMarkConvertor(h),v=m&&m(),g=v&&!1===v.escape,y=s.length-(g?1:0),b=0;b<y;b+=1){p=s[b];if(v&&!v.mixable)break;for(var w=0;w<n.length;w+=1){var k=n[w];if(v&&!v.mixable)break;if(p.eq(k)){b>w?s=s.slice(0,w).concat(p).concat(s.slice(w,b)).concat(s.slice(b+1,y)):w>b&&(s=s.slice(0,b).concat(s.slice(b+1,w)).concat(p).concat(s.slice(w,y)));break}}}var C=0;while(C<Math.min(n.length,y)&&s[C].eq(n[C]))C+=1;while(C<n.length){var x=n.pop();x&&t.text(t.markText(x,!1,e,a),!1)}if(l&&t.text(l),o){while(n.length<y){p=s[n.length];n.push(p),t.text(t.markText(p,!0,e,a),!1)}g&&o.isText?t.text(t.markText(h,!0,e,a)+o.text+t.markText(h,!1,e,a+1),!1):t.convertBlock(o,e,a)}};e.forEach(o),o(null,null,e.childCount)},e.prototype.convertList=function(e,t,n){var r,o=this;this.closed&&this.closed.type===e.type?this.flushClose(3):this.tightList&&this.flushClose(1);var i=null===(r=e.attrs.tight)||void 0===r||r,a=this.tightList;this.tightList=i,e.forEach((function(r,a,s){s&&i&&o.flushClose(1),o.wrapBlock(t,n(s),e,(function(){return o.convertBlock(r,e,s)}))})),this.tightList=a},e.prototype.convertTableCell=function(e){var t=this;this.stopNewline=!0,this.inTable=!0,e.forEach((function(n,r,o){if(Te(["bulletList","orderedList"],n.type.name))t.convertBlock(n,e,o),t.closed=!1;else if(t.convertInline(n),o<e.childCount-1){var i=e.child(o+1);"paragraph"===i.type.name&&t.write("<br>")}})),this.stopNewline=!1,this.inTable=!1},e.prototype.convertNode=function(e,t){var n=this;return e.forEach((function(r,o,i){if(n.convertBlock(r,e,i),(null===t||void 0===t?void 0:t.node)===r){var a=n.result.split("\n");t.setMappedPos([a.length,Pe(a).length+1])}})),this.result},e}(),g2=function(){function e(e,t,n,r){var o=this;this.setMappedPos=function(e){o.mappedPosWhenConverting=e},this.schema=e,this.eventEmitter=r,this.focusedNode=null,this.mappedPosWhenConverting=null,this.toWwConvertors=J1(n),this.toMdConvertors=m2(t||{}),this.eventEmitter.listen("setFocusedNode",(function(e){return o.focusedNode=e}))}return e.prototype.getMappedPos=function(){return this.mappedPosWhenConverting},e.prototype.getInfoForPosSync=function(){return{node:this.focusedNode,setMappedPos:this.setMappedPos}},e.prototype.toWysiwygModel=function(e){var t=new t2(this.schema,this.toWwConvertors);return t.convertNode(e,this.getInfoForPosSync())},e.prototype.toMarkdownText=function(e){var t=new v2(this.toMdConvertors),n=t.convertNode(e,this.getInfoForPosSync());return n=this.eventEmitter.emitReduce("beforeConvertWysiwygToMarkdown",n),n},e}();function y2(e,t,n){var i={Plugin:a["Plugin"],Selection:a["Selection"],TextSelection:a["TextSelection"]},s={Decoration:o["Decoration"],DecorationSet:o["DecorationSet"]},l={Fragment:r["Fragment"]},u={eventEmitter:t,usageStatistics:n,pmState:i,pmView:s,pmModel:l,i18n:NJ};if(x(e)){var c=e[0],d=e[1],p=void 0===d?{}:d;return c(u,p)}return e(u)}function b2(e,t,n){return t.listen("mixinTableOffsetMapPrototype",aJ),(null!==e&&void 0!==e?e:[]).reduce((function(e,r){var o=y2(r,t,n);if(!o)throw new Error("The return value of the executed plugin is empty.");var i=o.markdownParsers,a=o.toHTMLRenderers,s=o.toMarkdownRenderers,l=o.markdownPlugins,u=o.wysiwygPlugins,c=o.wysiwygNodeViews,d=o.markdownCommands,p=o.wysiwygCommands,h=o.toolbarItems;return a&&(e.toHTMLRenderers=Be(e.toHTMLRenderers,a)),s&&(e.toMarkdownRenderers=Be(e.toMarkdownRenderers,s)),l&&(e.mdPlugins=e.mdPlugins.concat(l)),u&&(e.wwPlugins=e.wwPlugins.concat(u)),c&&(e.wwNodeViews=f(f({},e.wwNodeViews),c)),d&&(e.mdCommands=f(f({},e.mdCommands),d)),p&&(e.wwCommands=f(f({},e.wwCommands),p)),h&&(e.toolbarItems=e.toolbarItems.concat(h)),i&&(e.markdownParsers=f(f({},e.markdownParsers),i)),e}),{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var w2="data-task",k2="data-task-disabled",C2="checked",x2=function(){function e(e){var t=this;this.options=b({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},e),this.eventEmitter=new j1;var n=Le(this.options.linkAttributes),r=b2(this.options.plugins,this.eventEmitter,this.options.usageStatistics)||{},o=r.toHTMLRenderers,i=r.markdownParsers,a=this.options,s=a.customHTMLRenderer,l=a.extendedAutolinks,u=a.referenceDefinition,c=a.frontMatter,d=a.customHTMLSanitizer,p={linkAttributes:n,customHTMLRenderer:f(f({},o),s),extendedAutolinks:l,referenceDefinition:u,frontMatter:c,sanitizer:d||GK};this.options.events&&g(this.options.events,(function(e,n){t.on(n,e)}));var h=this.options,m=h.el,v=h.initialValue,y=h.theme,w=m.innerHTML;"light"!==y&&m.classList.add(vn(y)),m.innerHTML="",this.toastMark=new EK("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:l,referenceDefinition:u,disallowDeepHeading:!0,frontMatter:c,customParser:i}),this.preview=new SY(this.eventEmitter,f(f({},p),{isViewer:!0})),gi(this.preview.el,"mousedown",this.toggleTask.bind(this)),v?this.setMarkdown(v):w&&this.preview.setHTML(w),m.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return e.prototype.toggleTask=function(e){var t=e.target,n=getComputedStyle(t,":before");!t.hasAttribute(k2)&&t.hasAttribute(w2)&&hn(n,e.offsetX,e.offsetY)&&En(t,C2)},e.prototype.setMarkdown=function(e){var t=this.toastMark.getLineTexts(),n=t.length,r=Pe(t),o=[n,r.length+1],i=this.toastMark.editMarkdown([1,1],o,e||"");this.eventEmitter.emit("updatePreview",i)},e.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},e.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},e.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},e.prototype.destroy=function(){ci(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},e.prototype.isViewer=function(){return!0},e.prototype.isMarkdownMode=function(){return!1},e.prototype.isWysiwygMode=function(){return!1},e}();function T2(e){return e instanceof r["Node"]}function E2(e){var t=["document","blockQuote","bulletList","orderedList","listItem","paragraph","heading","emph","strong","strike","link","image","table","tableHead","tableBody","tableRow","tableHeadCell","tableBodyCell"];return Te(t,e)}function M2(e){var t=e.attrs,n=e.type,r=n.name,o={type:r,wysiwygNode:!0,literal:!E2(r)&&T2(e)?e.textContent:null},i={heading:{level:t.level},link:{destination:t.linkUrl,title:t.linkText},image:{destination:t.imageUrl},codeBlock:{info:t.language},bulletList:{type:"list",listData:{type:"bullet"}},orderedList:{type:"list",listData:{type:"ordered",start:t.order}},listItem:{type:"item",listData:{task:t.task,checked:t.checked}},tableHeadCell:{type:"tableCell",cellType:"head",align:t.align},tableBodyCell:{type:"tableCell",cellType:"body",align:t.align},customBlock:{info:t.info}},a=i[r],s=f(f({},o),a),l=e.attrs,u=l.htmlAttrs,c=l.childrenHTML;return u?f(f({},s),{attrs:u,childrenHTML:c}):s}var L2={openTag:function(e,t){var n=e,r=n.tagName,o=n.classNames,i=n.attributes,a=document.createElement(r),s={};o&&(a.className=o.join(" ")),i&&(s=f(f({},s),i)),In(s,a),t.push(a)},closeTag:function(e,t){if(t.length>1){var n=t.pop();Pe(t).appendChild(n)}},html:function(e,t){Pe(t).insertAdjacentHTML("beforeend",e.content)},text:function(e,t){var n=document.createTextNode(e.content);Pe(t).appendChild(n)}},N2=function(){function e(e,t){var n=sY(e,t),r=f(f({},t.htmlBlock),t.htmlInline);this.customConvertorKeys=Object.keys(t).concat(Object.keys(r)),this.renderer=new PK({gfm:!0,convertors:f(f({},n),r)}),this.convertors=this.renderer.getConvertors()}return e.prototype.generateTokens=function(e){var t=M2(e),n={entering:!0,leaf:!!T2(e)&&e.isLeaf,options:this.renderer.getOptions(),getChildrenText:function(){return T2(e)?e.textContent:""},skipChildren:function(){return!1}},r=this.convertors[e.type.name],o=r(t,n,this.convertors),i=x(o)?o:[o];return(E2(e.type.name)||e.attrs.htmlInline)&&(n.entering=!1,i.push({type:"text",content:T2(e)?e.textContent:""}),i=i.concat(r(t,n,this.convertors))),i},e.prototype.toDOMNode=function(e){var t=this.generateTokens(e),n=[];return t.forEach((function(e){return L2[e.type](e,n)})),n[0]},e.prototype.getToDOMNode=function(e){return Te(this.customConvertorKeys,e)?this.toDOMNode.bind(this):null},e}(),S2=100,O2=15,I2=null,D2=null;function A2(e,t){var n=t.syncScrollTop,r=t.releaseEventBlock;D2&&clearTimeout(D2),n(e),D2=setTimeout((function(){r()}),O2)}function P2(e,t,n){var r=t-e,o=Date.now(),i=function(){var a,s=Date.now(),l=(s-o)/S2;I2&&clearTimeout(I2),l<1?(a=e+r*Math.cos((1-l)*Math.PI/2),A2(Math.ceil(a),n),I2=setTimeout(i,1)):(A2(t,n),I2=null)};i()}var R2=18,H2=function(){function e(e,t,n){this.latestEditorScrollTop=null,this.latestPreviewScrollTop=null,this.blockedScroll=null,this.active=!0;var r=t.previewContent,o=t.el;this.previewRoot=r,this.previewEl=o,this.mdEditor=e,this.editorView=e.view,this.toastMark=e.getToastMark(),this.eventEmitter=n,this.addScrollSyncEvent()}return e.prototype.addScrollSyncEvent=function(){var e=this;this.eventEmitter.listen("afterPreviewRender",(function(){setTimeout((function(){e.syncPreviewScrollTop(!0)}),200)})),this.eventEmitter.listen("scroll",(function(t,n){e.active&&("editor"===t&&"editor"!==e.blockedScroll?e.syncPreviewScrollTop():"preview"===t&&"preview"!==e.blockedScroll&&e.syncEditorScrollTop(n))})),this.eventEmitter.listen("toggleScrollSync",(function(t){e.active=t}))},e.prototype.getMdNodeAtPos=function(e,t){var n=e.content.findIndex(t.pos),r=n.index;return this.toastMark.findFirstNodeAtLine(r+1)},e.prototype.getScrollTopByCaretPos=function(){var e=this.mdEditor.getSelection(),t=this.toastMark.findFirstNodeAtLine(e[0][0]),n=this.previewEl.clientHeight,r=yY(t).el,o=hY(r,this.previewRoot)||r.offsetTop,i=r.clientHeight,a=o+i-.5*n;this.latestEditorScrollTop=null;var s=r.getBoundingClientRect().top-this.previewEl.getBoundingClientRect().top;return s<n?null:a},e.prototype.syncPreviewScrollTop=function(e){void 0===e&&(e=!1);var t=this,n=t.editorView,r=t.previewEl,o=t.previewRoot,i=n.dom.getBoundingClientRect(),a=i.left,s=i.top,l=n.posAtCoords({left:a,top:s}),u=n.state.doc,c=this.getMdNodeAtPos(u,l);if(c&&!Ye(c)){var d=r.scrollTop,p=n.dom,f=p.scrollTop,h=p.scrollHeight,m=p.clientHeight,v=p.children,g=h-f<=m+R2,y=g?r.scrollHeight:0;if(f&&!g){if(e){var b=this.getScrollTopByCaretPos();if(!b)return;y=b}else{var w=yY(c),k=w.el,C=w.mdNode,x=dY(u,C,v),T=x.height,E=x.rect,M=hY(k,o)||k.offsetTop,L=k.clientHeight,N=s>E.top?Math.min((s-E.top)/T,1):0;y=M+L*N}y=this.getResolvedScrollTop("editor",f,y,d),this.latestEditorScrollTop=f}y!==d&&this.run("editor",y,d)}},e.prototype.syncEditorScrollTop=function(e){var t=this,n=t.toastMark,r=t.editorView,o=t.previewRoot,i=t.previewEl,a=r.dom,s=r.state,l=i.scrollTop,u=i.clientHeight,c=i.scrollHeight,d=c-l<=u,p=a.scrollTop,f=d?a.scrollHeight:0;if(l&&e&&!d){if(e=fY(e,o),!e.getAttribute("data-nodeid"))return;var h=a.children,m=Number(e.getAttribute("data-nodeid")),v=yY(n.findNodeById(m)),g=v.mdNode,y=v.el,b=Xe(g);f=h[b-1].offsetTop;var w=dY(s.doc,g,h).height,k=MY(y,o,m),C=k.nodeHeight,x=k.offsetTop;f+=gY(l,x,C,w),f=this.getResolvedScrollTop("preview",l,f,p),this.latestPreviewScrollTop=l}f!==p&&this.run("preview",f,p)},e.prototype.getResolvedScrollTop=function(e,t,n,r){var o="editor"===e?this.latestEditorScrollTop:this.latestPreviewScrollTop;return null===o?n:o<t?Math.max(n,r):Math.min(n,r)},e.prototype.run=function(e,t,n){var r,o=this;"editor"===e?(r=this.previewEl,this.blockedScroll="preview"):(r=this.editorView.dom,this.blockedScroll="editor");var i={syncScrollTop:function(e){return r.scrollTop=e},releaseEventBlock:function(){return o.blockedScroll=null}};P2(n,t,i)},e.prototype.destroy=function(){this.eventEmitter.removeEventHandler("scroll"),this.eventEmitter.removeEventHandler("afterPreviewRender")},e}(),B2=function(){function e(e){var t=this;this.initialHtml=e.el.innerHTML,e.el.innerHTML="",this.options=b({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useCommandShortcut:!0,usageStatistics:!0,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","image","link"],["code","codeblock"],["scrollSync"]],hideModeSwitch:!1,linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,customMarkdownRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,widgetRules:[],theme:"light",autofocus:!0},e);var n=this.options,r=n.customHTMLRenderer,o=n.extendedAutolinks,i=n.referenceDefinition,a=n.frontMatter,s=n.customMarkdownRenderer,l=n.useCommandShortcut,u=n.initialEditType,c=n.widgetRules,d=n.customHTMLSanitizer;this.mode=u||"markdown",this.mdPreviewStyle=this.options.previewStyle,this.eventEmitter=new j1,wt(c);var p=Le(this.options.linkAttributes);this.pluginInfo=b2(this.options.plugins,this.eventEmitter,this.options.usageStatistics);var h=this.pluginInfo,m=h.toHTMLRenderers,v=h.toMarkdownRenderers,y=h.mdPlugins,w=h.wwPlugins,k=h.wwNodeViews,C=h.mdCommands,x=h.wwCommands,T=h.markdownParsers,E={linkAttributes:p,customHTMLRenderer:Be(m,r),extendedAutolinks:o,referenceDefinition:i,frontMatter:a,sanitizer:d||GK},M=new N2(p,E.customHTMLRenderer),L=oY(E.customHTMLRenderer,E.sanitizer,M);this.i18n=NJ,this.i18n.setCode(this.options.language),this.toastMark=new EK("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:o,referenceDefinition:i,disallowDeepHeading:!0,frontMatter:a,customParser:T}),this.mdEditor=new ei(this.eventEmitter,{toastMark:this.toastMark,useCommandShortcut:l,mdPlugins:y}),this.preview=new SY(this.eventEmitter,f(f({},E),{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=new L1(this.eventEmitter,{toDOMAdaptor:M,useCommandShortcut:l,htmlSchemaMap:L,linkAttributes:p,wwPlugins:w,wwNodeViews:k}),this.convertor=new g2(this.wwEditor.getSchema(),f(f({},v),s),sY(p,E.customHTMLRenderer),this.eventEmitter),this.setMinHeight(this.options.minHeight),this.setHeight(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHTML(this.initialHtml,!1),this.commandManager=new q1(this.eventEmitter,this.mdEditor.commands,this.wwEditor.commands,(function(){return t.mode})),this.options.usageStatistics&&xe(),this.scrollSync=new H2(this.mdEditor,this.preview,this.eventEmitter),this.addInitEvent(),this.addInitCommand(C,x),this.options.hooks&&g(this.options.hooks,(function(e,n){return t.addHook(n,e)})),this.options.events&&g(this.options.events,(function(e,n){return t.on(n,e)})),this.eventEmitter.emit("load",this),this.moveCursorToStart(this.options.autofocus)}return e.prototype.addInitEvent=function(){this.on("needChangeMode",this.changeMode.bind(this)),Dt(this.eventEmitter)},e.prototype.addInitCommand=function(e,t){var n=this,r=function(e,t){Object.keys(t).forEach((function(r){n.addCommand(e,r,t[r])}))};this.addCommand("markdown","toggleScrollSync",(function(e){return n.eventEmitter.emit("toggleScrollSync",e.active),!0})),r("markdown",e),r("wysiwyg",t)},e.prototype.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor},e.factory=function(t){return t.viewer?new x2(t):new e(t)},e.setLanguage=function(e,t){NJ.setLanguage(e,t)},e.prototype.changePreviewStyle=function(e){this.mdPreviewStyle!==e&&(this.mdPreviewStyle=e,this.eventEmitter.emit("changePreviewStyle",e))},e.prototype.exec=function(e,t){this.commandManager.exec(e,t)},e.prototype.addCommand=function(e,t,n){var r=this,o=function(t){void 0===t&&(t={});var o=("markdown"===e?r.mdEditor:r.wwEditor).view;n(t,o.state,o.dispatch,o)};this.commandManager.addCommand(e,t,o)},e.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},e.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},e.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},e.prototype.removeHook=function(e){this.eventEmitter.removeEventHandler(e)},e.prototype.focus=function(){this.getCurrentModeEditor().focus()},e.prototype.blur=function(){this.getCurrentModeEditor().blur()},e.prototype.moveCursorToEnd=function(e){void 0===e&&(e=!0),this.getCurrentModeEditor().moveCursorToEnd(e)},e.prototype.moveCursorToStart=function(e){void 0===e&&(e=!0),this.getCurrentModeEditor().moveCursorToStart(e)},e.prototype.setMarkdown=function(e,t){if(void 0===e&&(e=""),void 0===t&&(t=!0),this.mdEditor.setMarkdown(e,t),this.isWysiwygMode()){var n=this.toastMark.getRootNode(),r=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(r,t)}},e.prototype.setHTML=function(e,t){void 0===e&&(e=""),void 0===t&&(t=!0);var n=document.createElement("div");n.innerHTML=Dn(e);var o=r["DOMParser"].fromSchema(this.wwEditor.schema).parse(n);this.isMarkdownMode()?this.mdEditor.setMarkdown(this.convertor.toMarkdownText(o),t):this.wwEditor.setModel(o,t)},e.prototype.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getMarkdown():this.convertor.toMarkdownText(this.wwEditor.getModel())},e.prototype.getHTML=function(){var e=this;this.eventEmitter.holdEventInvoke((function(){e.isWysiwygMode()&&e.mdEditor.setMarkdown(e.convertor.toMarkdownText(e.wwEditor.getModel()))}));var t=this.toastMark.getRootNode(),n=this.preview.getRenderer();return n.render(t).replace(/\sdata-nodeid="\d{1,}"/g,"").trim()},e.prototype.insertText=function(e){this.getCurrentModeEditor().replaceSelection(e)},e.prototype.setSelection=function(e,t){this.getCurrentModeEditor().setSelection(e,t)},e.prototype.replaceSelection=function(e,t,n){this.getCurrentModeEditor().replaceSelection(e,t,n)},e.prototype.deleteSelection=function(e,t){this.getCurrentModeEditor().deleteSelection(e,t)},e.prototype.getSelectedText=function(e,t){return this.getCurrentModeEditor().getSelectedText(e,t)},e.prototype.getRangeInfoOfNode=function(e){return this.getCurrentModeEditor().getRangeInfoOfNode(e)},e.prototype.addWidget=function(e,t,n){this.getCurrentModeEditor().addWidget(e,t,n)},e.prototype.replaceWithWidget=function(e,t,n){this.getCurrentModeEditor().replaceWithWidget(e,t,n)},e.prototype.setHeight=function(e){var t=this.options.el;k(e)&&("auto"===e?(Y(t,"auto-height"),this.setMinHeight(this.getMinHeight())):(oe(t,"auto-height"),this.setMinHeight(e))),P(t,{height:e}),this.height=e},e.prototype.getHeight=function(){return this.height},e.prototype.setMinHeight=function(e){var t;this.minHeight=e;var n=this.options.el.clientHeight,r=(null===(t=document.querySelector("."+vn("main")))||void 0===t?void 0:t.clientHeight)||0,o=n-r,i=parseInt(e,10);i=Math.max(i-o,0),this.wwEditor.setMinHeight(i),this.mdEditor.setMinHeight(i),this.preview.setMinHeight(i)},e.prototype.getMinHeight=function(){return this.minHeight},e.prototype.isMarkdownMode=function(){return"markdown"===this.mode},e.prototype.isWysiwygMode=function(){return"wysiwyg"===this.mode},e.prototype.isViewer=function(){return!1},e.prototype.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},e.prototype.changeMode=function(e,t){if(this.mode!==e){if(this.mode=e,this.isWysiwygMode()){var n=this.toastMark.getRootNode(),r=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(r)}else{r=this.wwEditor.getModel();this.mdEditor.setMarkdown(this.convertor.toMarkdownText(r),!t)}if(this.eventEmitter.emit("removePopupWidget"),this.eventEmitter.emit("changeMode",e),!t){var o=this.convertor.getMappedPos();this.focus(),this.isWysiwygMode()&&ae(o)?this.wwEditor.setSelection(o):Array.isArray(o)&&this.mdEditor.setSelection(o)}}},e.prototype.destroy=function(){var e=this;this.wwEditor.destroy(),this.mdEditor.destroy(),this.preview.destroy(),this.scrollSync.destroy(),this.eventEmitter.emit("destroy"),this.eventEmitter.getEvents().forEach((function(t,n){return e.off(n)}))},e.prototype.hide=function(){this.eventEmitter.emit("hide")},e.prototype.show=function(){this.eventEmitter.emit("show")},e.prototype.setScrollTop=function(e){this.getCurrentModeEditor().setScrollTop(e)},e.prototype.getScrollTop=function(){return this.getCurrentModeEditor().getScrollTop()},e.prototype.reset=function(){this.wwEditor.setModel([]),this.mdEditor.setMarkdown("")},e.prototype.getSelection=function(){return this.getCurrentModeEditor().getSelection()},e.prototype.setPlaceholder=function(e){this.mdEditor.setPlaceholder(e),this.wwEditor.setPlaceholder(e)},e.prototype.getEditorElements=function(){return{mdEditor:this.mdEditor.getElement(),mdPreview:this.preview.getElement(),wwEditor:this.wwEditor.getElement()}},e}();function F2(e){for(var t,n,r=arguments,o=1,i="",a="",s=[0],l=function(e){1===o&&(e||(i=i.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(e?r[e]:i):3===o&&(e||i)?(s[1]=e?r[e]:i,o=2):2===o&&"..."===i&&e?s[2]=qe(s[2]||{},r[e]):2===o&&i&&!e?(s[2]=s[2]||{})[i]=!0:o>=5&&(5===o?((s[2]=s[2]||{})[n]=e?i?i+r[e]:r[e]:i,o=6):(e||i)&&(s[2][n]+=e?i+r[e]:i)),i=""},u=0;u<e.length;u++){u&&(1===o&&l(),l(u));for(let r=0;r<e[u].length;r++)t=e[u][r],1===o?"<"===t?(l(),s=[s,"",null],o=3):i+=t:4===o?"--"===i&&">"===t?(o=1,i=""):i=t+i[0]:a?t===a?a="":i+=t:'"'===t||"'"===t?a=t:">"===t?(l(),o=1):o&&("="===t?(o=5,n=i,i=""):"/"===t&&(o<5||">"===e[u][r+1])?(l(),3===o&&(s=s[0]),o=s,(s=s[0]).push(this.apply(null,o.slice(1))),o=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(l(),o=2):i+=t),3===o&&"!--"===i&&(o=4,s=s[0])}return l(),s.length>2?s.slice(1):s[1]}function j2(e){return"boolean"===typeof e||e instanceof Boolean}var q2=j2,z2=function(){function e(e){this.current=e,this.root=e,this.entering=!0}return e.prototype.walk=function(){var e=this,t=e.entering,n=e.current;return n?(t?n.firstChild?(this.current=n.firstChild,this.entering=!0):this.entering=!1:n===this.root?this.current=null:n.next?(this.current=n.next,this.entering=!0):(this.current=n.parent,this.entering=!1),{vnode:n,entering:t}):null},e}(),V2=function(){function e(e,t,n){this.parent=null,this.old=null,this.firstChild=null,this.next=null,this.skip=!1,this.type=e,this.props=t,this.children=n,this.props.children=n,t.ref&&(this.ref=t.ref,delete t.ref),t.key&&(this.key=t.key,delete t.key)}return e.prototype.walker=function(){return new z2(this)},e.removalNodes=[],e}();function _2(e){return new V2("TEXT_NODE",{nodeValue:e},[])}function U2(e,t){var n=e;q2(e)||null==e?n=null:(k(e)||ae(e))&&(n=_2(String(e))),n&&t.push(n)}function $2(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=[];return n.forEach((function(e){Array.isArray(e)?e.forEach((function(e){U2(e,o)})):U2(e,o)})),new V2(e,t||{},o)}var W2=F2.bind($2);function G2(e){return e===Object(e)}var X2=G2;function Z2(e){var t;return"TEXT_NODE"===e.type?t=document.createTextNode(e.props.nodeValue):(t=document.createElement(e.type),J2(t,{},e.props)),t}function Q2(e,t){e.node?t.removeChild(e.node):Q2(e.firstChild,t)}function K2(e,t,n){Object.keys(t).forEach((function(r){if(/^on/.test(r)){if(!n[r]||t[r]!==n[r]){var o=r.slice(2).toLowerCase();e.removeEventListener(o,t[r])}}else"children"===r||n[r]||yn(e)||e.removeAttribute(r)})),J2(e,t,n,(function(e){return!Ae(t[e],n[e])}))}var Y2=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function J2(e,t,n,r){Object.keys(n).forEach((function(o){if(!r||r(o))if(/^on/.test(o)){var i=o.slice(2).toLowerCase();e.addEventListener(i,n[o])}else"nodeValue"===o?e[o]=n[o]:"style"===o&&X2(n[o])?e3(e,t[o],n[o]):"children"!==o&&(!1===n[o]?e.removeAttribute(o):e.setAttribute(o,n[o]))}))}function e3(e,t,n){t&&Object.keys(t).forEach((function(t){e.style[t]=""})),Object.keys(n).forEach((function(t){var r=n[t];e.style[t]=ae(r)&&!Y2.test(t)?r+"px":r}))}function t3(e){if(V2.removalNodes.forEach((function(e){return r3(e)})),e){var t=void 0,n=e.walker();while(t=n.walk())if(e=t.vnode,t.entering)r3(e);else if(Vt(e.type)){var r=e.component;if(!e.old&&r.mounted&&r.mounted(),e.old&&r.updated){var o=r.prevProps||{};r.updated(o)}}}}function n3(e){var t=e.parent;while(!t.node)t=t.parent;return t.node}function r3(e){if(e&&e.parent){if(e.node){var t=n3(e);"A"===e.effect?t.appendChild(e.node):"U"===e.effect&&K2(e.node,e.old.props,e.props)}if("D"===e.effect){var n=void 0,r=e.walker();while(n=r.walk())if(e=n.vnode,!n.entering)if(Vt(e.type)){var o=e.component;o.beforeDestroy&&o.beforeDestroy()}else{t=n3(e);Q2(e,t)}}e.ref&&(e.component?e.ref(e.component):e.node&&e.ref(e.node))}}function o3(e,t){var n=t.props,r=t.component;return r?(r.prevProps=r.props,r.props=t.props,r):new e(n)}function i3(e){var t=e;while(e&&!e.skip){if(Vt(e.type)){var n=o3(e.type,e);n.vnode=e,e.component=n,e.props.children=e.children=[n.render()],s3(e)}else e.node||(e.node=Z2(e)),s3(e);if(e.firstChild)e=e.firstChild;else{while(e&&e.parent&&!e.next)if(e=e.parent,e===t)break;e=e.next}}}function a3(e,t){return e&&t&&t.type===e.type&&(!t.key||t.key===e.key)}function s3(e){var t=e.children,n=e.old?e.old.firstChild:null,r=null;t.forEach((function(t,o){var i=a3(n,t);i&&(t.old=n,t.parent=e,t.node=n.node,t.component=n.component,t.effect="U"),t&&!i&&(t.old=null,t.parent=e,t.node=null,t.effect="A"),n&&!i&&(V2.removalNodes.push(n),n.effect="D"),n&&(n=n.next),0===o?e.firstChild=t:t&&(r.next=t),r=t}));var o=Pe(t);if(!t.length)while(n)V2.removalNodes.push(n),n.effect="D",n=n.next;while(n&&o)n&&o.old!==n&&(V2.removalNodes.push(n),n.effect="D",n=n.next)}function l3(e){e.effect="D",V2.removalNodes=[e],t3(),V2.removalNodes=[]}function u3(e){var t=e.vnode;t.effect="U",t.old=t,t.next&&(t.next.skip=!0),V2.removalNodes=[],i3(t),t3(t),t.next&&(t.next.skip=!1)}function c3(e,t){var n=new V2(e.tagName.toLowerCase(),{},[t]);return n.node=e,V2.removalNodes=[],i3(n),t3(n),function(){return l3(n.firstChild)}}var d3,p3=function(){function e(e){this.props=e,this.state={},this.refs={}}return e.prototype.setState=function(e){var t=f(f({},this.state),e);Ae(this.state,t)||(this.state=t,u3(this))},e}(),f3=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hide:!1},n}return p(t,e),t.prototype.show=function(){this.setState({hide:!1})},t.prototype.hide=function(){this.setState({hide:!0})},t.prototype.render=function(){var e=this.props,t=e.editorType,n=e.eventEmitter;return W2(d3||(d3=m(['\n      <div class="','" style="display: ','">\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ",'\n        </div>\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ","\n        </div>\n      </div>\n    "],['\n      <div class="','" style="display: ','">\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ",'\n        </div>\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ","\n        </div>\n      </div>\n    "])),vn("mode-switch"),this.state.hide?"none":"block","markdown"===t?" active":"",(function(){n.emit("needChangeMode","markdown")}),NJ.get("Markdown"),"wysiwyg"===t?" active":"",(function(){n.emit("needChangeMode","wysiwyg")}),NJ.get("WYSIWYG"))},t}(p3);function h3(e,t){var n,r;function o(){r=Array.prototype.slice.call(arguments),window.clearTimeout(n),n=window.setTimeout((function(){e.apply(null,r)}),t)}return t=t||0,o}var m3=h3,v3=m3;function g3(e,t){var n,r,o,i,a=!0,s=function(t){e.apply(null,t),n=null};function l(){if(i=Array.prototype.slice.call(arguments),a)return s(i),void(a=!1);o=Number(new Date),n=n||o,r(i),o-n>=t&&s(i)}function u(){a=!0,n=null}return t=t||0,r=v3(s,t),l.reset=u,l}var y3=g3,b3=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),w3="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,k3=function(){return"undefined"!==typeof e&&e.Math===Math?e:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),C3=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(k3):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)}}(),x3=2;function T3(e,t){var n=!1,r=!1,o=0;function i(){n&&(n=!1,e()),r&&s()}function a(){C3(i)}function s(){var e=Date.now();if(n){if(e-o<x3)return;r=!0}else n=!0,r=!1,setTimeout(a,t);o=e}return s}var E3=20,M3=["top","right","bottom","left","width","height","size","weight"],L3="undefined"!==typeof MutationObserver,N3=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=T3(this.refresh.bind(this),E3)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){w3&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),L3?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){w3&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=M3.some((function(e){return!!~n.indexOf(e)}));r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),S3=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},O3=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||k3},I3=z3(0,0,0,0);function D3(e){return parseFloat(e)||0}function A3(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){var r=e["border-"+n+"-width"];return t+D3(r)}),0)}function P3(e){for(var t=["top","right","bottom","left"],n={},r=0,o=t;r<o.length;r++){var i=o[r],a=e["padding-"+i];n[i]=D3(a)}return n}function R3(e){var t=e.getBBox();return z3(0,0,t.width,t.height)}function H3(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return I3;var r=O3(e).getComputedStyle(e),o=P3(r),i=o.left+o.right,a=o.top+o.bottom,s=D3(r.width),l=D3(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=A3(r,"left","right")+i),Math.round(l+a)!==n&&(l-=A3(r,"top","bottom")+a)),!F3(e)){var u=Math.round(s+i)-t,c=Math.round(l+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(l-=c)}return z3(o.left,o.top,s,l)}var B3=function(){return"undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof O3(e).SVGGraphicsElement}:function(e){return e instanceof O3(e).SVGElement&&"function"===typeof e.getBBox}}();function F3(e){return e===O3(e).document.documentElement}function j3(e){return w3?B3(e)?R3(e):H3(e):I3}function q3(e){var t=e.x,n=e.y,r=e.width,o=e.height,i="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(i.prototype);return S3(a,{x:t,y:n,width:r,height:o,top:n,right:t+r,bottom:o+n,left:t}),a}function z3(e,t,n,r){return{x:e,y:t,width:n,height:r}}var V3=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=z3(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=j3(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),_3=function(){function e(e,t){var n=q3(t);S3(this,{target:e,contentRect:n})}return e}(),U3=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new b3,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof O3(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new V3(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof O3(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new _3(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),$3="undefined"!==typeof WeakMap?new WeakMap:new b3,W3=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=N3.getInstance(),r=new U3(t,n,this);$3.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach((function(e){W3.prototype[e]=function(){var t;return(t=$3.get(this))[e].apply(t,arguments)}}));var G3,X3,Z3,Q3,K3,Y3,J3,e5,t5,n5,r5,o5,i5,a5,s5,l5,u5=function(){return"undefined"!==typeof k3.ResizeObserver?k3.ResizeObserver:W3}(),c5=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t.prototype.execCommand=function(e){var t=Nn(e.target,"li");this.props.execCommand("heading",{level:Number(t.getAttribute("data-level"))})},t.prototype.render=function(){var e=this;return W2(X3||(X3=m(["\n      <ul\n        onClick=",'\n        aria-role="menu"\n        aria-label="','"\n      >\n        ','\n        <li data-type="Paragraph" aria-role="menuitem">\n          <div>',"</div>\n        </li>\n      </ul>\n    "],["\n      <ul\n        onClick=",'\n        aria-role="menu"\n        aria-label="','"\n      >\n        ','\n        <li data-type="Paragraph" aria-role="menuitem">\n          <div>',"</div>\n        </li>\n      </ul>\n    "])),(function(t){return e.execCommand(t)}),NJ.get("Headings"),[1,2,3,4,5,6].map((function(e){return W2(G3||(G3=m(['\n              <li data-level="','" data-type="Heading" aria-role="menuitem">\n                <',">"," ","</$>\n              </li>\n            "],['\n              <li data-level="','" data-type="Heading" aria-role="menuitem">\n                <',">"," ","</$>\n              </li>\n            "])),e,"h"+e,NJ.get("Heading"),e)})),NJ.get("Paragraph"))},t}(p3),d5=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t.prototype.toggleTab=function(e,t){this.props.onClick(e,t)},t.prototype.render=function(){var e=this;return W2(Q3||(Q3=m(['\n      <div class="','" aria-role="tabpanel">\n        ',"\n      </div>\n    "],['\n      <div class="','" aria-role="tabpanel">\n        ',"\n      </div>\n    "])),vn("tabs"),this.props.tabs.map((function(t){var n=t.name,r=t.text,o=e.props.activeTab===n;return W2(Z3||(Z3=m(['\n            <div\n              class="tab-item','"\n              onClick=','\n              aria-role="tab"\n              aria-label="','"\n              aria-selected="','"\n              tabindex="','"\n            >\n              ',"\n            </div>\n          "],['\n            <div\n              class="tab-item','"\n              onClick=','\n              aria-role="tab"\n              aria-label="','"\n              aria-selected="','"\n              tabindex="','"\n            >\n              ',"\n            </div>\n          "])),o?" active":"",(function(t){return e.toggleTab(t,n)}),NJ.get(r),o?"true":"false",o?"0":"-1",NJ.get(r))})))},t}(p3),p5="ui",f5=function(e){function t(t){var n=e.call(this,t)||this;return n.initialize=function(e){void 0===e&&(e="file");var t=n.refs.url;t.value="",n.refs.altText.value="",n.refs.file.value="",oe(t,"wrong"),n.setState({activeTab:e,file:null,fileNameElClassName:""})},n.execCommand=function(){"file"===n.state.activeTab?n.emitAddImageBlob():n.emitAddImage()},n.toggleTab=function(e,t){t!==n.state.activeTab&&n.initialize(t)},n.showFileSelectBox=function(){n.refs.file.click()},n.changeFile=function(e){var t=e.target.files;(null===t||void 0===t?void 0:t.length)&&n.setState({file:t[0]})},n.state={activeTab:"file",file:null,fileNameElClassName:""},n.tabs=[{name:"file",text:"File"},{name:"url",text:"URL"}],n}return p(t,e),t.prototype.emitAddImageBlob=function(){var e=this,t=this.refs.file.files,n=this.refs.altText,r=" wrong";if(null===t||void 0===t?void 0:t.length){r="";var o=t.item(0),i=function(t,r){return e.props.execCommand("addImage",{imageUrl:t,altText:r||n.value})};this.props.eventEmitter.emit("addImageBlobHook",o,i,p5)}this.setState({fileNameElClassName:r})},t.prototype.emitAddImage=function(){var e=this.refs.url,t=this.refs.altText,n=e.value,r=t.value||"image";oe(e,"wrong"),n.length?n&&this.props.execCommand("addImage",{imageUrl:n,altText:r}):Y(e,"wrong")},t.prototype.preventSelectStart=function(e){e.preventDefault()},t.prototype.updated=function(){this.props.show||this.initialize()},t.prototype.render=function(){var e=this,t=this.state,n=t.activeTab,r=t.file,o=t.fileNameElClassName;return W2(K3||(K3=m(['\n      <div aria-label="','">\n        <'," tabs="," activeTab="," onClick=",' />\n        <div style="display:','">\n          <label for="toastuiImageUrlInput">','</label>\n          <input\n            id="toastuiImageUrlInput"\n            type="text"\n            ref=','\n          />\n        </div>\n        <div style="display:',';position: relative;">\n          <label for="toastuiImageFileInput">','</label>\n          <span\n            class="',"",'"\n            onClick=',"\n            onSelectstart=","\n          >\n            ",'\n          </span>\n          <button\n            type="button"\n            class="','"\n            onClick=',"\n          >\n            ",'\n          </button>\n          <input\n            id="toastuiImageFileInput"\n            type="file"\n            accept="image/*"\n            onChange=',"\n            ref=",'\n          />\n        </div>\n        <label for="toastuiAltTextInput">','</label>\n        <input\n          id="toastuiAltTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "],['\n      <div aria-label="','">\n        <'," tabs="," activeTab="," onClick=",' />\n        <div style="display:','">\n          <label for="toastuiImageUrlInput">','</label>\n          <input\n            id="toastuiImageUrlInput"\n            type="text"\n            ref=','\n          />\n        </div>\n        <div style="display:',';position: relative;">\n          <label for="toastuiImageFileInput">','</label>\n          <span\n            class="',"",'"\n            onClick=',"\n            onSelectstart=","\n          >\n            ",'\n          </span>\n          <button\n            type="button"\n            class="','"\n            onClick=',"\n          >\n            ",'\n          </button>\n          <input\n            id="toastuiImageFileInput"\n            type="file"\n            accept="image/*"\n            onChange=',"\n            ref=",'\n          />\n        </div>\n        <label for="toastuiAltTextInput">','</label>\n        <input\n          id="toastuiAltTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "])),NJ.get("Insert image"),d5,this.tabs,n,this.toggleTab,"url"===n?"block":"none",NJ.get("Image URL"),(function(t){return e.refs.url=t}),"file"===n?"block":"none",NJ.get("Select image file"),vn("file-name"),r?" has-file":o,this.showFileSelectBox,this.preventSelectStart,r?r.name:NJ.get("No file"),vn("file-select-button"),this.showFileSelectBox,NJ.get("Choose a file"),this.changeFile,(function(t){return e.refs.file=t}),NJ.get("Description"),(function(t){return e.refs.altText=t}),vn("button-container"),vn("close-button"),this.props.hidePopup,NJ.get("Cancel"),vn("ok-button"),this.execCommand,NJ.get("OK"))},t}(p3),h5=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.execCommand=function(){var e=t.refs.url,n=t.refs.text;if(oe(e,"wrong"),oe(n,"wrong"),e.value.length<1)Y(e,"wrong");else{var r=j(t.props.initialValues.linkUrl);r&&n.value.length<1?Y(n,"wrong"):t.props.execCommand("addLink",{linkUrl:e.value,linkText:n.value})}},t}return p(t,e),t.prototype.initialize=function(){var e=this.props.initialValues,t=e.linkUrl,n=e.linkText,r=this.refs.url,o=this.refs.text;oe(r,"wrong"),oe(o,"wrong","disabled"),o.removeAttribute("disabled"),t&&(Y(o,"disabled"),o.setAttribute("disabled","disabled")),r.value=t||"",o.value=n||""},t.prototype.mounted=function(){this.initialize()},t.prototype.updated=function(e){!e.show&&this.props.show&&this.initialize()},t.prototype.render=function(){var e=this;return W2(Y3||(Y3=m(['\n      <div aria-label="','">\n        <label for="toastuiLinkUrlInput">','</label>\n        <input\n          id="toastuiLinkUrlInput"\n          type="text"\n          ref=','\n        />\n        <label for="toastuiLinkTextInput">','</label>\n        <input\n          id="toastuiLinkTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "],['\n      <div aria-label="','">\n        <label for="toastuiLinkUrlInput">','</label>\n        <input\n          id="toastuiLinkUrlInput"\n          type="text"\n          ref=','\n        />\n        <label for="toastuiLinkTextInput">','</label>\n        <input\n          id="toastuiLinkTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "])),NJ.get("Insert link"),NJ.get("URL"),(function(t){return e.refs.url=t}),NJ.get("Link text"),(function(t){return e.refs.text=t}),vn("button-container"),vn("close-button"),this.props.hidePopup,NJ.get("Cancel"),vn("ok-button"),this.execCommand,NJ.get("OK"))},t}(p3),m5=20,v5=20,g5=5,y5=14,b5=5,w5=9,k5=1,C5=1,x5=1,T5=function(e){function t(t){var n=e.call(this,t)||this;return n.extendSelectionRange=function(e){var t=e.pageX,r=e.pageY,o=t-n.offsetRect.left,i=r-n.offsetRect.top,a=n.getSelectionRangeByOffset(o,i);n.setState(f({},a))},n.execCommand=function(){n.props.execCommand("addTable",{rowCount:n.state.rowIdx+1,columnCount:n.state.colIdx+1})},n.state={rowIdx:-1,colIdx:-1},n}return p(t,e),t.prototype.getDescription=function(){return-1===this.state.colIdx?"":this.state.colIdx+1+" x "+(this.state.rowIdx+1)},t.prototype.getBoundByRange=function(e,t){return{width:(e+1)*m5,height:(t+1)*v5}},t.prototype.getRangeByOffset=function(e,t){return{colIdx:Math.floor(e/m5),rowIdx:Math.floor(t/v5)}},t.prototype.getTableRange=function(){var e=this.state,t=e.colIdx,n=e.rowIdx,r=Math.max(t,b5),o=Math.max(n,g5);return t>=b5&&r<w5&&(r+=1),n>=g5&&o<y5&&(o+=1),{colIdx:r+1,rowIdx:o+1}},t.prototype.getSelectionAreaBound=function(){var e=this.getBoundByRange(this.state.colIdx,this.state.rowIdx),t=e.width,n=e.height;return t||n?{width:t-x5,height:n-x5,display:"block"}:{display:"none"}},t.prototype.getSelectionRangeByOffset=function(e,t){var n=this.getRangeByOffset(e,t);return n.rowIdx=Math.min(Math.max(n.rowIdx,k5),y5),n.colIdx=Math.min(Math.max(n.colIdx,C5),w5),n},t.prototype.updated=function(){if(this.props.show){if(-1===this.state.colIdx&&-1===this.state.rowIdx){var e=this.refs.tableEl.getBoundingClientRect(),t=e.left,n=e.top;this.offsetRect={left:window.pageXOffset+t,top:window.pageYOffset+n}}}else this.setState({colIdx:-1,rowIdx:-1})},t.prototype.createTableArea=function(e){for(var t=e.colIdx,n=e.rowIdx,r=[],o=0;o<n;o+=1){for(var i=[],a=0;a<t;a+=1){var s=vn("table-cell")+(o>0?"":" header");i.push(W2(J3||(J3=m(['<div class="','"></div>'],['<div class="','"></div>'])),s))}r.push(W2(e5||(e5=m(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),vn("table-row"),i))}return W2(t5||(t5=m(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),vn("table"),r)},t.prototype.render=function(){var e=this,t=this.getTableRange(),n=this.getSelectionAreaBound();return W2(n5||(n5=m(['\n      <div aria-label="','">\n        <div\n          class="','"\n          ref=',"\n          onMousemove=","\n          onClick=","\n        >\n          ",'\n          <div class="','" style=','></div>\n        </div>\n        <p class="','">',"</p>\n      </div>\n    "],['\n      <div aria-label="','">\n        <div\n          class="','"\n          ref=',"\n          onMousemove=","\n          onClick=","\n        >\n          ",'\n          <div class="','" style=','></div>\n        </div>\n        <p class="','">',"</p>\n      </div>\n    "])),NJ.get("Insert table"),vn("table-selection"),(function(t){return e.refs.tableEl=t}),this.extendSelectionRange,this.execCommand,this.createTableArea(t),vn("table-selection-layer"),n,vn("table-description"),this.getDescription())},t}(p3),E5=function(e){function t(t){var n=e.call(this,t)||this;return t.eventEmitter.listen("closePopup",n.props.hidePopup),n}return p(t,e),t.prototype.mounted=function(){this.refs.el.appendChild(this.props.body)},t.prototype.render=function(){var e=this;return W2(r5||(r5=m(["<div ref=","></div>"],["<div ref=","></div>"])),(function(t){return e.refs.el=t}))},t}(p3);function M5(e){return k(e)?N5(e):e}function L5(){var e=document.createElement("label"),t=document.createElement("input"),n=document.createElement("span");e.className="scroll-sync active",t.type="checkbox",t.checked=!0,n.className="switch";var r=function(n){return t.addEventListener("change",(function(t){var r=t.target.checked;r?Y(e,"active"):oe(e,"active"),n("toggleScrollSync",{active:r})}))};return e.appendChild(t),e.appendChild(n),{name:"scrollSync",el:e,onMounted:r}}function N5(e){var t;switch(e){case"heading":t={name:"heading",className:"heading",tooltip:NJ.get("Headings"),state:"heading"};break;case"bold":t={name:"bold",className:"bold",command:"bold",tooltip:NJ.get("Bold"),state:"strong"};break;case"italic":t={name:"italic",className:"italic",command:"italic",tooltip:NJ.get("Italic"),state:"emph"};break;case"strike":t={name:"strike",className:"strike",command:"strike",tooltip:NJ.get("Strike"),state:"strike"};break;case"hr":t={name:"hr",className:"hrline",command:"hr",tooltip:NJ.get("Line"),state:"thematicBreak"};break;case"quote":t={name:"quote",className:"quote",command:"blockQuote",tooltip:NJ.get("Blockquote"),state:"blockQuote"};break;case"ul":t={name:"ul",className:"bullet-list",command:"bulletList",tooltip:NJ.get("Unordered list"),state:"bulletList"};break;case"ol":t={name:"ol",className:"ordered-list",command:"orderedList",tooltip:NJ.get("Ordered list"),state:"orderedList"};break;case"task":t={name:"task",className:"task-list",command:"taskList",tooltip:NJ.get("Task"),state:"taskList"};break;case"table":t={name:"table",className:"table",tooltip:NJ.get("Insert table"),state:"table"};break;case"image":t={name:"image",className:"image",tooltip:NJ.get("Insert image")};break;case"link":t={name:"link",className:"link",tooltip:NJ.get("Insert link")};break;case"code":t={name:"code",className:"code",command:"code",tooltip:NJ.get("Code"),state:"code"};break;case"codeblock":t={name:"codeblock",className:"codeblock",command:"codeBlock",tooltip:NJ.get("Insert CodeBlock"),state:"codeBlock"};break;case"indent":t={name:"indent",className:"indent",command:"indent",tooltip:NJ.get("Indent")};break;case"outdent":t={name:"outdent",className:"outdent",command:"outdent",tooltip:NJ.get("Outdent")};break;case"scrollSync":t=L5();break;case"more":t={name:"more",className:"more",tooltip:NJ.get("More")};break}return"scrollSync"!==t.name&&(t.className+=" "+vn("toolbar-icons")),t}function S5(e,t){var n=t.el,r=t.pos,o=t.popup,i=t.initialValues;switch(e){case"heading":return{render:function(e){return W2(o5||(o5=m(["<"," ..."," />"],["<"," ..."," />"])),c5,e)},className:vn("popup-add-heading"),fromEl:n,pos:r};case"link":return{render:function(e){return W2(i5||(i5=m(["<"," ..."," />"],["<"," ..."," />"])),h5,e)},className:vn("popup-add-link"),fromEl:n,pos:r,initialValues:i};case"image":return{render:function(e){return W2(a5||(a5=m(["<"," ..."," />"],["<"," ..."," />"])),f5,e)},className:vn("popup-add-image"),fromEl:n,pos:r};case"table":return{render:function(e){return W2(s5||(s5=m(["<"," ..."," />"],["<"," ..."," />"])),T5,e)},className:vn("popup-add-table"),fromEl:n,pos:r};case"customPopupBody":return o?f({render:function(e){return W2(l5||(l5=m(["<"," ..."," body="," />"],["<"," ..."," body="," />"])),E5,e,o.body)},fromEl:n,pos:r},o):null;default:return null}}function O5(e){e.hidden=e.length===e.filter((function(e){return e.hidden})).length}function I5(e,t){var n=function(e){return e.hidden="scrollSync"===e.name&&t,e};return e.reduce((function(e,t){e.push(t.map((function(e){return n(M5(e))})));var r=e[(e.length||1)-1];return r&&O5(r),e}),[])}function D5(e,t){e.forEach((function(e){e.forEach((function(e){return e.hidden="scrollSync"===e.name&&t})),O5(e)}))}var A5,P5,R5=20,H5=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleMousedown=function(e){Nn(e.target,"."+vn("popup"))||Nn(e.target,t.props.info.fromEl)||t.props.hidePopup()},t}return p(t,e),t.prototype.mounted=function(){document.addEventListener("mousedown",this.handleMousedown)},t.prototype.beforeDestroy=function(){document.removeEventListener("mousedown",this.handleMousedown)},t.prototype.updated=function(e){var t=this.props,n=t.show,r=t.info;if(n&&r.pos&&e.show!==n){var o=f({},r.pos),i=this.refs.el.offsetWidth,a=Nn(this.refs.el,"."+vn("toolbar")),s=a.offsetWidth;o.left+i>=s&&(o.left=s-i-R5),Ae(this.state.popupPos,o)||this.setState({popupPos:o})}},t.prototype.render=function(){var e=this,t=this.props,n=t.info,r=t.show,o=t.hidePopup,i=t.eventEmitter,a=t.execCommand,s=n||{},l=s.className,u=void 0===l?"":l,c=s.style,d=s.render,p=s.initialValues,h=void 0===p?{}:p,v=f(f({display:r?"block":"none"},c),this.state.popupPos);return W2(A5||(A5=m(['\n      <div\n        class="'," ",'"\n        style=',"\n        ref=",'\n        aria-role="dialog"\n      >\n        <div class="','">\n          ',"\n        </div>\n      </div>\n    "],['\n      <div\n        class="'," ",'"\n        style=',"\n        ref=",'\n        aria-role="dialog"\n      >\n        <div class="','">\n          ',"\n        </div>\n      </div>\n    "])),vn("popup"),u,v,(function(t){return e.refs.el=t}),vn("popup-body"),d&&d({eventEmitter:i,show:r,hidePopup:o,execCommand:a,initialValues:h}))},t}(p3),B5=6;function F5(e){return function(t){function n(e){var n=t.call(this,e)||this;return n.showTooltip=function(e){var t=n.props.item.tooltip;if(!n.props.disabled&&t){var r=n.getBound(e),o=r.left+B5+"px",i=r.top+B5+"px";P(n.props.tooltipRef.current,{display:"block",left:o,top:i}),n.props.tooltipRef.current.querySelector(".text").textContent=t}},n.hideTooltip=function(){P(n.props.tooltipRef.current,"display","none")},n.state={active:!1},n.addEvent(),n}return p(n,t),n.prototype.addEvent=function(){var e=this,t=this.props,n=t.item,r=t.eventEmitter;n.state&&r.listen("changeToolbarState",(function(t){var r=t.toolbarState,o=!!r[n.state];e.setState({active:o})}))},n.prototype.getBound=function(e){var t=Sn(e,Nn(e,"."+vn("toolbar"))),n=t.offsetLeft,r=t.offsetTop;return{left:n,top:e.offsetHeight+r}},n.prototype.render=function(){return W2(P5||(P5=m(["\n        <","\n          ...","\n          active=","\n          showTooltip=","\n          hideTooltip=","\n          getBound=","\n        />\n      "],["\n        <","\n          ...","\n          active=","\n          showTooltip=","\n          hideTooltip=","\n          getBound=","\n        />\n      "])),e,this.props,this.state.active,this.showTooltip,this.hideTooltip,this.getBound)},n}(p3)}var j5,q5,z5,V5,_5,U5,$5,W5,G5,X5,Z5,Q5,K5,Y5,J5=80,e4=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.execCommand=function(){var e=t.props,n=e.item,r=e.execCommand,o=e.setPopupInfo,i=e.getBound,a=n.command,s=n.name,l=n.popup;if(a)r(a);else{var u=l?"customPopupBody":s,c=S5(u,{el:t.refs.el,pos:i(t.refs.el),popup:l});c&&o(c)}},t}return p(t,e),t.prototype.mounted=function(){this.setItemWidth()},t.prototype.updated=function(e){e.item.name!==this.props.item.name&&this.setItemWidth()},t.prototype.setItemWidth=function(){var e=this.props,t=e.setItemWidth,n=e.item;t&&t(n.name,Ln(this.refs.el)+(n.hidden?J5:0))},t.prototype.render=function(){var e=this,t=this.props,n=t.hideTooltip,r=t.disabled,o=t.item,i=t.active,a=f({display:o.hidden?"none":null},o.style),s=(o.className||"")+(i?" active":"");return W2(j5||(j5=m(["\n      <button\n        ref=",'\n        type="button"\n        style=',"\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n        disabled=","\n        aria-label=","\n      >\n        ","\n      </button>\n    "],["\n      <button\n        ref=",'\n        type="button"\n        style=',"\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n        disabled=","\n        aria-label=","\n      >\n        ","\n      </button>\n    "])),(function(t){return e.refs.el=t}),a,s,this.execCommand,this.showTooltip,n,!!r,o.text||o.tooltip||"",o.text||"")},t}(p3),t4=F5(e4),n4=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.showPopup=function(){var e=S5("customPopupBody",{el:t.refs.el,pos:t.props.getBound(t.refs.el),popup:t.props.item.popup});e&&t.props.setPopupInfo(e)},t}return p(t,e),t.prototype.mounted=function(){var e=this.props,t=e.setItemWidth,n=e.item;this.refs.el.appendChild(n.el),t&&t(n.name,Ln(this.refs.el)),n.onMounted&&n.onMounted(this.props.execCommand)},t.prototype.updated=function(e){var t,n=this.props,r=n.item,o=n.active,i=n.disabled;e.active===o&&e.disabled===i||null===(t=r.onUpdated)||void 0===t||t.call(r,{active:o,disabled:i})},t.prototype.render=function(){var e=this,t=this.props,n=t.disabled,r=t.item,o={display:r.hidden?"none":"inline-block"},i=function(e){return n?null:e};return W2(q5||(q5=m(["\n      <div\n        ref=","\n        style=","\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n      ></div>\n    "],["\n      <div\n        ref=","\n        style=","\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n      ></div>\n    "])),(function(t){return e.refs.el=t}),o,vn("toolbar-item-wrapper"),i(this.showPopup),i(this.showTooltip),i(this.props.hideTooltip))},t}(p3),r4=F5(n4),o4=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.group,r=t.hiddenDivider,o=n.hidden?{display:"none"}:null,i=r?{display:"none"}:null;return W2(V5||(V5=m(['\n      <div class="','" style=',">\n        ",'\n        <div class="','" style=',"></div>\n      </div>\n    "],['\n      <div class="','" style=',">\n        ",'\n        <div class="','" style=',"></div>\n      </div>\n    "])),vn("toolbar-group"),o,n.map((function(t){var n=t.el?r4:t4;return W2(z5||(z5=m(["<"," key="," ..."," item="," />"],["<"," key="," ..."," item="," />"])),n,t.name,e.props,t)})),vn("toolbar-divider"),i)},t}(p3),i4=4,a4=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClickDocument=function(e){var t=e.target;Nn(t,"."+vn("dropdown-toolbar"))||Nn(t,".more")||n.setState({showDropdown:!1,dropdownPos:null})},n.showTooltip=function(){n.props.showTooltip(n.refs.el)},n.state={showDropdown:!1,dropdownPos:null},n}return p(t,e),t.prototype.getBound=function(){var e=this.props.getBound(this.refs.el);return e.top+=i4,f(f({},e),{left:null,right:10})},t.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},t.prototype.updated=function(){this.state.showDropdown&&!this.state.dropdownPos&&this.setState({dropdownPos:this.getBound()})},t.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},t.prototype.render=function(){var e=this,t=this.state,n=t.showDropdown,r=t.dropdownPos,o=this.props,i=o.disabled,a=o.item,s=o.items,l=o.hideTooltip,u=s.filter((function(e){return!e.hidden})),c=u.length?null:{display:"none"},d=n?null:{display:"none"};return W2(U5||(U5=m(['\n      <div class="','" style=',">\n        <button\n          ref=",'\n          type="button"\n          class=',"\n          onClick=","\n          onMouseover=","\n          onMouseout=","\n          disabled=",'\n        ></button>\n        <div\n          class="','"\n          style=',"\n          ref=","\n        >\n          ","\n        </div>\n      </div>\n    "],['\n      <div class="','" style=',">\n        <button\n          ref=",'\n          type="button"\n          class=',"\n          onClick=","\n          onMouseover=","\n          onMouseout=","\n          disabled=",'\n        ></button>\n        <div\n          class="','"\n          style=',"\n          ref=","\n        >\n          ","\n        </div>\n      </div>\n    "])),vn("toolbar-group"),c,(function(t){return e.refs.el=t}),a.className,(function(){return e.setState({showDropdown:!0})}),this.showTooltip,l,i,vn("dropdown-toolbar"),f(f({},d),r),(function(t){return e.refs.dropdownEl=t}),u.length?u.map((function(t,n){var r;return W2(_5||(_5=m(["\n                  <","\n                    group=","\n                    hiddenDivider=","\n                    ...","\n                  />\n                "],["\n                  <","\n                    group=","\n                    hiddenDivider=","\n                    ...","\n                  />\n                "])),o4,t,n===u.length-1||(null===(r=u[n+1])||void 0===r?void 0:r.hidden),e.props)})):null)},t}(p3),s4=F5(a4),l4=50,u4=function(e){function t(t){var n=e.call(this,t)||this;return n.toggleTab=function(e,t){var r=n.props.eventEmitter;if(n.state.activeTab!==t){var o="write"===t?"changePreviewTabWrite":"changePreviewTabPreview";r.emit(o),n.setState({activeTab:t})}},n.setItemWidth=function(e,t){n.itemWidthMap[e]=t},n.setPopupInfo=function(e){n.setState({showPopup:!0,popupInfo:e})},n.openPopup=function(e,t){void 0===t&&(t={});var r=document.querySelector("."+vn("toolbar-group")+" ."+e);if(r){var o=Sn(r,Nn(r,"."+vn("toolbar"))),i=o.offsetLeft,a=o.offsetTop,s=S5(e,{el:r,pos:{left:i,top:r.offsetHeight+a},initialValues:t});s&&n.setPopupInfo(s)}},n.hidePopup=function(){n.state.showPopup&&n.setState({showPopup:!1})},n.execCommand=function(e,t){var r=n.props.eventEmitter;r.emit("command",e,t),n.hidePopup()},n.tabs=[{name:"write",text:"Write"},{name:"preview",text:"Preview"}],n.itemWidthMap={},n.initialItems=I5(t.toolbarItems||[],n.hiddenScrollSync()),n.state={items:n.initialItems,dropdownItems:[],showPopup:!1,popupInfo:{},activeTab:"write"},n.tooltipRef={current:null},n.resizeObserver=new u5((function(){return n.handleResize()})),n.addEvent(),n}return p(t,e),t.prototype.insertToolbarItem=function(e,t){var n=e.groupIndex,r=e.itemIndex,o=this.initialItems[n];t=M5(t),o?o.splice(r,0,t):this.initialItems.push([t]),this.setState(this.classifyToolbarItems())},t.prototype.removeToolbarItem=function(e){var t=this;E(this.initialItems,(function(n){var r=!1;return E(n,(function(o,i){return o.name!==e||(r=!0,n.splice(i,1),t.setState(t.classifyToolbarItems()),!1)})),!r}))},t.prototype.addEvent=function(){var e=this,t=this.props.eventEmitter;this.handleResize=y3((function(){e.setState({items:e.initialItems,dropdownItems:[]}),e.setState(e.classifyToolbarItems())}),200),t.listen("openPopup",this.openPopup)},t.prototype.appendTooltipToRoot=function(){var e='<div class="'+vn("tooltip")+'" style="display:none">\n        <div class="arrow"></div>\n        <span class="text"></span>\n      </div>';this.tooltipRef.current=Mn(e,this.refs.el)},t.prototype.hiddenScrollSync=function(){return"wysiwyg"===this.props.editorType||"tab"===this.props.previewStyle},t.prototype.movePrevItemToDropdownToolbar=function(e,t,n,r){var o=function(e){var t=e.pop();t&&r.push(t)};if(e>1)o(n);else{var i=Pe(t);i&&o(i)}},t.prototype.classifyToolbarItems=function(){var e=this,t=0,n=this.refs.el.clientWidth,r=this.refs.el.querySelector("."+vn("toolbar-divider")),o=r?Ln(r):0,i=[],a=[],s=!1;return this.initialItems.forEach((function(r,l){var u=[],c=[];r.forEach((function(r,o){r.hidden||(t+=e.itemWidthMap[r.name],t>n-l4?(s||(e.movePrevItemToDropdownToolbar(o,i,u,c),s=!0),c.push(r)):u.push(r))})),u.length&&(O5(u),i.push(u)),c.length&&(O5(c),a.push(c)),l<e.state.items.length-1&&(t+=o)})),{items:i,dropdownItems:a}},t.prototype.mounted=function(){"tab"===this.props.previewStyle&&this.props.eventEmitter.emit("changePreviewTabWrite"),this.setState(this.classifyToolbarItems()),this.appendTooltipToRoot(),this.resizeObserver.observe(this.refs.el)},t.prototype.updated=function(e){var t=this.props,n=t.editorType,r=t.previewStyle,o=t.eventEmitter,i=r!==e.previewStyle,a=n!==e.editorType;if(i||a){D5(this.initialItems,this.hiddenScrollSync());var s=this.classifyToolbarItems();(i||"tab"===r&&"markdown"===n)&&(o.emit("changePreviewTabWrite"),s.activeTab="write"),this.setState(s)}},t.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.handleResize),this.resizeObserver.disconnect(),xn(this.tooltipRef.current)},t.prototype.render=function(){var e=this,t=this.props,n=t.previewStyle,r=t.eventEmitter,o=t.editorType,i=this.state,a=i.popupInfo,s=i.showPopup,l=i.activeTab,u=i.items,c=i.dropdownItems,d={eventEmitter:r,tooltipRef:this.tooltipRef,disabled:"markdown"===o&&"tab"===n&&"preview"===l,execCommand:this.execCommand,setPopupInfo:this.setPopupInfo},p="tab"===n?{borderTopLeftRadius:0}:null;return W2(W5||(W5=m(['\n      <div class="','">\n        <div\n          class="','"\n          style="display: ','"\n        >\n          <'," tabs="," activeTab="," onClick=",' />\n        </div>\n        <div\n          class="','"\n          ref=',"\n          style=","\n        >\n          ","\n          <","\n            item=","\n            items=","\n            ...","\n          />\n        </div>\n        <","\n          info=","\n          show=","\n          eventEmitter=","\n          hidePopup=","\n          execCommand=","\n        />\n      </div>\n    "],['\n      <div class="','">\n        <div\n          class="','"\n          style="display: ','"\n        >\n          <'," tabs="," activeTab="," onClick=",' />\n        </div>\n        <div\n          class="','"\n          ref=',"\n          style=","\n        >\n          ","\n          <","\n            item=","\n            items=","\n            ...","\n          />\n        </div>\n        <","\n          info=","\n          show=","\n          eventEmitter=","\n          hidePopup=","\n          execCommand=","\n        />\n      </div>\n    "])),vn("toolbar"),vn("md-tab-container"),"wysiwyg"===o||"vertical"===n?"none":"block",d5,this.tabs,l,this.toggleTab,vn("defaultUI-toolbar"),(function(t){return e.refs.el=t}),p,u.map((function(t,n){var r;return W2($5||($5=m(["\n              <","\n                group=","\n                hiddenDivider=","\n                setItemWidth=","\n                ...","\n              />\n            "],["\n              <","\n                group=","\n                hiddenDivider=","\n                setItemWidth=","\n                ...","\n              />\n            "])),o4,t,n===u.length-1||(null===(r=u[n+1])||void 0===r?void 0:r.hidden),e.setItemWidth,d)})),s4,M5("more"),c,d,H5,a,s,r,this.hidePopup,this.execCommand)},t}(p3),c4=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClickDocument=function(e){Nn(e.target,"."+vn("context-menu"))||n.setState({pos:null})},n.state={pos:null,menuGroups:[]},n.addEvent(),n}return p(t,e),t.prototype.addEvent=function(){var e=this;this.props.eventEmitter.listen("contextmenu",(function(t){var n=t.pos,r=t.menuGroups;e.setState({pos:n,menuGroups:r})}))},t.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},t.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},t.prototype.getMenuGroupElements=function(){var e=this,t=this.state,n=t.pos,r=t.menuGroups;return n?r.reduce((function(t,n){var r=[];return n.forEach((function(t){var n=t.label,o=t.className,i=void 0!==o&&o,a=t.disabled,s=t.onClick,l=function(){a||(s(),e.setState({pos:null}))};r.push(W2(G5||(G5=m(["\n                <li\n                  onClick=",'\n                  class="menu-item','"\n                  aria-role="menuitem"\n                >\n                  <span class="','">',"</span>\n                </li>\n              "],["\n                <li\n                  onClick=",'\n                  class="menu-item','"\n                  aria-role="menuitem"\n                >\n                  <span class="','">',"</span>\n                </li>\n              "])),l,a?" disabled":"",i,n))})),t.push(W2(X5||(X5=m(['<ul class="menu-group">\n              ',"\n            </ul>"],['<ul class="menu-group">\n              ',"\n            </ul>"])),r)),t}),[]):[]},t.prototype.render=function(){var e=f({display:this.state.pos?"block":"none"},this.state.pos);return W2(Z5||(Z5=m(['<div class="','" style=',' aria-role="menu">\n      ',"\n    </div>"],['<div class="','" style=',' aria-role="menu">\n      ',"\n    </div>"])),vn("context-menu"),e,this.getMenuGroupElements())},t}(p3),d4=function(e){function t(t){var n=e.call(this,t)||this;n.changeMode=function(e){e!==n.state.editorType&&n.setState({editorType:e})},n.changePreviewStyle=function(e){e!==n.state.previewStyle&&n.setState({previewStyle:e})},n.hide=function(){n.setState({hide:!0})},n.show=function(){n.setState({hide:!1})};var r=t.editorType,o=t.previewStyle;return n.state={editorType:r,previewStyle:o,hide:!1},n.addEvent(),n}return p(t,e),t.prototype.mounted=function(){var e=this.props.slots,t=e.wwEditor,n=e.mdEditor,r=e.mdPreview;this.refs.wwContainer.appendChild(t),this.refs.mdContainer.insertAdjacentElement("afterbegin",n),this.refs.mdContainer.appendChild(r)},t.prototype.insertToolbarItem=function(e,t){this.toolbar.insertToolbarItem(e,t)},t.prototype.removeToolbarItem=function(e){this.toolbar.removeToolbarItem(e)},t.prototype.render=function(){var e=this,t=this.props,n=t.eventEmitter,r=t.hideModeSwitch,o=t.toolbarItems,i=t.theme,a=this.state,s=a.hide,l=a.previewStyle,u=a.editorType,c=s?" hidden":"",d=vn("markdown"===u?"md-mode":"ww-mode"),p=vn("md")+"-"+l+"-style",f=vn(["light"!==i,i+" "]);return W2(K5||(K5=m(['\n      <div\n        class="',"","",'"\n        ref=',"\n      >\n        <","\n          ref=","\n          eventEmitter=","\n          previewStyle=","\n          toolbarItems=","\n          editorType=",'\n        />\n        <div\n          class="'," ",'"\n          ref=','\n        >\n          <div class="','">\n            <div\n              class="'," ",'"\n              ref=','\n            >\n              <div class="','"></div>\n            </div>\n            <div\n              class="','"\n              ref=',"\n            />\n          </div>\n        </div>\n        ","\n        <"," eventEmitter="," />\n      </div>\n    "],['\n      <div\n        class="',"","",'"\n        ref=',"\n      >\n        <","\n          ref=","\n          eventEmitter=","\n          previewStyle=","\n          toolbarItems=","\n          editorType=",'\n        />\n        <div\n          class="'," ",'"\n          ref=','\n        >\n          <div class="','">\n            <div\n              class="'," ",'"\n              ref=','\n            >\n              <div class="','"></div>\n            </div>\n            <div\n              class="','"\n              ref=',"\n            />\n          </div>\n        </div>\n        ","\n        <"," eventEmitter="," />\n      </div>\n    "])),f,vn("defaultUI"),c,(function(t){return e.refs.el=t}),u4,(function(t){return e.toolbar=t}),n,l,o,u,vn("main"),d,(function(t){return e.refs.editorSection=t}),vn("main-container"),vn("md-container"),p,(function(t){return e.refs.mdContainer=t}),vn("md-splitter"),vn("ww-container"),(function(t){return e.refs.wwContainer=t}),!r&&W2(Q5||(Q5=m(["<"," eventEmitter="," editorType="," />"],["<"," eventEmitter="," editorType="," />"])),f3,n,u),c4,n)},t.prototype.addEvent=function(){var e=this.props.eventEmitter;e.listen("hide",this.hide),e.listen("show",this.show),e.listen("changeMode",this.changeMode),e.listen("changePreviewStyle",this.changePreviewStyle)},t}(p3),p4=function(e){function t(t){var n,r,o=e.call(this,t)||this,i=c3(o.options.el,W2(Y5||(Y5=m(["\n        <","\n          ref=","\n          eventEmitter=","\n          slots=","\n          hideModeSwitch=","\n          toolbarItems=","\n          previewStyle=","\n          editorType=","\n          theme=","\n        />\n      "],["\n        <","\n          ref=","\n          eventEmitter=","\n          slots=","\n          hideModeSwitch=","\n          toolbarItems=","\n          previewStyle=","\n          editorType=","\n          theme=","\n        />\n      "])),d4,(function(e){return r=e}),o.eventEmitter,o.getEditorElements(),o.options.hideModeSwitch,o.options.toolbarItems,o.options.previewStyle,o.options.initialEditType,o.options.theme));return o.setMinHeight(o.options.minHeight),o.setHeight(o.options.height),o.defaultUI={insertToolbarItem:r.insertToolbarItem.bind(r),removeToolbarItem:r.removeToolbarItem.bind(r),destroy:i},null===(n=o.pluginInfo.toolbarItems)||void 0===n||n.forEach((function(e){var t=e.groupIndex,n=e.itemIndex,r=e.item;o.defaultUI.insertToolbarItem({groupIndex:t,itemIndex:n},r)})),o}return p(t,e),t.factory=function(e){return e.viewer?new x2(e):new t(e)},t.prototype.insertToolbarItem=function(e,t){this.defaultUI.insertToolbarItem(e,t)},t.prototype.removeToolbarItem=function(e){this.defaultUI.removeToolbarItem(e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.defaultUI.destroy()},t}(B2);B2.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file","Choose a file":"Choose a file","No file":"No file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row to up":"Add row to up","Add row to down":"Add row to down","Add column to left":"Add column to left","Add column to right":"Add column to right","Remove row":"Remove row","Remove column":"Remove column","Align column to left":"Align column to left","Align column to center":"Align column to center","Align column to right":"Align column to right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"}),t["a"]=p4}).call(this,n("c8ba"))}}]);