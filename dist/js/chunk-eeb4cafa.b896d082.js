(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eeb4cafa"],{"0fdb":function(t,e,i){"use strict";i("868c")},"2dad":function(t,e,i){},"3dd7":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"fullscreenContainer",class:{isDark:t.isDark}},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("fullscreen.fullscreenShow"),placement:"top"}},[e("div",{staticClass:"btn iconfont iconquanping",on:{click:t.toFullscreenShow}})]),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("fullscreen.fullscreenEdit"),placement:"top"}},[e("div",{staticClass:"btn iconfont iconquanping1",on:{click:t.toFullscreenEdit}})])],1)},a=[],n=i("ed08"),o={props:{mindMap:{type:Object},isDark:{type:Boolean}},data(){return{}},created(){document[n["c"]]=()=>{setTimeout(()=>{this.mindMap.resize()},1e3)}},methods:{toFullscreenShow(){Object(n["b"])(this.mindMap.el)},toFullscreenEdit(){Object(n["b"])(document.body)}}},l=o,c=(i("8cb6"),i("2877")),r=Object(c["a"])(l,s,a,!1,null,"f39d6434",null);e["a"]=r.exports},"6bf1":function(t,e,i){},"7e64":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("Sidebar",{ref:"sidebar",attrs:{title:t.$t("formulaSidebar.title")}},[e("div",{staticClass:"box",class:{isDark:t.isDark}},[e("div",{staticClass:"formulaInputBox"},[e("el-input",{attrs:{rows:4,resize:"none",type:"textarea",placeholder:t.$t("formulaSidebar.placeholder")},nativeOn:{keydown:function(t){t.stopPropagation()}},model:{value:t.formulaText,callback:function(e){t.formulaText=e},expression:"formulaText"}}),e("el-button",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{size:"small"},on:{click:t.confirm}},[t._v(t._s(t.$t("formulaSidebar.confirm")))])],1),e("div",{staticClass:"title"},[t._v(t._s(t.$t("formulaSidebar.common")))]),e("div",{staticClass:"formulaList customScrollbar"},t._l(t.list,(function(i,s){return e("div",{key:s,staticClass:"formulaItem"},[e("div",{staticClass:"overview",domProps:{innerHTML:t._s(i.overview)}}),e("div",{staticClass:"text",on:{click:function(e){t.formulaText=i.text}}},[t._v(" "+t._s(i.text)+" ")])])})),0)])])},a=[],n=(i("0643"),i("a573"),i("62a5")),o=i("2f62"),l=i("358c"),c={components:{Sidebar:n["a"]},props:{mindMap:{type:Object}},data(){return{formulaText:"",list:[]}},computed:{...Object(o["c"])({activeSidebar:t=>t.activeSidebar,isDark:t=>t.localConfig.isDark,localConfig:t=>t.localConfig})},watch:{activeSidebar(t){this.$refs.sidebar.show="formulaSidebar"===t}},created(){this.$bus.$on("node_active",this.handleNodeActive)},beforeDestroy(){this.$bus.$off("node_active",this.handleNodeActive)},mounted(){this.init()},methods:{...Object(o["b"])(["setActiveSidebar"]),init(){window.katex&&(this.list=l["a"].map(t=>({overview:window.katex.renderToString(t,this.mindMap.formula.getKatexConfig()),text:t})))},handleNodeActive(...t){this.activeNodes=[...t[1]],this.activeNodes.length<=0&&"formulaSidebar"===this.activeSidebar&&this.setActiveSidebar(null)},confirm(){if(!this.localConfig.openNodeRichText)return this.$message.warning(this.$t("formulaSidebar.tip"));let t=this.formulaText.trim();t&&this.mindMap.execCommand("INSERT_FORMULA",t)}}},r=c,d=(i("0fdb"),i("2877")),p=Object(d["a"])(r,s,a,!1,null,"26dc5709",null);e["a"]=p.exports},"868c":function(t,e,i){},"8cb6":function(t,e,i){"use strict";i("2dad")},b947:function(t,e,i){"use strict";i("6bf1")},d181:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("el-dialog",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"nodeExportDialog",class:{isMobile:t.isMobile,isDark:t.isDark},attrs:{title:t.$t("export.title"),visible:t.dialogVisible,"element-loading-text":t.loadingText,"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",width:t.isMobile?"90%":"800px",top:t.isMobile?"20px":"15vh"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("div",{staticClass:"exportContainer",class:{isDark:t.isDark}},[e("div",{staticClass:"downloadTypeSelectBox"},[e("div",{staticClass:"downloadTypeList customScrollbar"},t._l(t.downTypeList,(function(i){return e("div",{key:i.type,staticClass:"downloadTypeItem",class:{active:t.exportType===i.type},on:{click:function(e){t.exportType=i.type}}},[e("div",{staticClass:"typeIcon",class:[i.type]}),e("div",{staticClass:"name"},[t._v(t._s(i.name))]),e("div",{staticClass:"icon checked el-icon-check"})])})),0),e("div",{staticClass:"downloadTypeContent"},[e("div",{staticClass:"nameInputBox"},[e("div",{staticClass:"nameInput"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("export.filename")))]),e("el-input",{staticStyle:{"max-width":"250px"},attrs:{size:"mini"},nativeOn:{keydown:function(t){t.stopPropagation()}},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:"fileName"}})],1),e("span",{staticClass:"closeBtn el-icon-close",on:{click:t.cancel}})]),e("div",{staticClass:"contentBox customScrollbar"},[e("div",{staticClass:"contentRow"},[e("div",{staticClass:"contentName"},[t._v(t._s(t.$t("export.format")))]),e("div",{staticClass:"contentValue info"},[t._v(" "+t._s(t.currentTypeData?"."+t.currentTypeData.type:"")+" ")])]),e("div",{staticClass:"contentRow"},[e("div",{staticClass:"contentName"},[t._v(t._s(t.$t("export.desc")))]),e("div",{staticClass:"contentValue info"},[t._v(" "+t._s(t.currentTypeData?t.currentTypeData.desc:"")+" ")])]),e("div",{staticClass:"contentRow"},[e("div",{staticClass:"contentName"},[t._v(t._s(t.$t("export.options")))]),t.noOptions?e("div",{staticClass:"contentValue info"},[t._v("None")]):e("div",{staticClass:"contentValue"},[e("div",{directives:[{name:"show",rawName:"v-show",value:["smm","json"].includes(t.exportType),expression:"['smm', 'json'].includes(exportType)"}],staticClass:"valueItem"},[e("el-checkbox",{model:{value:t.widthConfig,callback:function(e){t.widthConfig=e},expression:"widthConfig"}},[t._v(t._s(t.$t("export.include")))])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:["svg","png","pdf"].includes(t.exportType),expression:"['svg', 'png', 'pdf'].includes(exportType)"}],staticClass:"valueItem"},[["png"].includes(t.exportType)?e("div",{staticClass:"valueSubItem"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("export.format")))]),e("el-radio-group",{model:{value:t.imageFormat,callback:function(e){t.imageFormat=e},expression:"imageFormat"}},[e("el-radio",{attrs:{label:"png"}},[t._v("PNG")])],1)],1):t._e(),e("div",{staticClass:"valueSubItem"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("export.paddingX")))]),e("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini"},on:{change:t.onPaddingChange},nativeOn:{keydown:function(t){t.stopPropagation()}},model:{value:t.paddingX,callback:function(e){t.paddingX=e},expression:"paddingX"}})],1),e("div",{staticClass:"valueSubItem"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("export.paddingY")))]),e("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini"},on:{change:t.onPaddingChange},nativeOn:{keydown:function(t){t.stopPropagation()}},model:{value:t.paddingY,callback:function(e){t.paddingY=e},expression:"paddingY"}})],1),e("div",{staticClass:"valueSubItem"},[e("span",{staticClass:"name"},[t._v(t._s(this.$t("export.addFooterText")))]),e("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:t.$t("export.addFooterTextPlaceholder")},nativeOn:{keydown:function(t){t.stopPropagation()}},model:{value:t.extraText,callback:function(e){t.extraText=e},expression:"extraText"}})],1),e("div",{staticClass:"valueSubItem"},[e("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:["png","pdf"].includes(t.exportType),expression:"['png', 'pdf'].includes(exportType)"}],model:{value:t.isTransparent,callback:function(e){t.isTransparent=e},expression:"isTransparent"}},[t._v(t._s(t.$t("export.isTransparent")))])],1),e("div",{staticClass:"valueSubItem"},[e("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.showFitBgOption,expression:"showFitBgOption"}],model:{value:t.isFitBg,callback:function(e){t.isFitBg=e},expression:"isFitBg"}},[t._v(t._s(t.$t("export.isFitBg")))])],1)])])])]),e("div",{staticClass:"btnList"},[e("el-button",{attrs:{size:"small"},on:{click:t.cancel}},[t._v(t._s(t.$t("dialog.cancel")))]),e("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.confirm}},[t._v(t._s(t.$t("export.confirm")))])],1)])])])])},a=[],n=(i("0643"),i("2382"),i("fffc"),i("2f62")),o=i("f121"),l=i("d17d");i("d4cd");var c={data(){return{dialogVisible:!1,exportType:"smm",fileName:this.$t("export.defaultFileName"),widthConfig:!0,isTransparent:!1,loading:!1,loadingText:"",paddingX:10,paddingY:10,extraText:"",isMobile:Object(l["X"])(),isFitBg:!0,imageFormat:"png"}},computed:{...Object(n["c"])({openNodeRichText:t=>t.localConfig.openNodeRichText,isDark:t=>t.localConfig.isDark}),downTypeList(){const t=o["i"][this.$i18n.locale]||o["i"].zh;return t.filter(t=>"mm"!==t.type&&"xlsx"!==t.type)},currentTypeData(){const t=this.downTypeList.find(t=>t.type===this.exportType);return t},showFitBgOption(){return["png","pdf"].includes(this.exportType)&&!this.isTransparent},noOptions(){return["md","xmind","txt","xlsx","mm"].includes(this.exportType)}},created(){this.$bus.$on("showExport",this.handleShowExport)},beforeDestroy(){this.$bus.$off("showExport",this.handleShowExport)},methods:{...Object(n["b"])(["setExtraTextOnExport"]),handleShowExport(){this.dialogVisible=!0},onPaddingChange(){this.$bus.$emit("paddingChange",{exportPaddingX:Number(this.paddingX),exportPaddingY:Number(this.paddingY)})},cancel(){this.dialogVisible=!1},confirm(){this.setExtraTextOnExport(this.extraText),"svg"===this.exportType?this.$bus.$emit("export",this.exportType,!0,this.fileName,"* {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n          }"):["smm","json"].includes(this.exportType)?this.$bus.$emit("export",this.exportType,!0,this.fileName,this.widthConfig):"png"===this.exportType?this.$bus.$emit("export",this.imageFormat,!0,this.fileName,this.isTransparent,null,this.isFitBg):"pdf"===this.exportType?this.$bus.$emit("export",this.exportType,!0,this.fileName,this.isTransparent,this.isFitBg):this.$bus.$emit("export",this.exportType,!0,this.fileName),this.$notify.info({title:this.$t("export.notifyTitle"),message:this.$t("export.notifyMessage")}),this.cancel()}}},r=c,d=(i("b947"),i("2877")),p=Object(d["a"])(r,s,a,!1,null,"376e7215",null);e["a"]=p.exports}}]);