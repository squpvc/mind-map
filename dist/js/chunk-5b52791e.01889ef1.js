(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b52791e"],{"0020":function(t,e,a){"use strict";var i=a("c871"),s=a("7bfe"),o=(a("0a74"),a("2877")),n=Object(o["a"])(s["default"],i["a"],i["b"],!1,null,"4235a1f0",null);e["default"]=n.exports},"0a74":function(t,e,a){"use strict";a("e0c5")},"15b8":function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("Sidebar",{ref:"sidebar",attrs:{title:t.$t("strusture.title")}},[e("div",{staticClass:"layoutGroupList",class:{isDark:t.isDark}},t._l(t.layoutGroupList,(function(a){return e("div",{key:a.name,staticClass:"laytouGroup"},[e("div",{staticClass:"groupName"},[t._v(t._s(a.name))]),e("div",{staticClass:"layoutList"},t._l(a.list,(function(a){return e("div",{key:a,staticClass:"layoutItem",class:{active:a===t.layout},on:{click:function(e){return t.useLayout(a)}}},[e("img",{attrs:{src:t.layoutImgMap[a],alt:""}})])})),0)])})),0)])},s=[],o=(a("0643"),a("a573"),a("62a5")),n=a("365c"),l=a("2f62"),r=a("358c"),c=a("f121"),d={components:{Sidebar:o["a"]},props:{mindMap:{type:Object}},data(){return{layoutImgMap:r["b"],layout:""}},computed:{...Object(l["c"])({isDark:t=>t.localConfig.isDark,activeSidebar:t=>t.activeSidebar}),layoutGroupList(){const t=c["m"][this.$i18n.locale]||c["m"].zh;return t.map(t=>{let e=[...t.list].filter(t=>!["rightFishbone","rightFishbone2"].includes(t));return{name:t.name,list:e}})}},watch:{activeSidebar(t){"structure"===t?(this.layout=this.mindMap.getLayout(),this.$refs.sidebar.show=!0):this.$refs.sidebar.show=!1}},methods:{useLayout(t){this.layout=t,this.mindMap.setLayout(t),Object(n["f"])({layout:t})}}},h=d,u=(a("2227"),a("2877")),p=Object(u["a"])(h,i,s,!1,null,"d33f713a",null);e["a"]=p.exports},2227:function(t,e,a){"use strict";a("5fc0")},"26c1":function(t,e,a){"use strict";a("50e8")},"2a71":function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("Sidebar",{ref:"sidebar",attrs:{title:t.$t("shortcutKey.title")}},[e("div",{staticClass:"box",class:{isDark:t.isDark}},t._l(t.shortcutKeyList,(function(a){return e("div",{key:a.type},[e("div",{staticClass:"title"},[t._v(t._s(a.type))]),t._l(a.list,(function(a){return e("div",{key:a.value,staticClass:"list"},[e("div",{staticClass:"item"},[a.icon?e("span",{staticClass:"icon iconfont",class:[a.icon]}):t._e(),e("span",{staticClass:"name",attrs:{title:a.name}},[t._v(t._s(a.name))]),e("div",{staticClass:"value",attrs:{title:a.value}},[t._v(t._s(a.value))])])])}))],2)})),0)])},s=[],o=a("62a5"),n=a("f121"),l=a("2f62"),r={components:{Sidebar:o["a"]},data(){return{}},computed:{...Object(l["c"])({isDark:t=>t.localConfig.isDark,activeSidebar:t=>t.activeSidebar}),shortcutKeyList(){return n["x"][this.$i18n.locale]||n["x"].zh}},watch:{activeSidebar(t){this.$refs.sidebar.show="shortcutKey"===t}}},c=r,d=(a("da57"),a("2877")),h=Object(d["a"])(c,i,s,!1,null,"4a76c703",null);e["a"]=h.exports},"2f5a":function(t,e,a){},3908:function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return n}));var i=a("5c96");let s=null;const o=()=>{s=i["Loading"].service({lock:!0})},n=()=>{s&&(s.close(),s=null)}},"3da3":function(t,e,a){},"50e8":function(t,e,a){},"54d6":function(t,e,a){},5651:function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"toolbarContainer",class:{isDark:t.isDark}},[e("div",{ref:"toolbarRef",staticClass:"toolbar"},[e("div",{staticClass:"toolbarBlock"},[e("ToolbarNodeBtnList",{attrs:{list:t.horizontalList}}),t.showMoreBtn?e("el-popover",{style:{marginLeft:t.horizontalList.length>0?"20px":0},attrs:{placement:"bottom-end",width:"120",trigger:"hover"},model:{value:t.popoverShow,callback:function(e){t.popoverShow=e},expression:"popoverShow"}},[e("ToolbarNodeBtnList",{attrs:{dir:"v",list:t.verticalList},nativeOn:{click:function(e){t.popoverShow=!1}}}),e("div",{staticClass:"toolbarBtn",attrs:{slot:"reference"},slot:"reference"},[e("span",{staticClass:"icon iconfont icongongshi"}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("toolbar.more")))])])],1):t._e()],1),e("div",{staticClass:"toolbarBlock"},[t.isMobile?t._e():e("div",{staticClass:"toolbarBtn",on:{click:t.openDirectory}},[e("span",{staticClass:"icon iconfont icondakai"}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("toolbar.directory")))])]),t.isMobile?t._e():e("el-tooltip",{attrs:{effect:"dark",content:t.$t("toolbar.newFileTip"),placement:"bottom"}},[e("div",{staticClass:"toolbarBtn",on:{click:t.createNewLocalFile}},[e("span",{staticClass:"icon iconfont iconxinjian"}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("toolbar.newFile")))])])]),t.isMobile?t._e():e("el-tooltip",{attrs:{effect:"dark",content:t.$t("toolbar.openFileTip"),placement:"bottom"}},[e("div",{staticClass:"toolbarBtn",on:{click:t.openLocalFile}},[e("span",{staticClass:"icon iconfont iconwenjian1"}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("toolbar.openFile")))])])]),t.isMobile?t._e():e("div",{staticClass:"toolbarBtn",on:{click:t.saveLocalFile}},[e("span",{staticClass:"icon iconfont iconlingcunwei"}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("toolbar.saveAs")))])]),e("div",{staticClass:"toolbarBtn",on:{click:function(e){return t.$bus.$emit("showImport")}}},[e("span",{staticClass:"icon iconfont icondaoru"}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("toolbar.import")))])]),e("div",{staticClass:"toolbarBtn",staticStyle:{"margin-right":"0"},on:{click:function(e){return t.$bus.$emit("showExport")}}},[e("span",{staticClass:"icon iconfont iconexport"}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("toolbar.export")))])]),t.fileTreeVisible?e("div",{staticClass:"fileTreeBox",class:{expand:t.fileTreeExpand}},[e("div",{staticClass:"fileTreeToolbar"},[e("div",{staticClass:"fileTreeName"},[t._v(" "+t._s(t.rootDirName?"/"+t.rootDirName:"")+" ")]),e("div",{staticClass:"fileTreeActionList"},[e("div",{staticClass:"btn",class:[t.fileTreeExpand?"el-icon-arrow-up":"el-icon-arrow-down"],on:{click:function(e){t.fileTreeExpand=!t.fileTreeExpand}}}),e("div",{staticClass:"btn el-icon-close",on:{click:function(e){t.fileTreeVisible=!1}}})])]),e("div",{staticClass:"fileTreeWrap"},[e("el-tree",{attrs:{props:t.fileTreeProps,load:t.loadFileTreeNode,"expand-on-click-node":!1,"node-key":"id",lazy:""},scopedSlots:t._u([{key:"default",fn:function({node:a,data:i}){return e("span",{staticClass:"customTreeNode"},[e("div",{staticClass:"treeNodeInfo"},[e("span",{staticClass:"treeNodeIcon iconfont",class:["file"===i.type?"iconwenjian":"icondakai"]}),e("span",{staticClass:"treeNodeName"},[t._v(t._s(a.label))])]),"file"===i.type?e("div",{staticClass:"treeNodeBtnList"},[i.enableEdit?e("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return t.editLocalFile(i)}}},[t._v("Edit")]):e("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return t.importLocalFile(i)}}},[t._v("Import")])],1):t._e()])}}],null,!1,786581449)})],1)]):t._e()],1)]),e("NodeImage"),e("NodeHyperlink"),e("NodeIcon"),e("NodeNote"),e("NodeTag"),e("Export"),e("Import",{ref:"ImportRef"})],1)},s=[],o=(a("d9e2"),a("14d9"),a("0643"),a("2382"),a("95e4")),n=a("102d"),l=a("5c9e"),r=a("4d6f"),c=a("0eab"),d=a("d181"),h=a("1819"),u=a("2f62"),p=a("5c96"),m=a("3708"),v=a("365c"),f=a("0020"),b=a("d17d");let y=null;const g=["back","forward","painter","siblingNode","childNode","deleteNode","image","icon","link","note","tag","summary","associativeLine","formula","outerFrame","annotation","ai"];var C={components:{NodeImage:o["a"],NodeHyperlink:n["a"],NodeIcon:l["a"],NodeNote:r["a"],NodeTag:c["a"],Export:d["a"],Import:h["a"],ToolbarNodeBtnList:f["default"]},data(){return{isMobile:Object(b["X"])(),horizontalList:[],verticalList:[],showMoreBtn:!0,popoverShow:!1,fileTreeProps:{label:"name",children:"children",isLeaf:"leaf"},fileTreeVisible:!1,rootDirName:"",fileTreeExpand:!0,waitingWriteToLocalFile:!1}},computed:{...Object(u["c"])({isDark:t=>t.localConfig.isDark,isHandleLocalFile:t=>t.isHandleLocalFile,openNodeRichText:t=>t.localConfig.openNodeRichText,enableAi:t=>t.localConfig.enableAi}),btnLit(){let t=[...g];return this.openNodeRichText||(t=t.filter(t=>"formula"!==t)),this.enableAi||(t=t.filter(t=>"ai"!==t)),t}},watch:{isHandleLocalFile(t){t||p["Notification"].closeAll()},btnLit:{deep:!0,handler(){this.computeToolbarShow()}}},created(){this.$bus.$on("write_local_file",this.onWriteLocalFile)},mounted(){this.computeToolbarShow(),this.computeToolbarShowThrottle=Object(b["wb"])(this.computeToolbarShow,300),window.addEventListener("resize",this.computeToolbarShowThrottle),this.$bus.$on("lang_change",this.computeToolbarShowThrottle),window.addEventListener("beforeunload",this.onUnload),this.$bus.$on("node_note_dblclick",this.onNodeNoteDblclick)},beforeDestroy(){this.$bus.$off("write_local_file",this.onWriteLocalFile),window.removeEventListener("resize",this.computeToolbarShowThrottle),this.$bus.$off("lang_change",this.computeToolbarShowThrottle),window.removeEventListener("beforeunload",this.onUnload),this.$bus.$off("node_note_dblclick",this.onNodeNoteDblclick)},methods:{computeToolbarShow(){if(!this.$refs.toolbarRef)return;const t=window.innerWidth-40,e=[...this.btnLit];let a=1;const i=()=>{if(a>e.length)return s();this.horizontalList=e.slice(0,a),this.$nextTick(()=>{const o=this.$refs.toolbarRef.getBoundingClientRect().width;o<t?(a++,i()):a>0&&o>t&&(a--,this.horizontalList=e.slice(0,a),s())})},s=()=>{this.verticalList=e.slice(a),this.showMoreBtn=this.verticalList.length>0};i()},onWriteLocalFile(t){clearTimeout(this.timer),y&&this.isHandleLocalFile&&(this.waitingWriteToLocalFile=!0),this.timer=setTimeout(()=>{this.writeLocalFile(t)},1e3)},onUnload(t){if(this.waitingWriteToLocalFile){const e="There is unsaved data";return t.returnValue=e,e}},async loadFileTreeNode(t,e){try{let a;0===t.level?(a=await window.showDirectoryPicker(),this.rootDirName=a.name):a=t.data.handle;const i=[],s=[];for await(const[t,e]of a.entries()){const a="file"===e.kind;if(a&&!/\.(smm|xmind|md|json)$/.test(e.name))continue;const o=a&&/\.smm$/.test(e.name),n={id:t,name:e.name,type:e.kind,handle:e,leaf:a,enableEdit:o};a?s.push(n):i.push(n)}e([...i,...s])}catch(a){if(console.log(a),this.fileTreeVisible=!1,e([]),a.toString().includes("aborted"))return;this.$message.warning(this.$t("toolbar.notSupportTip"))}},openDirectory(){this.fileTreeVisible=!1,this.fileTreeExpand=!0,this.rootDirName="",this.$nextTick(()=>{this.fileTreeVisible=!0})},editLocalFile(t){t.handle&&(y=t.handle,this.readFile())},async importLocalFile(t){try{const e=await t.handle.getFile();this.$refs.ImportRef.onChange({raw:e,name:e.name}),this.$refs.ImportRef.confirm()}catch(e){console.log(e)}},async openLocalFile(){try{let[t]=await window.showOpenFilePicker({types:[{description:"",accept:{"application/json":[".smm"]}}],excludeAcceptAllOption:!0,multiple:!1});if(!t)return;if(y=t,"directory"===y.kind)return void this.$message.warning(this.$t("toolbar.selectFileTip"));this.readFile()}catch(t){if(console.log(t),t.toString().includes("aborted"))return;this.$message.warning(this.$t("toolbar.notSupportTip"))}},async readFile(){let t=await y.getFile(),e=new FileReader;e.onload=async()=>{this.$store.commit("setIsHandleLocalFile",!0),this.setData(e.result),p["Notification"].closeAll(),Object(p["Notification"])({title:this.$t("toolbar.tip"),message:`${this.$t("toolbar.editingLocalFileTipFront")}${t.name}${this.$t("toolbar.editingLocalFileTipEnd")}`,duration:0,showClose:!0})},e.readAsText(t)},setData(t){try{let e=JSON.parse(t);if("object"!==typeof e)throw new Error(this.$t("toolbar.fileContentError"));e.root?this.isFullDataFile=!0:(this.isFullDataFile=!1,e={...m["a"],root:e}),this.$bus.$emit("setData",e)}catch(e){console.log(e),this.$message.error(this.$t("toolbar.fileOpenFailed"))}},async writeLocalFile(t){if(!y||!this.isHandleLocalFile)return void(this.waitingWriteToLocalFile=!1);this.isFullDataFile||(t=t.root);let e=JSON.stringify(t);const a=await y.createWritable();await a.write(e),await a.close(),this.waitingWriteToLocalFile=!1},async createNewLocalFile(){await this.createLocalFile(m["a"])},async saveLocalFile(){let t=Object(v["b"])();await this.createLocalFile(t)},async createLocalFile(t){try{let e=await window.showSaveFilePicker({types:[{description:"",accept:{"application/json":[".smm"]}}],suggestedName:this.$t("toolbar.defaultFileName")});if(!e)return;const a=this.$loading({lock:!0,text:this.$t("toolbar.creatingTip"),spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});y=e,this.$store.commit("setIsHandleLocalFile",!0),this.isFullDataFile=!0,await this.writeLocalFile(t),await this.readFile(),a.close()}catch(e){if(console.log(e),e.toString().includes("aborted"))return;this.$message.warning(this.$t("toolbar.notSupportTip"))}},onNodeNoteDblclick(t,e){e.stopPropagation(),this.$bus.$emit("showNodeNote",t)}}},w=C,_=(a("a980"),a("2877")),k=Object(_["a"])(w,i,s,!1,null,"ac62f46e",null);e["a"]=k.exports},"574f":function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sidebarTriggerContainer",class:{hasActive:t.show&&t.activeSidebar,show:t.show,isDark:t.isDark},style:{maxHeight:t.maxHeight+"px"},on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"toggleShowBtn",class:{hide:!t.show},on:{click:function(e){t.show=!t.show}}},[e("span",{staticClass:"iconfont iconjiantouyou"})]),e("div",{staticClass:"trigger customScrollbar"},t._l(t.triggerList,(function(a){return e("div",{key:a.value,staticClass:"triggerItem",class:{active:t.activeSidebar===a.value},on:{click:function(e){return t.trigger(a)}}},[e("div",{staticClass:"triggerIcon iconfont",class:[a.icon]}),e("div",{staticClass:"triggerName"},[t._v(t._s(a.name))])])})),0)])},s=[],o=(a("0643"),a("2382"),a("2f62")),n=a("f121"),l={data(){return{show:!0,maxHeight:0}},computed:{...Object(o["c"])({isDark:t=>t.localConfig.isDark,activeSidebar:t=>t.activeSidebar,isReadonly:t=>t.isReadonly,enableAi:t=>t.localConfig.enableAi}),triggerList(){let t=n["y"][this.$i18n.locale]||n["y"].zh;return this.isReadonly&&(t=t.filter(t=>["outline","shortcutKey","ai"].includes(t.value))),this.enableAi||(t=t.filter(t=>"ai"!==t.value)),t}},watch:{isReadonly(t){t&&this.setActiveSidebar(null)}},created(){window.addEventListener("resize",this.onResize),this.updateSize()},beforeDestroy(){window.removeEventListener("resize",this.onResize)},methods:{...Object(o["b"])(["setActiveSidebar"]),trigger(t){this.setActiveSidebar(t.value)},onResize(){this.updateSize()},updateSize(){const t=110,e=80;this.maxHeight=window.innerHeight-t-e}}},r=l,c=(a("26c1"),a("2877")),d=Object(c["a"])(r,i,s,!1,null,"cb66782c",null);e["a"]=d.exports},"5fc0":function(t,e,a){},"623f":function(t,e,a){"use strict";a("b493")},"62a5":function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sidebarContainer",class:{show:t.show,isDark:t.isDark},style:{zIndex:t.zIndex},on:{click:function(t){t.stopPropagation()}}},[e("span",{staticClass:"closeBtn el-icon-close",on:{click:t.close}}),t.title?e("div",{staticClass:"sidebarHeader"},[t._v(" "+t._s(t.title)+" ")]):t._e(),e("div",{ref:"sidebarContent",staticClass:"sidebarContent customScrollbar"},[t._t("default")],2)])},s=[],o=a("f121"),n=a("2f62"),l={props:{title:{type:String,default:""}},data(){return{show:!1,zIndex:0}},computed:{...Object(n["c"])({isDark:t=>t.localConfig.isDark})},watch:{show(t,e){t&&!e&&(this.zIndex=o["z"].sidebarZIndex++)}},created(){this.$bus.$on("closeSideBar",this.handleCloseSidebar)},beforeDestroy(){this.$bus.$off("closeSideBar",this.handleCloseSidebar)},methods:{...Object(n["b"])(["setActiveSidebar"]),handleCloseSidebar(){this.close()},close(){this.show=!1,this.setActiveSidebar(null)},getEl(){return this.$refs.sidebarContent}}},r=l,c=(a("d27c"),a("2877")),d=Object(c["a"])(r,i,s,!1,null,"edc2f626",null);e["a"]=d.exports},"6cec":function(t,e,a){"use strict";a("d9e2"),a("0643"),a("2382"),a("4e3e"),a("a573");class i{constructor(t={}){this.options=t,this.provider=null,this.baseData={},this.controller=null,this.currentChunk="",this.content=""}init(t="volcano",e={}){switch(this.provider=t,t){case"volcano":this.baseData={api:e.api,method:e.method||"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.key},data:{model:e.model||"volc-ark",stream:!0}};break;case"openai":this.baseData={api:e.api||"https://api.openai.com/v1/chat/completions",method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.key},data:{model:e.model||"gpt-3.5-turbo",stream:!0}};break;case"deepseek":this.baseData={api:e.api||"https://api.deepseek.com/v1/chat/completions",method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.key},data:{model:e.model||"deepseek-chat",stream:!0}};break;default:throw new Error("Unsupported AI provider: "+t)}}async request(t,e=(()=>{}),a=(()=>{}),i=(()=>{})){try{const i=await this.postMsg(t),s=new TextDecoder;while(1){const{done:t,value:o}=await i.read();if(t)return;const n=s.decode(o);let l=this.handleChunkData(n);if(this.currentChunk)continue;let r=!1;const c=l.split("\n").filter(t=>(r=t.includes("[DONE]"),!!t&&!r)).map(t=>{try{return JSON.parse(t.replace(/^data:/,""))}catch(e){return console.error("Error parsing chunk:",t),null}}).filter(Boolean);c.forEach(t=>{"volcano"===this.provider?this.content+=t.choices.map(t=>{var e;return(null===(e=t.delta)||void 0===e?void 0:e.content)||""}).join(""):"openai"!==this.provider&&"deepseek"!==this.provider||(this.content+=t.choices.map(t=>{var e;return(null===(e=t.delta)||void 0===e?void 0:e.content)||""}).join(""))}),e(this.content),r&&a(this.content)}}catch(s){console.log(s),s&&"AbortError"===s.name||i(s)}}async postMsg(t){this.controller=new AbortController;const e={...this.baseData,data:{...this.baseData.data,...t}};"openai"!==this.provider&&"deepseek"!==this.provider||(t.messages?e.data.messages=t.messages:t.prompt&&(e.data.messages=[{role:"user",content:t.prompt}]));const a=await fetch(`http://localhost:${this.options.port}/ai/chat`,{signal:this.controller.signal,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(a.status&&200!==a.status){const t=await a.json().catch(()=>({}));throw new Error(t.message||"Request failed")}return a.body.getReader()}handleChunkData(t){return t=t.trim(),this.currentChunk&&(t=this.currentChunk+t,this.currentChunk=""),t.includes("[DONE]")||"}"!==t[t.length-1]&&(this.currentChunk=t),t}stop(){this.controller.abort(),this.controller=new AbortController}}e["a"]=i},"7bfe":function(t,e,a){"use strict";var i=a("c5a1"),s=a.n(i);e["default"]=s.a},8660:function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("Sidebar",{ref:"sidebar",attrs:{title:t.$t("theme.title")}},[e("div",{staticClass:"themeGroupList",class:{isDark:t.isDark}},[e("el-tabs",{staticClass:"tabBox",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.groupList,(function(t){return e("el-tab-pane",{key:t.name,attrs:{label:t.name,name:t.name}})})),1),e("div",{staticClass:"themeListTheme customScrollbar"},t._l(t.currentList,(function(a){return e("div",{key:a.value,staticClass:"themeItem",class:{active:a.value===t.theme},on:{click:function(e){return t.useTheme(a)}}},[e("div",{staticClass:"imgBox"},[e("img",{attrs:{src:a.img||t.themeImgMap[a.value],alt:""}})]),e("div",{staticClass:"name"},[t._v(t._s(a.name))])])})),0)],1)])},s=[],o=(a("14d9"),a("0643"),a("2382"),a("fffc"),a("4e3e"),a("62a5")),n=a("365c"),l=a("2f62"),r=a("bc06"),c=a("0805"),d={components:{Sidebar:o["a"]},props:{data:{type:[Object,null],default:null},mindMap:{type:Object}},data(){return{themeList:[{name:"Default Theme",value:"default",dark:!1},...c["a"]].reverse(),themeImgMap:r["a"],theme:"",activeName:"",defaultGroupList:[]}},computed:{...Object(l["c"])({isDark:t=>t.localConfig.isDark,activeSidebar:t=>t.activeSidebar,extendThemeGroupList:t=>t.extendThemeGroupList}),groupList(){return[...this.defaultGroupList,...this.extendThemeGroupList]},currentList(){return this.groupList.find(t=>t.name===this.activeName).list}},watch:{activeSidebar(t){"theme"===t?(this.theme=this.mindMap.getTheme(),this.$refs.sidebar.show=!0):this.$refs.sidebar.show=!1}},created(){this.initGroup(),this.theme=this.mindMap.getTheme(),this.mindMap.on("view_theme_change",this.handleViewThemeChange)},beforeDestroy(){this.mindMap.off("view_theme_change",this.handleViewThemeChange)},methods:{...Object(l["b"])(["setLocalConfig"]),handleViewThemeChange(){this.theme=this.mindMap.getTheme(),this.handleDark()},initGroup(){const t=["default","skyGreen","classic2","classic3","classicGreen","classicBlue","blueSky","brainImpairedPink","earthYellow","freshGreen","freshRed","romanticPurple","pinkGrape","mint"],e=[],a=[];this.themeList.forEach(i=>{t.includes(i.value)?e.push(i):i.dark||a.push(i)}),this.defaultGroupList=[{name:this.$t("theme.classics"),list:a},{name:this.$t("theme.dark"),list:this.themeList.filter(t=>t.dark)},{name:this.$t("theme.simple"),list:e}],this.activeName=this.defaultGroupList[0].name},useTheme(t){if(t.value===this.theme)return;this.theme=t.value,this.handleDark();const e=this.mindMap.getCustomThemeConfig(),a=Object.keys(e).length>0;a?this.$confirm(this.$t("theme.coverTip"),this.$t("theme.tip"),{confirmButtonText:this.$t("theme.cover"),cancelButtonText:this.$t("theme.reserve"),type:"warning",distinguishCancelAndClose:!0,callback:a=>{"confirm"===a?(this.mindMap.setThemeConfig({},!0),this.data.theme.config={},this.changeTheme(t,{})):"cancel"===a&&this.changeTheme(t,e)}}):this.changeTheme(t,e)},changeTheme(t,e){this.$bus.$emit("showLoading"),this.mindMap.setTheme(t.value),Object(n["f"])({theme:{template:t.value,config:e}})},handleDark(){const t=[];this.extendThemeGroupList.forEach(e=>{t.push(...e.list)});let e=[...this.themeList,...t].find(t=>t.value===this.theme);this.setLocalConfig({isDark:e.dark})}}},h=d,u=(a("c444"),a("2877")),p=Object(u["a"])(h,i,s,!1,null,"9893e35a",null);e["a"]=p.exports},9730:function(t,e,a){},a980:function(t,e,a){"use strict";a("eb6b")},b493:function(t,e,a){},c444:function(t,e,a){"use strict";a("9730")},c5a1:function(t,e){},c871:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return s}));var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"toolbarNodeBtnList",class:[t.dir,{isDark:t.isDark}]},[t._l(t.list,(function(a){return["back"===a?e("div",{staticClass:"toolbarBtn",class:{disabled:t.readonly||t.backEnd},on:{click:function(e){return t.$bus.$emit("execCommand","BACK")}}},[e("span",{staticClass:"icon iconfont iconhoutui-shi"}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("toolbar.undo")))])]):t._e(),"forward"===a?e("div",{staticClass:"toolbarBtn",class:{disabled:t.readonly||t.forwardEnd},on:{click:function(e){return t.$bus.$emit("execCommand","FORWARD")}}},[e("span",{staticClass:"icon iconfont iconqianjin1"}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("toolbar.redo")))])]):t._e(),"painter"===a?e("div",{staticClass:"toolbarBtn",class:{disabled:t.activeNodes.length<=0||t.hasGeneralization,active:t.isInPainter},on:{click:function(e){return t.$bus.$emit("startPainter")}}},[e("span",{staticClass:"icon iconfont iconjiedian"}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("toolbar.painter")))])]):t._e(),"siblingNode"===a?e("div",{staticClass:"toolbarBtn",class:{disabled:t.activeNodes.length<=0||t.hasRoot||t.hasGeneralization},on:{click:function(e){return t.$bus.$emit("execCommand","INSERT_NODE")}}},[e("span",{staticClass:"icon iconfont iconjiedian"}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("toolbar.insertSiblingNode")))])]):t._e(),"childNode"===a?e("div",{staticClass:"toolbarBtn",class:{disabled:t.activeNodes.length<=0||t.hasGeneralization},on:{click:function(e){return t.$bus.$emit("execCommand","INSERT_CHILD_NODE")}}},[e("span",{staticClass:"icon iconfont icontianjiazijiedian"}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("toolbar.insertChildNode")))])]):t._e(),"deleteNode"===a?e("div",{staticClass:"toolbarBtn",class:{disabled:t.activeNodes.length<=0},on:{click:function(e){return t.$bus.$emit("execCommand","REMOVE_NODE")}}},[e("span",{staticClass:"icon iconfont iconshanchu"}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("toolbar.deleteNode")))])]):t._e(),"image"===a?e("div",{staticClass:"toolbarBtn",class:{disabled:t.activeNodes.length<=0},on:{click:function(e){return t.$bus.$emit("showNodeImage")}}},[e("span",{staticClass:"icon iconfont iconimage"}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("toolbar.image")))])]):t._e(),"icon"===a?e("div",{staticClass:"toolbarBtn",class:{disabled:t.activeNodes.length<=0},on:{click:t.showNodeIcon}},[e("span",{staticClass:"icon iconfont iconxiaolian"}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("toolbar.icon")))])]):t._e(),"link"===a?e("div",{staticClass:"toolbarBtn",class:{disabled:t.activeNodes.length<=0},on:{click:function(e){return t.$bus.$emit("showNodeLink")}}},[e("span",{staticClass:"icon iconfont iconchaolianjie"}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("toolbar.link")))])]):t._e(),"note"===a?e("div",{staticClass:"toolbarBtn",class:{disabled:t.activeNodes.length<=0},on:{click:function(e){return t.$bus.$emit("showNodeNote")}}},[e("span",{staticClass:"icon iconfont iconflow-Mark"}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("toolbar.note")))])]):t._e(),"tag"===a?e("div",{staticClass:"toolbarBtn",class:{disabled:t.activeNodes.length<=0},on:{click:function(e){return t.$bus.$emit("showNodeTag")}}},[e("span",{staticClass:"icon iconfont iconbiaoqian"}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("toolbar.tag")))])]):t._e(),"summary"===a?e("div",{staticClass:"toolbarBtn",class:{disabled:t.activeNodes.length<=0||t.hasRoot||t.hasGeneralization},on:{click:function(e){return t.$bus.$emit("execCommand","ADD_GENERALIZATION")}}},[e("span",{staticClass:"icon iconfont icongaikuozonglan"}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("toolbar.summary")))])]):t._e(),"associativeLine"===a?e("div",{staticClass:"toolbarBtn",class:{disabled:t.activeNodes.length<=0||t.hasGeneralization},on:{click:function(e){return t.$bus.$emit("createAssociativeLine")}}},[e("span",{staticClass:"icon iconfont iconlianjiexian"}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("toolbar.associativeLine")))])]):t._e(),"formula"===a?e("div",{staticClass:"toolbarBtn",class:{disabled:t.activeNodes.length<=0||t.hasGeneralization},on:{click:t.showFormula}},[e("span",{staticClass:"icon iconfont icongongshi"}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("toolbar.formula")))])]):t._e(),"attachment"===a?e("div",{staticClass:"toolbarBtn",class:{disabled:t.activeNodes.length<=0||t.hasGeneralization},on:{click:t.selectAttachmentFile}},[e("span",{staticClass:"icon iconfont iconfujian"}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("toolbar.attachment")))])]):t._e(),"outerFrame"===a?e("div",{staticClass:"toolbarBtn",class:{disabled:t.activeNodes.length<=0||t.hasGeneralization},on:{click:function(e){return t.$bus.$emit("execCommand","ADD_OUTER_FRAME")}}},[e("span",{staticClass:"icon iconfont iconwaikuang"}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("toolbar.outerFrame")))])]):t._e(),"ai"===a?e("el-dropdown",{attrs:{trigger:"click",placement:"bottom","popper-class":"ai-model-dropdown"},on:{command:t.handleAiCommand}},[e("div",{staticClass:"toolbarBtn ai-toolbar-btn"},[e("span",{staticClass:"icon iconfont iconAI"}),e("span",{staticClass:"text"},[t._v(t._s(t.currentAiModel?t.currentAiModel.name:t.$t("ai.ai")))]),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e("el-dropdown-menu",{staticClass:"ai-model-menu",attrs:{slot:"dropdown"},slot:"dropdown"},[e("div",{staticClass:"ai-model-header"},[e("span",[t._v(t._s(t.$t("ai.selectModel")))])]),t._l(t.availableAiModels,(function(a){return e("el-dropdown-item",{key:a.id,staticClass:"ai-model-item",class:{"is-active":t.isCurrentAiModel(a.id)},attrs:{command:{type:"selectModel",model:a}}},[e("div",{staticClass:"ai-model-item-content"},[e("span",{staticClass:"ai-model-name"},[t._v(t._s(a.name))]),e("span",{staticClass:"ai-model-provider"},[t._v(t._s(a.provider))]),t.isCurrentAiModel(a.id)?e("i",{staticClass:"el-icon-check"}):t._e()])])})),e("el-dropdown-item",{staticClass:"ai-model-settings",attrs:{divided:"",command:{type:"openSettings"}}},[e("i",{staticClass:"el-icon-setting"}),e("span",[t._v(t._s(t.$t("ai.settings")))])])],2)],1):t._e()]}))],2)},s=[]},d27c:function(t,e,a){"use strict";a("2f5a")},da57:function(t,e,a){"use strict";a("3da3")},e0c5:function(t,e,a){},e1ba:function(t,e,a){"use strict";a("14d9"),a("0643"),a("4e3e");var i=a("d17d");const s=async t=>{try{try{Array.isArray(t)||(t=String(t).replace("￿\ufeff",""),t=JSON.parse(t))}catch(e){console.log(e)}Array.isArray(t)||(t=[]);const a=[],s=[],o=(t,a)=>{t.forEach(async t=>{let n={};if(a.push(n),n.data={text:t.data.text,hyperlink:t.data.hyperlink,hyperlinkTitle:t.data.hyperlinkTitle,note:t.data.note},t.data.image){let a=null,o=new Promise(t=>{a=t});s.push(o);try{n.data.image=await Object(i["W"])(t.data.image),n.data.imageSize=t.data.imageSize,a()}catch(e){a()}}if(n.children=[],t.children&&t.children.length>0){const e=[];t.children.forEach(t=>{"generalize"===t.data.type?n.data.generalization=[{text:t.data.text}]:e.push(t)}),o(e,n.children)}})};return o(t,a),await Promise.all(s),{simpleMindMap:!0,data:a}}catch(e){return""}},o=async t=>{try{let e=JSON.parse(t);if(void 0!==e.__c_zx_v){const t=await s(e.children);return t}}catch(e){}if(t.includes("￿\ufeff")){const e=await s(t);return e}return""};e["a"]=o},e305:function(t,e,a){"use strict";a("54d6")},eb6b:function(t,e,a){},ed08:function(t,e,a){"use strict";a.d(e,"c",(function(){return s})),a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return n})),a.d(e,"e",(function(){return l})),a.d(e,"f",(function(){return r})),a.d(e,"d",(function(){return c}));a("0643"),a("4e3e");const i=()=>document.documentElement.requestFullScreen?"onfullscreenchange":document.documentElement.webkitRequestFullScreen?"onwebkitfullscreenchange":document.documentElement.mozRequestFullScreen?"onmozfullscreenchange":document.documentElement.msRequestFullscreen?"onmsfullscreenchange":void 0,s=i(),o=t=>{t.requestFullScreen?t.requestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen&&t.mozRequestFullScreen()},n=t=>{const e=document.createElement("textarea");e.innerHTML=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)},l=t=>{navigator.clipboard&&navigator.clipboard.writeText&&navigator.clipboard.writeText(t)},r=t=>{if(navigator.clipboard&&navigator.clipboard.write){const e=[new ClipboardItem({["image/png"]:t})];navigator.clipboard.write(e)}},c=t=>{const e=t.outerHTML,a=document.createElement("iframe");a.setAttribute("style","position: absolute; width: 0; height: 0;"),document.body.appendChild(a);const i=a.contentWindow.document,s=document.querySelectorAll("style");Array.from(s).forEach(t=>{i.write(t.outerHTML)}),i.write('<style media="print">@page {size: portrait;}</style>'),i.write("<div>"+e+"</div>"),setTimeout((function(){var t;null===(t=a.contentWindow)||void 0===t||t.print(),document.body.removeChild(a)}),500)}},f319:function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("Sidebar",{ref:"sidebar",attrs:{title:t.$t("style.title")}},[t.activeNodes.length>0?e("div",{staticClass:"styleBox",class:{isDark:t.isDark}},[e("div",{staticClass:"sidebarContent customScrollbar"},[e("div",{staticClass:"title noTop"},[t._v(t._s(t.$t("style.text")))]),e("div",{staticClass:"row"},[e("div",{staticClass:"rowItem"},[e("el-select",{staticStyle:{width:"100px"},attrs:{size:"mini",placeholder:""},on:{change:function(e){return t.update("fontFamily")}},model:{value:t.style.fontFamily,callback:function(e){t.$set(t.style,"fontFamily",e)},expression:"style.fontFamily"}},t._l(t.fontFamilyList,(function(t){return e("el-option",{key:t.value,style:{fontFamily:t.value},attrs:{label:t.name,value:t.value}})})),1)],1),e("div",{staticClass:"rowItem"},[e("el-select",{staticStyle:{width:"60px"},attrs:{size:"mini",placeholder:""},on:{change:function(e){return t.update("fontSize")}},model:{value:t.style.fontSize,callback:function(e){t.$set(t.style,"fontSize",e)},expression:"style.fontSize"}},t._l(t.fontSizeList,(function(t){return e("el-option",{key:t,style:{fontSize:t+"px"},attrs:{label:t,value:t}})})),1)],1),e("div",{staticClass:"rowItem"},[e("el-select",{staticStyle:{width:"80px"},attrs:{size:"mini",placeholder:""},on:{change:function(e){return t.update("textAlign")}},model:{value:t.style.textAlign,callback:function(e){t.$set(t.style,"textAlign",e)},expression:"style.textAlign"}},t._l(t.alignList,(function(t){return e("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1)],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"btnGroup"},[e("el-tooltip",{attrs:{content:t.$t("style.color"),placement:"bottom"}},[e("div",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],staticClass:"styleBtn"},[t._v(" A "),e("span",{staticClass:"colorShow",style:{backgroundColor:t.style.color||"#eee"}})])]),e("el-tooltip",{attrs:{content:t.$t("style.addFontWeight"),placement:"bottom"}},[e("div",{staticClass:"styleBtn",class:{actived:"bold"===t.style.fontWeight},on:{click:t.toggleFontWeight}},[t._v(" B ")])]),e("el-tooltip",{attrs:{content:t.$t("style.italic"),placement:"bottom"}},[e("div",{staticClass:"styleBtn i",class:{actived:"italic"===t.style.fontStyle},on:{click:t.toggleFontStyle}},[t._v(" I ")])]),e("el-tooltip",{attrs:{content:t.$t("style.textDecoration"),placement:"bottom"}},[e("div",{directives:[{name:"popover",rawName:"v-popover:popover2",arg:"popover2"}],staticClass:"styleBtn u",style:{textDecoration:t.style.textDecoration||"none"}},[t._v(" U ")])])],1),e("el-popover",{ref:"popover",attrs:{placement:"bottom",trigger:"hover"}},[e("Color",{attrs:{color:t.style.color},on:{change:t.changeFontColor}})],1),e("el-popover",{ref:"popover2",attrs:{placement:"bottom",trigger:"hover"}},[e("el-radio-group",{attrs:{size:"mini"},on:{change:function(e){return t.update("textDecoration")}},model:{value:t.style.textDecoration,callback:function(e){t.$set(t.style,"textDecoration",e)},expression:"style.textDecoration"}},[e("el-radio-button",{attrs:{label:"none"}},[t._v(t._s(t.$t("style.none")))]),e("el-radio-button",{attrs:{label:"underline"}},[t._v(t._s(t.$t("style.underline")))]),e("el-radio-button",{attrs:{label:"line-through"}},[t._v(t._s(t.$t("style.lineThrough")))]),e("el-radio-button",{attrs:{label:"overline"}},[t._v(t._s(t.$t("style.overline")))])],1)],1)],1),e("div",{staticClass:"title"},[t._v(t._s(t.$t("style.border")))]),e("div",{staticClass:"row"},[e("div",{staticClass:"rowItem"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("style.color")))]),e("span",{directives:[{name:"popover",rawName:"v-popover:popover3",arg:"popover3"}],staticClass:"block",style:{width:"80px",backgroundColor:t.style.borderColor}}),e("el-popover",{ref:"popover3",attrs:{placement:"bottom",trigger:"hover"}},[e("Color",{attrs:{color:t.style.borderColor},on:{change:t.changeBorderColor}})],1)],1),e("div",{staticClass:"rowItem"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("style.style")))]),e("el-select",{staticStyle:{width:"80px"},attrs:{size:"mini",placeholder:""},on:{change:function(e){return t.update("borderDasharray")}},model:{value:t.style.borderDasharray,callback:function(e){t.$set(t.style,"borderDasharray",e)},expression:"style.borderDasharray"}},t._l(t.borderDasharrayList,(function(a){return e("el-option",{key:a.value,attrs:{label:a.name,value:a.value}},[e("svg",{attrs:{width:"120",height:"34"}},[e("line",{attrs:{x1:"10",y1:"17",x2:"110",y2:"17","stroke-width":"2",stroke:t.style.borderDasharray===a.value?"#409eff":t.isDark?"#fff":"#000","stroke-dasharray":a.value}})])])})),1)],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"rowItem"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("style.width")))]),e("el-select",{staticStyle:{width:"80px"},attrs:{size:"mini",placeholder:""},on:{change:function(e){return t.update("borderWidth")}},model:{value:t.style.borderWidth,callback:function(e){t.$set(t.style,"borderWidth",e)},expression:"style.borderWidth"}},t._l(t.borderWidthList,(function(a){return e("el-option",{key:a,attrs:{label:a,value:a}},[a>0?e("span",{staticClass:"borderLine",class:{isDark:t.isDark},style:{height:a+"px"}}):t._e()])})),1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:"rectangle"===t.style.shape,expression:"style.shape === 'rectangle'"}],staticClass:"rowItem"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("style.borderRadius")))]),e("el-select",{staticStyle:{width:"80px"},attrs:{size:"mini",placeholder:""},on:{change:function(e){return t.update("borderRadius")}},model:{value:t.style.borderRadius,callback:function(e){t.$set(t.style,"borderRadius",e)},expression:"style.borderRadius"}},t._l(t.borderRadiusList,(function(t){return e("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)]),e("div",{staticClass:"title"},[t._v(t._s(t.$t("style.background")))]),e("div",{staticClass:"row"},[e("div",{staticClass:"rowItem"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("style.color")))]),e("span",{directives:[{name:"popover",rawName:"v-popover:popover4",arg:"popover4"}],staticClass:"block",style:{backgroundColor:t.style.fillColor}}),e("el-popover",{ref:"popover4",attrs:{placement:"bottom",trigger:"hover"}},[e("Color",{attrs:{color:t.style.fillColor},on:{change:t.changeFillColor}})],1),e("span",{staticClass:"name",staticStyle:{"margin-left":"20px"}},[t._v(t._s(t.$t("style.gradientStyle")))]),e("el-checkbox",{on:{change:function(e){return t.update("gradientStyle")}},model:{value:t.style.gradientStyle,callback:function(e){t.$set(t.style,"gradientStyle",e)},expression:"style.gradientStyle"}})],1)]),t.style.gradientStyle?e("div",{staticClass:"row"},[e("div",{staticClass:"rowItem"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("style.startColor")))]),e("span",{directives:[{name:"popover",rawName:"v-popover:popover6",arg:"popover6"}],staticClass:"block",style:{backgroundColor:t.style.startColor}}),e("el-popover",{ref:"popover6",attrs:{placement:"bottom",trigger:"hover"}},[e("Color",{attrs:{color:t.style.startColor},on:{change:t.changeStartColor}})],1)],1),e("div",{staticClass:"rowItem"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("style.endColor")))]),e("span",{directives:[{name:"popover",rawName:"v-popover:popover7",arg:"popover7"}],staticClass:"block",style:{backgroundColor:t.style.endColor}}),e("el-popover",{ref:"popover7",attrs:{placement:"bottom",trigger:"hover"}},[e("Color",{attrs:{color:t.style.endColor},on:{change:t.changeEndColor}})],1)],1),e("div",{staticClass:"rowItem"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("style.direction")))]),e("el-select",{staticStyle:{width:"80px"},attrs:{size:"mini",placeholder:""},on:{change:function(e){return t.update("linearGradientDir")}},model:{value:t.style.linearGradientDir,callback:function(e){t.$set(t.style,"linearGradientDir",e)},expression:"style.linearGradientDir"}},t._l(t.linearGradientDirList,(function(t){return e("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1)],1)]):t._e(),e("div",{staticClass:"title"},[t._v(t._s(t.$t("style.shape")))]),e("div",{staticClass:"row"},[e("div",{staticClass:"rowItem"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("style.shape")))]),e("el-select",{staticStyle:{width:"120px"},attrs:{size:"mini",placeholder:""},on:{change:function(e){return t.update("shape")}},model:{value:t.style.shape,callback:function(e){t.$set(t.style,"shape",e)},expression:"style.shape"}},t._l(t.shapeList,(function(a){return e("el-option",{key:a.value,staticStyle:{display:"flex","justify-content":"center","align-items":"center"},attrs:{label:a.name,value:a.value}},[e("svg",{staticStyle:{"margin-top":"5px"},attrs:{width:a.width||60,height:a.height||26}},[e("path",{attrs:{d:t.shapeListMap[a.value],fill:"none",stroke:t.style.shape===a.value?"#409eff":t.isDark?"#fff":"#000","stroke-width":"2"}})])])})),1)],1)]),e("div",{staticClass:"title"},[t._v(t._s(t.$t("style.line")))]),e("div",{staticClass:"row"},[e("div",{staticClass:"rowItem"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("style.color")))]),e("span",{directives:[{name:"popover",rawName:"v-popover:popover5",arg:"popover5"}],staticClass:"block",style:{width:"80px",backgroundColor:t.style.lineColor}}),e("el-popover",{ref:"popover5",attrs:{placement:"bottom",trigger:"hover"}},[e("Color",{attrs:{color:t.style.lineColor},on:{change:t.changeLineColor}})],1)],1),e("div",{staticClass:"rowItem"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("style.style")))]),e("el-select",{staticStyle:{width:"80px"},attrs:{size:"mini",placeholder:""},on:{change:function(e){return t.update("lineDasharray")}},model:{value:t.style.lineDasharray,callback:function(e){t.$set(t.style,"lineDasharray",e)},expression:"style.lineDasharray"}},t._l(t.borderDasharrayList,(function(a){return e("el-option",{key:a.value,attrs:{label:a.name,value:a.value}},[e("svg",{attrs:{width:"120",height:"34"}},[e("line",{attrs:{x1:"10",y1:"17",x2:"110",y2:"17","stroke-width":"2",stroke:t.style.lineDasharray===a.value?"#409eff":t.isDark?"#fff":"#000","stroke-dasharray":a.value}})])])})),1)],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"rowItem"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("style.width")))]),e("el-select",{staticStyle:{width:"80px"},attrs:{size:"mini",placeholder:""},on:{change:function(e){return t.update("lineWidth")}},model:{value:t.style.lineWidth,callback:function(e){t.$set(t.style,"lineWidth",e)},expression:"style.lineWidth"}},t._l(t.borderWidthList,(function(a){return e("el-option",{key:a,attrs:{label:a,value:a}},[a>0?e("span",{staticClass:"borderLine",class:{isDark:t.isDark},style:{height:a+"px"}}):t._e()])})),1)],1),e("div",{staticClass:"rowItem"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("style.arrowDir")))]),e("el-select",{staticStyle:{width:"80px"},attrs:{size:"mini",placeholder:""},on:{change:function(e){return t.update("lineMarkerDir")}},model:{value:t.style.lineMarkerDir,callback:function(e){t.$set(t.style,"lineMarkerDir",e)},expression:"style.lineMarkerDir"}},[e("el-option",{key:"start",attrs:{label:t.$t("style.arrowDirStart"),value:"start"}}),e("el-option",{key:"end",attrs:{label:t.$t("style.arrowDirEnd"),value:"end"}})],1)],1)]),e("div",{staticClass:"title"},[t._v(t._s(t.$t("style.nodePadding")))]),e("div",{staticClass:"row noBottom"},[e("div",{staticClass:"rowItem"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("style.horizontal")))]),e("el-slider",{staticStyle:{width:"200px"},on:{change:function(e){return t.update("paddingX")}},model:{value:t.style.paddingX,callback:function(e){t.$set(t.style,"paddingX",e)},expression:"style.paddingX"}})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"rowItem"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("style.vertical")))]),e("el-slider",{staticStyle:{width:"200px"},on:{change:function(e){return t.update("paddingY")}},model:{value:t.style.paddingY,callback:function(e){t.$set(t.style,"paddingY",e)},expression:"style.paddingY"}})],1)]),e("div",{staticClass:"title"},[t._v(t._s(t.$t("style.img")))]),e("div",{staticClass:"row"},[e("div",{staticClass:"rowItem"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("style.placement")))]),e("el-radio-group",{attrs:{size:"mini"},on:{change:function(e){return t.update("imgPlacement")}},model:{value:t.style.imgPlacement,callback:function(e){t.$set(t.style,"imgPlacement",e)},expression:"style.imgPlacement"}},[e("el-radio-button",{attrs:{label:"top"}},[t._v(t._s(t.$t("style.top")))]),e("el-radio-button",{attrs:{label:"bottom"}},[t._v(t._s(t.$t("style.bottom")))]),e("el-radio-button",{attrs:{label:"left"}},[t._v(t._s(t.$t("style.left")))]),e("el-radio-button",{attrs:{label:"right"}},[t._v(t._s(t.$t("style.right")))])],1)],1)]),e("div",{staticClass:"title"},[t._v(t._s(t.$t("style.tag")))]),e("div",{staticClass:"row"},[e("div",{staticClass:"rowItem"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("style.placement")))]),e("el-radio-group",{attrs:{size:"mini"},on:{change:function(e){return t.update("tagPlacement")}},model:{value:t.style.tagPlacement,callback:function(e){t.$set(t.style,"tagPlacement",e)},expression:"style.tagPlacement"}},[e("el-radio-button",{attrs:{label:"right"}},[t._v(t._s(t.$t("style.right")))]),e("el-radio-button",{attrs:{label:"bottom"}},[t._v(t._s(t.$t("style.bottom")))])],1)],1)])])]):e("div",{staticClass:"tipBox"},[e("div",{staticClass:"tipIcon iconfont icontianjiazijiedian"}),e("div",{staticClass:"tipText"},[t._v(t._s(t.$t("style.selectNodeTip")))])])])},s=[],o=(a("0643"),a("2382"),a("fffc"),a("4e3e"),a("a573"),a("62a5")),n=a("aadb"),l=a("f121"),r=a("2f62"),c={components:{Sidebar:o["a"],Color:n["a"]},props:{mindMap:{type:Object}},data(){return{fontSizeList:l["k"],borderWidthList:l["g"],borderRadiusList:l["f"],activeNodes:[],style:{shape:"",paddingX:0,paddingY:0,color:"",fontFamily:"",fontSize:"",textDecoration:"",fontWeight:"",fontStyle:"",borderWidth:"",borderColor:"",fillColor:"",borderDasharray:"",borderRadius:"",lineColor:"",lineDasharray:"",lineWidth:"",lineMarkerDir:"",gradientStyle:!1,startColor:"",endColor:"",linearGradientDir:"",lineFlow:!1,lineFlowForward:!0,lineFlowDuration:1,textAlign:"",imgPlacement:"",tagPlacement:""}}},computed:{...Object(r["c"])({isDark:t=>t.localConfig.isDark,activeSidebar:t=>t.activeSidebar}),fontFamilyList(){return l["j"][this.$i18n.locale]||l["j"].zh},borderDasharrayList(){return l["e"][this.$i18n.locale]||l["e"].zh},shapeList(){return[...l["v"][this.$i18n.locale]||l["v"].zh,...this.mindMap.extendShapeList.filter(t=>!["fishHead"].includes(t.name)).map(t=>({width:"40px",name:t.nameShow,value:t.name}))]},shapeListMap(){const t={};return this.mindMap.extendShapeList.forEach(e=>{t[e.name]=e.path}),{...l["w"],...t}},linearGradientDirList(){return l["r"][this.$i18n.locale]||l["r"].zh},alignList(){return l["a"][this.$i18n.locale]||l["a"].zh}},watch:{activeSidebar(t){this.$refs.sidebar.show="nodeStyle"===t}},created(){this.$bus.$on("node_active",this.onNodeActive)},beforeDestroy(){this.$bus.$off("node_active",this.onNodeActive)},methods:{onNodeActive(...t){this.$nextTick(()=>{this.activeNodes=[...t[1]],this.initNodeStyle()})},initNodeStyle(){this.activeNodes.length<=0||(Object.keys(this.style).forEach(t=>{this.style[t]=this.activeNodes[0].getStyle(t,!1)}),this.initLinearGradientDir())},initLinearGradientDir(){const t=this.activeNodes[0].getStyle("startDir",!1),e=this.activeNodes[0].getStyle("endDir",!1),a=this.linearGradientDirList.find(a=>a.start[0]===t[0]&&a.start[1]===t[1]&&a.end[0]===e[0]&&a.end[1]===e[1]);a&&(this.style.linearGradientDir=a.value)},update(t){if("linearGradientDir"===t){const t=this.linearGradientDirList.find(t=>t.value===this.style.linearGradientDir);this.activeNodes.forEach(e=>{e.setStyles({startDir:[...t.start],endDir:[...t.end]})})}else this.activeNodes.forEach(e=>{e.setStyle(t,this.style[t])})},toggleFontWeight(){"bold"===this.style.fontWeight?this.style.fontWeight="normal":this.style.fontWeight="bold",this.update("fontWeight")},toggleFontStyle(){"italic"===this.style.fontStyle?this.style.fontStyle="normal":this.style.fontStyle="italic",this.update("fontStyle")},changeFontColor(t){this.style.color=t,this.update("color")},changeBorderColor(t){this.style.borderColor=t,this.update("borderColor")},changeLineColor(t){this.style.lineColor=t,this.update("lineColor")},changeFillColor(t){this.style.fillColor=t,this.update("fillColor")},changeStartColor(t){this.style.startColor=t,this.update("startColor")},changeEndColor(t){this.style.endColor=t,this.update("endColor")}}},d=c,h=(a("623f"),a("e305"),a("2877")),u=Object(h["a"])(d,i,s,!1,null,"8c4be2ca",null);e["a"]=u.exports}}]);